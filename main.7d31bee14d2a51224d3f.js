(self.webpackChunkgrocery_store1=self.webpackChunkgrocery_store1||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},9713:(e,t,n)=>{"use strict";n.d(t,{l3:()=>s,_j:()=>r,LC:()=>i,ZN:()=>g,jt:()=>a,pV:()=>p,F4:()=>h,IO:()=>f,vP:()=>l,SB:()=>u,oB:()=>c,eR:()=>d,X$:()=>o,ZE:()=>_,k1:()=>y});class r{}class i{}const s="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function l(e,t=null){return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function u(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e){return{type:5,steps:e}}function d(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function p(e=null){return{type:9,options:e}}function f(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function m(e){Promise.resolve(null).then(e)}class g{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class _{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?m(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const y="!"},7388:(e,t,n)=>{"use strict";n.d(t,{rt:()=>W,s1:()=>x,$s:()=>S,Qr:()=>V,kH:()=>H,mK:()=>N,Em:()=>k,tE:()=>z,qV:()=>D,qm:()=>Y,Kd:()=>M,X6:()=>U,yG:()=>B});var r=n(1116),i=n(5366),s=n(5959),o=n(7570),a=n(878),l=n(9235),c=n(6599),u=n(7701),h=n(3835),d=n(9996),p=n(611),f=n(9861),m=n(3169),g=n(7853);function _(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}const y="cdk-describedby-message-container",v="cdk-describedby-host";let b=0;const w=new Map;let C=null,S=(()=>{class e{constructor(e){this._document=e}describe(e,t,n){if(!this._canBeDescribed(e,t))return;const r=E(t,n);"string"!=typeof t?(I(t),w.set(r,{messageElement:t,referenceCount:0})):w.has(r)||this._createMessageElement(t,n),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}removeDescription(e,t,n){if(!t||!this._isElementNode(e))return;const r=E(t,n);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),"string"==typeof t){const e=w.get(r);e&&0===e.referenceCount&&this._deleteMessageElement(r)}C&&0===C.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute(v);C&&this._deleteMessagesContainer(),w.clear()}_createMessageElement(e,t){const n=this._document.createElement("div");I(n),n.textContent=e,t&&n.setAttribute("role",t),this._createMessagesContainer(),C.appendChild(n),w.set(E(e,t),{messageElement:n,referenceCount:0})}_deleteMessageElement(e){const t=w.get(e),n=t&&t.messageElement;C&&n&&C.removeChild(n),w.delete(e)}_createMessagesContainer(){if(!C){const e=this._document.getElementById(y);e&&e.parentNode&&e.parentNode.removeChild(e),C=this._document.createElement("div"),C.id=y,C.style.visibility="hidden",C.classList.add("cdk-visually-hidden"),this._document.body.appendChild(C)}}_deleteMessagesContainer(){C&&C.parentNode&&(C.parentNode.removeChild(C),C=null)}_removeCdkDescribedByReferenceIds(e){const t=_(e,"aria-describedby").filter(e=>0!=e.indexOf("cdk-describedby-message"));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=w.get(t);!function(e,t,n){const r=_(e,t);r.some(e=>e.trim()==n.trim())||(r.push(n.trim()),e.setAttribute(t,r.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute(v,""),n.referenceCount++}_removeMessageReference(e,t){const n=w.get(t);n.referenceCount--,function(e,t,n){const r=_(e,t).filter(e=>e!=n.trim());r.length?e.setAttribute(t,r.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute(v)}_isElementDescribedByMessage(e,t){const n=_(e,"aria-describedby"),r=w.get(t),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":`${t}`.trim(),r=e.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.K0))},token:e,providedIn:"root"}),e})();function E(e,t){return"string"==typeof e?`${t||""}/${e}`:e}function I(e){e.id||(e.id="cdk-describedby-message-"+b++)}class T{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new s.xQ,this._typeaheadSubscription=o.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new s.xQ,this.change=new s.xQ,e instanceof i.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,c.b)(e=>this._pressedLetters.push(e)),(0,u.b)(e),(0,h.h)(()=>this._pressedLetters.length>0),(0,d.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case l.Mf:return void this.tabOut.next();case l.JH:if(this._vertical&&n){this.setNextItemActive();break}return;case l.LH:if(this._vertical&&n){this.setPreviousItemActive();break}return;case l.SV:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case l.oh:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case l.Sd:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case l.uR:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||(0,l.Vb)(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=l.A&&t<=l.Z||t>=l.xE&&t<=l.aO)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof i.n_E?this._items.toArray():this._items}}class x extends T{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class k extends T{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let A=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(t){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===O(t))return!1;if(!this.isVisible(t))return!1}let r=e.nodeName.toLowerCase(),i=O(e);return e.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||R(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(m.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(m.t4))},token:e,providedIn:"root"}),e})();function R(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function O(e){if(!R(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class P{constructor(e,t,n,r,i=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return null==n||n.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,p.q)(1)).subscribe(e)}}let D=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new P(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(A),i.LFG(i.R0b),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(A),i.LFG(i.R0b),i.LFG(r.K0))},token:e,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._document=n,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=(0,f.Ig)(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=(0,f.Ig)(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){var e,t;const n=null===(e=this._document)||void 0===e?void 0:e.activeElement;this._previouslyFocusedElement=(null===(t=null==n?void 0:n.shadowRoot)||void 0===t?void 0:t.activeElement)||n,this.focusTrap.focusInitialElementWhenReady()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(D),i.Y36(r.K0))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[i.TTD]}),e})();"undefined"!=typeof Element&&Element;const L=new i.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),F=new i.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let M=(()=>{class e{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(L,8),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(F,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(L,8),i.LFG(i.R0b),i.LFG(r.K0),i.LFG(F,8))},token:e,providedIn:"root"}),e})(),V=(()=>{class e{constructor(e,t,n,r){this._elementRef=e,this._liveAnnouncer=t,this._contentObserver=n,this._ngZone=r,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const e=this._elementRef.nativeElement.textContent;e!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(e,this._politeness),this._previousAnnouncedText=e)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(M),i.Y36(g.yq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),e})();function U(e){return 0===e.buttons}function B(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const j=new i.OlP("cdk-focus-monitor-default-options"),q=(0,m.i$)({passive:!0,capture:!0});let z=(()=>{class e{constructor(e,t,n,r){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=U(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{B(e)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=G(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=G(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(e,t=!1){const n=(0,f.fI)(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,a.of)(null);const r=(0,m.kV)(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const o={checkChildren:t,subject:new s.xQ,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const t=(0,f.fI)(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=(0,f.fI)(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOriginForCurrentEventQueue(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=G(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);n&&(n.checkChildren||t===G(e))&&this._originChanged(t,this._getFocusOrigin(e),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,q),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,q)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,q),e.addEventListener("mousedown",this._documentMousedownListener,q),e.addEventListener("touchstart",this._documentTouchstartListener,q),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,q),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,q),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,q),e.removeEventListener("mousedown",this._documentMousedownListener,q),e.removeEventListener("touchstart",this._documentTouchstartListener,q),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(m.t4),i.LFG(r.K0,8),i.LFG(j,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(m.t4),i.LFG(r.K0,8),i.LFG(j,8))},token:e,providedIn:"root"}),e})();function G(e){return e.composedPath?e.composedPath()[0]:e.target}let H=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new i.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(z))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})();const $="cdk-high-contrast-black-on-white",Z="cdk-high-contrast-white-on-black",K="cdk-high-contrast-active";let Y=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(K),e.remove($),e.remove(Z),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(K),e.add($)):2===t&&(e.add(K),e.add(Z))}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(m.t4),i.LFG(r.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(m.t4),i.LFG(r.K0))},token:e,providedIn:"root"}),e})(),W=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(Y))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[m.ud,g.Q8]]}),e})()},4720:(e,t,n)=>{"use strict";n.d(t,{vT:()=>a,Is:()=>o});var r=n(5366),i=n(1116);const s=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(i.K0)}});let o=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(s,8))},token:e,providedIn:"root"}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},8378:(e,t,n)=>{"use strict";n.d(t,{P3:()=>l,Ov:()=>h,A8:()=>d,yy:()=>c,eX:()=>u,k:()=>p,Z9:()=>a});var r=n(4710),i=n(878),s=n(5959),o=n(5366);function a(e){return e&&"function"==typeof e.connect}class l extends class{}{constructor(e){super(),this._data=e}connect(){return(0,r.b)(this._data)?this._data:(0,i.of)(this._data)}disconnect(){}}class c{applyChanges(e,t,n,r,i){e.forEachOperation((e,r,s)=>{let o,a;if(null==e.previousIndex){const i=n(e,r,s);o=t.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(t.remove(r),a=3):(o=t.get(r),t.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:e})})}detach(){}}class u{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,r,i){e.forEachOperation((e,s,o)=>{let a,l;null==e.previousIndex?(a=this._insertView(()=>n(e,s,o),o,t,r(e)),l=a?1:0):null==o?(this._detachAndCacheView(s,t),l=3):(a=this._moveView(s,o,t,r(e)),l=2),i&&i({context:null==a?void 0:a.context,operation:l,record:e})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,r){const i=this._insertViewFromCache(t,n);if(i)return void(i.context.$implicit=r);const s=e();return n.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,t){const n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,r){const i=n.get(e);return n.move(i,t),i.context.$implicit=r,i}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=t.indexOf(e);-1===n?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){const n=this._viewCache.pop();return n&&t.insert(n,e),n||null}}class h{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new s.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let d=(()=>{class e{constructor(){this._listeners=[]}notify(e,t){for(let n of this._listeners)n(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const p=new o.OlP("_ViewRepeater")},9235:(e,t,n)=>{"use strict";n.d(t,{A:()=>v,ZH:()=>r,yY:()=>g,JH:()=>m,uR:()=>u,K5:()=>s,hY:()=>o,Sd:()=>h,oh:()=>d,aO:()=>y,VM:()=>c,Ku:()=>l,SV:()=>f,L_:()=>a,Mf:()=>i,LH:()=>p,Z:()=>b,xE:()=>_,Vb:()=>w});const r=8,i=9,s=13,o=27,a=32,l=33,c=34,u=35,h=36,d=37,p=38,f=39,m=40,g=46,_=48,y=57,v=65,b=90;function w(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}},8494:(e,t,n)=>{"use strict";n.d(t,{Yg:()=>S,u3:()=>I,xu:()=>y});var r=n(5366),i=n(9861),s=n(5959),o=n(1305),a=n(7930),l=n(1784),c=n(6673);class u{constructor(e){this.total=e}call(e,t){return t.subscribe(new h(e,this.total))}}class h extends c.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}var d=n(611),p=n(7701),f=n(9996),m=n(6238),g=n(5416),_=n(3169);let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const v=new Set;let b,w=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):C}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!v.has(e))try{b||(b=document.createElement("style"),b.setAttribute("type","text/css"),document.head.appendChild(b)),b.sheet&&(b.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),v.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_.t4))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(_.t4))},token:e,providedIn:"root"}),e})();function C(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let S=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new s.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return E((0,i.Eq)(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){const t=E((0,i.Eq)(e)).map(e=>this._registerQuery(e).observable);let n=(0,o.aj)(t);return n=(0,a.z)(n.pipe((0,d.q)(1)),n.pipe(e=>e.lift(new u(1)),(0,p.b)(0))),n.pipe((0,f.U)(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(({matches:e,query:n})=>{t.matches=t.matches||e,t.breakpoints[n]=e}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new l.y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe((0,m.O)(t),(0,f.U)(({matches:t})=>({query:e,matches:t})),(0,g.R)(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(w),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(w),r.LFG(r.R0b))},token:e,providedIn:"root"}),e})();function E(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const I={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7853:(e,t,n)=>{"use strict";n.d(t,{wD:()=>u,yq:()=>c,Q8:()=>h});var r=n(9861),i=n(5366),s=n(1784),o=n(5959),a=n(7701);let l=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),c=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=(0,r.fI)(e);return new s.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new o.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(l))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(l))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new i.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,r.Ig)(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=(0,r.su)(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe((0,a.b)(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(c),i.Y36(i.SBq),i.Y36(i.R0b))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[l]}),e})()},5333:(e,t,n)=>{"use strict";n.d(t,{pI:()=>Q,xu:()=>W,_G:()=>V,aV:()=>Z,X_:()=>x,Xj:()=>N,U8:()=>X});var r=n(83),i=n(5366),s=n(3169),o=n(4720),a=n(1116),l=n(9861),c=n(2151),u=n(5959),h=n(7570),d=n(1906),p=n(6673);class f{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new m(e,this.predicate,this.inclusive))}}class m extends p.L{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}var g=n(611),_=n(5416),y=n(9235);const v=(0,s.Mq)();class b{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=(0,l.HM)(-this._previousScrollPosition.left),e.style.top=(0,l.HM)(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),v&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),v&&(t.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class w{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class C{enable(){}disable(){}attach(){}}function S(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function E(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class I{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();S(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let T=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new C,this.close=e=>new w(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new b(this._viewportRuler,this._document),this.reposition=e=>new I(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.mF),i.LFG(r.rL),i.LFG(i.R0b),i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.mF),i.LFG(r.rL),i.LFG(i.R0b),i.LFG(a.K0))},token:e,providedIn:"root"}),e})();class x{constructor(e){if(this.scrollStrategy=new C,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class k{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class A{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let R=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0))},token:e,providedIn:"root"}),e})(),O=(()=>{class e extends R{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0))},token:e,providedIn:"root"}),e})(),P=(()=>{class e extends R{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(t))break;i._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0),i.LFG(s.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0),i.LFG(s.t4))},token:e,providedIn:"root"}),e})();const D=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let N=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||D){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),D?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0),i.LFG(s.t4))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(a.K0),i.LFG(s.t4))},token:e,providedIn:"root"}),e})();class L{constructor(e,t,n,r,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new u.xQ,this._attachments=new u.xQ,this._detachments=new u.xQ,this._locationChanges=h.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new u.xQ,this._outsidePointerEvents=new u.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,g.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=(0,l.HM)(this._config.width),e.height=(0,l.HM)(this._config.height),e.minWidth=(0,l.HM)(this._config.minWidth),e.minHeight=(0,l.HM)(this._config.minHeight),e.maxWidth=(0,l.HM)(this._config.maxWidth),e.maxHeight=(0,l.HM)(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;(0,l.Eq)(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,_.R)((0,d.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const F="cdk-overlay-connected-position-bounding-box",M=/([A-Za-z%]+)$/;class V{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new u.xQ,this._resizeSubscription=h.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(F),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&U(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(F),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=j(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=B(this._overlayRef.getConfig().minHeight),o=B(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=j(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),l=Math.max(i.left-n.left-e.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new A(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=(0,l.HM)(n.height),r.top=(0,l.HM)(n.top),r.bottom=(0,l.HM)(n.bottom),r.width=(0,l.HM)(n.width),r.left=(0,l.HM)(n.left),r.right=(0,l.HM)(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=(0,l.HM)(e)),i&&(r.maxWidth=(0,l.HM)(i))}this._lastBoundingBoxSize=n,U(this._boundingBox.style,r)}_resetBoundingBoxStyles(){U(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){U(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();U(n,this._getExactOverlayY(t,e,r)),U(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=(0,l.HM)(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=(0,l.HM)(s.maxWidth):i&&(n.maxWidth="")),U(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=(0,l.HM)(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=(0,l.HM)(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E(e,n),isOriginOutsideView:S(e,n),isOverlayClipped:E(t,n),isOverlayOutsideView:S(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&(0,l.Eq)(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof i.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function U(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(M);return n&&"px"!==n?null:parseFloat(t)}return e||null}function j(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class q{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new V(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new k(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const z="cdk-global-overlay-wrapper";class G{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(z),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(z),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let H=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new G}connectedTo(e,t,n){return new q(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new V(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.rL),i.LFG(a.K0),i.LFG(s.t4),i.LFG(N))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.rL),i.LFG(a.K0),i.LFG(s.t4),i.LFG(N))},token:e,providedIn:"root"}),e})(),$=0,Z=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new x(e);return i.direction=i.direction||this._directionality.value,new L(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+$++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(i.z2F)),new c.u0(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(T),i.LFG(N),i.LFG(i._Vd),i.LFG(H),i.LFG(O),i.LFG(i.zs3),i.LFG(i.R0b),i.LFG(a.K0),i.LFG(o.Is),i.LFG(a.Ye),i.LFG(P))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const K=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Y=new i.OlP("cdk-connected-overlay-scroll-strategy");let W=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),Q=(()=>{class e{constructor(e,t,n,r,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.w.EMPTY,this._attachSubscription=h.w.EMPTY,this._detachSubscription=h.w.EMPTY,this._positionSubscription=h.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new i.vpe,this.positionChange=new i.vpe,this.attach=new i.vpe,this.detach=new i.vpe,this.overlayKeydown=new i.vpe,this.overlayOutsideClick=new i.vpe,this._templatePortal=new c.UE(t,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=(0,l.Ig)(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=(0,l.Ig)(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=(0,l.Ig)(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=(0,l.Ig)(e)}get push(){return this._push}set push(e){this._push=(0,l.Ig)(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=K);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),e.keyCode!==y.hY||this.disableClose||(0,y.Vb)(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new x({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new f(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Z),i.Y36(i.Rgc),i.Y36(i.s_b),i.Y36(Y),i.Y36(o.Is,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[i.TTD]}),e})();const J={provide:Y,deps:[Z],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Z,J],imports:[[o.vT,c.eL,r.Cl],r.Cl]}),e})()},3169:(e,t,n)=>{"use strict";n.d(t,{t4:()=>a,ud:()=>l,kV:()=>y,_i:()=>_,qK:()=>u,i$:()=>m,Mq:()=>g});var r=n(5366),i=n(1116);let s;try{s="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(v){s=!1}let o,a=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,i.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!s)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const c=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function u(){if(o)return o;if("object"!=typeof document||!document)return o=new Set(c),o;let e=document.createElement("input");return o=new Set(c.filter(t=>(e.setAttribute("type",t),e.type===t))),o}let h,d,p,f;function m(e){return function(){if(null==h&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?e:!!e.capture}function g(){if(null==p){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p=!1,p;if("scrollBehavior"in document.documentElement.style)p=!0;else{const e=Element.prototype.scrollTo;p=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return p}function _(){if("object"!=typeof document||!document)return 0;if(null==d){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),d=0,0===e.scrollLeft&&(e.scrollLeft=1,d=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return d}function y(e){if(function(){if(null==f){const e="undefined"!=typeof document?document.head:null;f=!(!e||!e.createShadowRoot&&!e.attachShadow)}return f}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}},2151:(e,t,n)=>{"use strict";n.d(t,{en:()=>c,ig:()=>h,Pl:()=>d,C5:()=>o,u0:()=>u,eL:()=>p,UE:()=>a});var r=n(5366),i=n(1116);class s{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class o extends s{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class a extends s{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class l extends s{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class c{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof o?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof a?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof l?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u extends c{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let h=(()=>{class e extends a{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc),r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[r.qOj]}),e})(),d=(()=>{class e extends c{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(i.K0))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},83:(e,t,n)=>{"use strict";n.d(t,{PQ:()=>g,ZD:()=>y,mF:()=>m,Cl:()=>v,rL:()=>_});var r=n(9861),i=n(5366),s=n(5959),o=n(878),a=n(1784),l=n(7254),c=(n(1741),n(2709),n(7570),n(4710),n(8720),n(810)),u=n(3835),h=n(5416),d=(n(6238),n(2855),n(4689),n(3289),n(3169)),p=n(1116),f=n(4720);n(8378);let m=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new s.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new a.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe((0,c.e)(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,o.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe((0,u.h)(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=(0,r.fI)(t),i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,l.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(d.t4),i.LFG(p.K0,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(i.R0b),i.LFG(d.t4),i.LFG(p.K0,8))},token:e,providedIn:"root"}),e})(),g=(()=>{class e{constructor(e,t,n,r){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=r,this._destroyed=new s.xQ,this._elementScrolled=new a.y(e=>this.ngZone.runOutsideAngular(()=>(0,l.R)(this.elementRef.nativeElement,"scroll").pipe((0,h.R)(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=(0,d._i)()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==(0,d._i)()?e.left=e.right:1==(0,d._i)()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;(0,d.Mq)()?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t="left",n="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==e?e=i?n:t:"end"==e&&(e=i?t:n),i&&2==(0,d._i)()?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==(0,d._i)()?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(m),i.Y36(i.R0b),i.Y36(f.Is,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),_=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new s.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe((0,c.e)(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(d.t4),i.LFG(i.R0b),i.LFG(p.K0,8))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(d.t4),i.LFG(i.R0b),i.LFG(p.K0,8))},token:e,providedIn:"root"}),e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[f.vT,d.ud,y],f.vT,y]}),e})()},9861:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>o,Ig:()=>i,HM:()=>a,fI:()=>l,su:()=>s,du:()=>c});var r=n(5366);function i(e){return null!=e&&"false"!=`${e}`}function s(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function o(e){return Array.isArray(e)?e:[e]}function a(e){return null==e?"":"string"==typeof e?e:`${e}px`}function l(e){return e instanceof r.SBq?e.nativeElement:e}function c(e,t=/\s+/){const n=[];if(null!=e){const r=Array.isArray(e)?e:`${e}`.split(t);for(const e of r){const t=`${e}`.trim();t&&n.push(t)}}return n}},1116:(e,t,n)=>{"use strict";n.d(t,{mr:()=>b,Ov:()=>K,ez:()=>Y,K0:()=>l,Do:()=>C,V_:()=>h,Ye:()=>S,S$:()=>y,mk:()=>O,sg:()=>D,O5:()=>L,PC:()=>q,RF:()=>U,n9:()=>B,ED:()=>j,tP:()=>z,b0:()=>w,lw:()=>c,EM:()=>X,JF:()=>ne,NF:()=>Q,PM:()=>J,w_:()=>a,bD:()=>W,q:()=>s,Mx:()=>R,HT:()=>o});var r=n(5366);let i=null;function s(){return i}function o(e){i||(i=e)}class a{}const l=new r.OlP("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l))},e.\u0275prov=(0,r.Yz7)({factory:f,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function f(){return new d((0,r.LFG)(l))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function _(e){return e&&"?"!==e[0]?"?"+e:e}let y=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:v,token:e,providedIn:"root"}),e})();function v(e){const t=(0,r.LFG)(l).location;return new w((0,r.LFG)(c),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let w=(()=>{class e extends y{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+_(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+_(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+_(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e extends y{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+_(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+_(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),S=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(I(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+_(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(y),r.LFG(c))},e.normalizeQueryParams=_,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:E,token:e,providedIn:"root"}),e})();function E(){return new S((0,r.LFG)(y),(0,r.LFG)(c))}function I(e){return e.replace(/\/index.html$/,"")}var T=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});const x=r.kL8;class k{}let A=(()=>{class e extends k{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(x(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function R(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let O=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class P{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class N{constructor(e,t){this.record=e,this.view=t}}let L=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){M("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){M("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class F{constructor(){this.$implicit=null,this.ngIf=null}}function M(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class V{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let U=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),B=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new V(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(U,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),j=(()=>{class e{constructor(e,t,n){n._addDefault(new V(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(U,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),q=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),z=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),e})();class G{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class H{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const $=new H,Z=new G;let K=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return $;if((0,r.F4k)(t))return Z;throw Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:k,useClass:A}]}),e})();const W="browser";function Q(e){return e===W}function J(e){return"server"===e}let X=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new ee((0,r.LFG)(l),window)}),e})();class ee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=te(this.window.history)||te(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function te(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ne{}},2693:(e,t,n)=>{"use strict";n.d(t,{eN:()=>k,JF:()=>j});var r=n(1116),i=n(5366),s=n(878),o=n(1784),a=n(436),l=n(3835),c=n(9996);class u{}class h{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p{encodeKey(e){return f(e)}encodeValue(e){return f(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function f(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function m(e){return`${e}`}class g{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new g({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(m(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(m(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class _{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function y(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function v(e){return"undefined"!=typeof Blob&&e instanceof Blob}function b(e){return"undefined"!=typeof FormData&&e instanceof FormData}class w{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.context||(this.context=new _),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new g,this.urlWithParams=t}serializeBody(){return null===this.body?null:y(this.body)||v(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:v(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new w(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var C=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class S{constructor(e,t=200,n="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E extends S{constructor(e={}){super(e),this.type=C.ResponseHeader}clone(e={}){return new E({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class I extends S{constructor(e={}){super(e),this.type=C.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new I({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class T extends S{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function x(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let k=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof w)r=e;else{let i,s;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new w(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,s.of)(r).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof w||"events"===n.observe)return i;const o=i.pipe((0,l.h)(e=>e instanceof I));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe((0,c.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe((0,c.U)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new g).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,x(n,t))}post(e,t,n={}){return this.request("POST",e,x(n,t))}put(e,t,n={}){return this.request("PUT",e,x(n,t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(u))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class A{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const R=new i.OlP("HTTP_INTERCEPTORS");let O=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const P=/^\)\]\}',?\n/;let D=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new o.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new E({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(P,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new I({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new T({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new T({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:C.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:C.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:C.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.JF))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const N=new i.OlP("XSRF_COOKIE_NAME"),L=new i.OlP("XSRF_HEADER_NAME");class F{}let M=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0),i.LFG(i.Lbi),i.LFG(N))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),V=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(F),i.LFG(L))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(R,[]);this.chain=e.reduceRight((e,t)=>new A(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(h),i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),B=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:V,useClass:O}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:N,useValue:t.cookieName}:[],t.headerName?{provide:L,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[V,{provide:R,useExisting:V,multi:!0},{provide:F,useClass:M},{provide:N,useValue:"XSRF-TOKEN"},{provide:L,useValue:"X-XSRF-TOKEN"}]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[k,{provide:u,useClass:U},D,{provide:h,useExisting:D}],imports:[[B.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},5366:(e,t,n)=>{"use strict";n.d(t,{deG:()=>Sn,tb:()=>ep,AFp:()=>Yd,ip1:()=>Zd,CZH:()=>Kd,hGG:()=>Zp,z2F:()=>Mp,sBO:()=>Sh,Sil:()=>hp,_Vd:()=>Zu,EJc:()=>rp,SBq:()=>Qu,qLn:()=>gi,vpe:()=>Cd,gxx:()=>wo,tBr:()=>er,XFs:()=>O,GSi:()=>Aa,OlP:()=>Cn,zs3:()=>Fo,ZZ4:()=>gh,aQg:()=>yh,soG:()=>np,LVF:()=>Hd,YKP:()=>Dh,v3s:()=>Up,h0i:()=>Ph,PXZ:()=>Pp,R0b:()=>fp,FiY:()=>tr,Lbi:()=>Xd,g9A:()=>Jd,n_E:()=>Ed,Qsj:()=>eh,FYo:()=>Xu,JOm:()=>Ei,Tiy:()=>nh,q3G:()=>ti,tp0:()=>rr,EAV:()=>qp,Rgc:()=>kh,dDg:()=>wp,DyG:()=>In,q4F:()=>ih,GfV:()=>rh,s_b:()=>Lh,ifc:()=>M,eFA:()=>Dp,Ez6:()=>C,G48:()=>Rp,Gpc:()=>p,f3M:()=>Qn,X6Q:()=>Ap,_c5:()=>Hp,VLi:()=>Ep,c2e:()=>tp,zSh:()=>So,wAp:()=>Rc,vHH:()=>g,EiD:()=>Xr,mCW:()=>Lr,qzn:()=>Sr,JVY:()=>Ir,pB0:()=>Ar,eBb:()=>xr,L6k:()=>Tr,LAX:()=>kr,cg1:()=>xc,Tjo:()=>Gp,kL8:()=>kc,yhl:()=>Er,dqk:()=>q,sIi:()=>Wo,CqO:()=>Ga,QGY:()=>qa,F4k:()=>za,zlt:()=>Zh,RDi:()=>Ae,AaK:()=>u,z3N:()=>Cr,qOj:()=>Uo,TTD:()=>we,_Bn:()=>Gu,xp6:()=>bs,uIk:()=>ia,Gre:()=>Yl,ekj:()=>Cl,Suo:()=>Fd,Xpm:()=>X,lG2:()=>ae,Yz7:()=>w,cJS:()=>S,oAB:()=>ie,Yjl:()=>le,Y36:()=>Oa,_UZ:()=>Ma,GkF:()=>Ba,BQk:()=>Ua,ynx:()=>Va,qZA:()=>Fa,TgZ:()=>La,EpF:()=>ja,n5z:()=>dn,Ikx:()=>Cc,LFG:()=>Yn,$8M:()=>fn,NdJ:()=>Ha,CRH:()=>Md,kcU:()=>At,O4$:()=>xt,oxw:()=>Wa,ALo:()=>pd,lcZ:()=>fd,Hsn:()=>Xa,F$t:()=>Ja,Q6J:()=>Da,DdM:()=>Qh,VKq:()=>Jh,WLB:()=>Xh,iGM:()=>Nd,MAs:()=>Ea,pYS:()=>Ci,CHM:()=>We,LSH:()=>ii,kYT:()=>se,Udp:()=>wl,WFA:()=>$a,d8E:()=>Sc,YNc:()=>Sa,W1O:()=>jd,_uU:()=>Vl,Oqu:()=>Ul,hij:()=>Bl,Gf:()=>Ld});var r=n(5959),i=n(7570),s=n(1784),o=n(1906),a=n(1055);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function v(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${y(e)} found${n}`)}function b(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const C=w;function S(e){return{providers:e.providers||[],imports:e.imports||[]}}function E(e){return I(e,x)||I(e,A)}function I(e,t){return e.hasOwnProperty(t)?e[t]:null}function T(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(R))?e[k]:null}const x=l({"\u0275prov":l}),k=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),R=l({ngInjectorDef:l});var O=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let P;function D(e){const t=P;return P=e,t}function N(e,t,n){const r=E(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==t?t:void v(u(e),"Injector")}function L(e){return{toString:e}.toString()}var F=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),M=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const V="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,q=V||j||U||B,z={},G=[],H=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),Z=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),W=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l});let J=0;function X(e){return L(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||G,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||G,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=J++,n.inputs=oe(e.inputs,t),n.outputs=oe(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(te):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(ne):null,n})}function ee(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(te),r.pipeDefs=()=>n.map(ne)}function te(e){return ce(e)||function(e){return e[$]||null}(e)}function ne(e){return function(e){return e[Z]||null}(e)}const re={};function ie(e){const t={type:e.type,bootstrap:e.bootstrap||G,declarations:e.declarations||G,imports:e.imports||G,exports:e.exports||G,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&L(()=>{re[e.id]=e.type}),t}function se(e,t){return L(()=>{const n=ue(e,!0);n.declarations=t.declarations||G,n.imports=t.imports||G,n.exports=t.exports||G})}function oe(e,t){if(null==e)return z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ae=X;function le(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function ue(e,t){const n=e[K]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const he=20,de=10;function pe(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function me(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function _e(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(W)?e[W]:null}class be{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function we(){return Ce}function Ce(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ee),Se}function Se(){const e=Ie(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ee(e,t,n,r){const i=Ie(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new be(l&&l.currentValue,t,o===z),e[r]=t}function Ie(e){return e.__ngSimpleChanges__||null}we.ngInherit=!0;const Te="http://www.w3.org/2000/svg",xe="http://www.w3.org/1998/MathML/";let ke;function Ae(e){ke=e}function Re(){return void 0!==ke?ke:"undefined"!=typeof document?document:void 0}function Oe(e){return!!e.listen}const Pe={createRenderer:(e,t)=>Re()};function De(e){for(;Array.isArray(e);)e=e[0];return e}function Ne(e,t){return De(t[e])}function Le(e,t){return De(t[e.index])}function Fe(e,t){return e.data[t]}function Me(e,t){return e[t]}function Ve(e,t){const n=t[e];return pe(n)?n:n[0]}function Ue(e){return 4==(4&e[2])}function Be(e){return 128==(128&e[2])}function je(e,t){return null==t?null:e[t]}function qe(e){e[18]=0}function ze(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ge={lFrame:bt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function He(){return Ge.bindingsEnabled}function $e(){Ge.bindingsEnabled=!0}function Ze(){Ge.bindingsEnabled=!1}function Ke(){return Ge.lFrame.lView}function Ye(){return Ge.lFrame.tView}function We(e){return Ge.lFrame.contextLView=e,e[8]}function Qe(){let e=Je();for(;null!==e&&64===e.type;)e=e.parent;return e}function Je(){return Ge.lFrame.currentTNode}function Xe(){const e=Ge.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function et(e,t){const n=Ge.lFrame;n.currentTNode=e,n.isParent=t}function tt(){return Ge.lFrame.isParent}function nt(){Ge.lFrame.isParent=!1}function rt(){return Ge.isInCheckNoChangesMode}function it(e){Ge.isInCheckNoChangesMode=e}function st(){const e=Ge.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ot(){return Ge.lFrame.bindingIndex}function at(e){return Ge.lFrame.bindingIndex=e}function lt(){return Ge.lFrame.bindingIndex++}function ct(e){const t=Ge.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ut(e){Ge.lFrame.inI18n=e}function ht(e,t){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=e,dt(t)}function dt(e){Ge.lFrame.currentDirectiveIndex=e}function pt(e){const t=Ge.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ft(){return Ge.lFrame.currentQueryIndex}function mt(e){Ge.lFrame.currentQueryIndex=e}function gt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function _t(e,t,n){if(n&O.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&O.Host||(r=gt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ge.lFrame=vt();return r.currentTNode=t,r.lView=e,!0}function yt(e){const t=vt(),n=e[1];Ge.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vt(){const e=Ge.lFrame,t=null===e?null:e.child;return null===t?bt(e):t}function bt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wt(){const e=Ge.lFrame;return Ge.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ct=wt;function St(){const e=wt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Et(){return Ge.lFrame.selectedIndex}function It(e){Ge.lFrame.selectedIndex=e}function Tt(){const e=Ge.lFrame;return Fe(e.tView,e.selectedIndex)}function xt(){Ge.lFrame.currentNamespace=Te}function kt(){Ge.lFrame.currentNamespace=xe}function At(){Ge.lFrame.currentNamespace=null}function Rt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Ot(e,t,n){Nt(e,t,3,n)}function Pt(e,t,n,r){(3&e[2])===n&&Nt(e,t,n,r)}function Dt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Nt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Lt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Lt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ft=-1;class Mt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Vt(e,t,n){const r=Oe(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Bt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Ut(e){return 3===e||4===e||6===e}function Bt(e){return 64===e.charCodeAt(0)}function jt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||qt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function qt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function zt(e){return e!==Ft}function Gt(e){return 32767&e}function Ht(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let $t=!0;function Zt(e){const t=$t;return $t=e,t}let Kt=0;function Yt(e,t){const n=Qt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Wt(r.data,e),Wt(t,null),Wt(r.blueprint,null));const i=Jt(e,t),s=e.injectorIndex;if(zt(i)){const e=Gt(i),n=Ht(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Wt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Jt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Ft;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ft}function Xt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Kt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function en(e,t,n){if(n&O.Optional)return e;v(t,"NodeInjector")}function tn(e,t,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){const i=e[9],s=D(void 0);try{return i?i.get(t,r,n&O.Optional):N(t,r,n&O.Optional)}finally{D(s)}}return en(r,t,n)}function nn(e,t,n,r=O.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:sn:t}(n);if("function"==typeof s){if(!_t(t,e,r))return r&O.Host?en(i,n,r):tn(t,n,r,i);try{const e=s(r);if(null!=e||r&O.Optional)return e;v(n)}finally{Ct()}}else if("number"==typeof s){let i=null,o=Qt(e,t),a=Ft,l=r&O.Host?t[16][6]:null;for((-1===o||r&O.SkipSelf)&&(a=-1===o?Jt(e,t):t[o+8],a!==Ft&&un(r,!1)?(i=t[1],o=Gt(a),t=Ht(a,t)):o=-1);-1!==o;){const e=t[1];if(cn(s,o,e.data)){const e=on(o,t,n,i,r,l);if(e!==rn)return e}a=t[o+8],a!==Ft&&un(r,t[1].data[o+8]===l)&&cn(s,o,t)?(i=e,o=Gt(a),t=Ht(a,t)):o=-1}}}return tn(t,n,r,i)}const rn={};function sn(){return new hn(Qe(),Ke())}function on(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=an(a,o,n,null==r?ge(a)&&$t:r!=o&&0!=(3&a.type),i&O.Host&&s===a);return null!==l?ln(t,o,l,a):rn}function an(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&ye(e)&&e.type===n)return l}return null}function ln(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Mt){const o=i;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(y(s[n]));const a=Zt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?D(o.injectImpl):null;_t(e,r,O.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Ce(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&D(l),Zt(a),o.resolving=!1,Ct()}}return i}function cn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function un(e,t){return!(e&O.Self||e&O.Host&&t)}class hn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return nn(this._tNode,this._lView,e,void 0,t)}}function dn(e){return L(()=>{const t=e.prototype.constructor,n=t[W]||pn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[W]||pn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function pn(e){return m(e)?()=>{const t=pn(f(e));return t&&t()}:ve(e)}function fn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Ut(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Qe(),e)}const mn="__annotations__",gn="__parameters__",_n="__prop__metadata__";function yn(e,t,n,r,i){return L(()=>{const s=vn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(mn)?n[mn]:Object.defineProperty(n,mn,{value:[]})[mn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function vn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function bn(e,t,n){return L(()=>{const r=vn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(gn)?e[gn]:Object.defineProperty(e,gn,{value:[]})[gn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const wn=function(){return bn("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>fn(e)}))}();class Cn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Sn=new Cn("AnalyzeForEntryComponents");function En(){const e=q.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const In=Function;function Tn(e){return"function"==typeof e}function xn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),xn(r,t)):t!==e&&t.push(r)}return t}function kn(e,t){e.forEach(e=>Array.isArray(e)?kn(e,t):t(e))}function An(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Rn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function On(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Pn(e,t,n){let r=Nn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Dn(e,t){const n=Nn(e,t);if(n>=0)return e[1|n]}function Nn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Ln=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Mn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Vn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Un{constructor(e){this._reflect=e||q.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=On(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Ln.test(n)||Vn.test(n)||Fn.test(n)&&!Mn.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Bn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(gn)&&e[gn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):On(e.length)}parameters(e){if(!Tn(e))return[];const t=jn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Bn(e.decorators):e.hasOwnProperty(mn)?e[mn]:null}annotations(e){if(!Tn(e))return[];const t=jn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Bn(t[e])}),n}return e.hasOwnProperty(_n)?e[_n]:null}propMetadata(e){if(!Tn(e))return{};const t=jn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return Tn(e)&&this._ownPropMetadata(e,jn(e))||{}}hasLifecycleHook(e,t){return e instanceof In&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${u(e)}`}resourceUri(e){return`./${u(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Bn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function jn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const qn={},zn=/\n/gm,Gn="__source",Hn=l({provide:String,useValue:l});let $n;function Zn(e){const t=$n;return $n=e,t}function Kn(e,t=O.Default){if(void 0===$n)throw new Error("inject() must be called from an injection context");return null===$n?N(e,void 0,t):$n.get(e,t&O.Optional?null:void 0,t)}function Yn(e,t=O.Default){return(P||Kn)(f(e),t)}function Wn(e){throw new Error("invalid")}const Qn=Yn;function Jn(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=O.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Yn(e,n))}else t.push(Yn(r))}return t}function Xn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const er=Xn(bn("Inject",e=>({token:e})),-1),tr=Xn(bn("Optional"),8),nr=Xn(bn("Self"),2),rr=Xn(bn("SkipSelf"),4),ir=Xn(bn("Host"),1);let sr,or,ar=null;function lr(e){return cr((ar=ar||new Un).parameters(e))}function cr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof tr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof rr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof nr||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof ir||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof er)t.token=r.token;else if(r instanceof wn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function ur(){if(void 0===sr&&(sr=null,q.trustedTypes))try{sr=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return sr}function hr(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createHTML(e))||e}function dr(){if(void 0===or&&(or=null,q.trustedTypes))try{or=q.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return or}function pr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createHTML(e))||e}function fr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScript(e))||e}function mr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScriptURL(e))||e}class gr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _r extends gr{getTypeName(){return"HTML"}}class yr extends gr{getTypeName(){return"Style"}}class vr extends gr{getTypeName(){return"Script"}}class br extends gr{getTypeName(){return"URL"}}class wr extends gr{getTypeName(){return"ResourceURL"}}function Cr(e){return e instanceof gr?e.changingThisBreaksApplicationSecurity:e}function Sr(e,t){const n=Er(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Er(e){return e instanceof gr&&e.getTypeName()||null}function Ir(e){return new _r(e)}function Tr(e){return new yr(e)}function xr(e){return new vr(e)}function kr(e){return new br(e)}function Ar(e){return new wr(e)}function Rr(e){const t=new Pr(e);return function(){try{return!!(new window.DOMParser).parseFromString(hr(""),"text/html")}catch(e){return!1}}()?new Or(t):t}class Or{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(hr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Pr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=hr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=hr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Dr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lr(e){return(e=String(e)).match(Dr)||e.match(Nr)?e:"unsafe:"+e}function Fr(e){return(e=String(e)).split(",").map(e=>Lr(e.trim())).join(", ")}function Mr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Vr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Ur=Mr("area,br,col,hr,img,wbr"),Br=Mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jr=Mr("rp,rt"),qr=Vr(jr,Br),zr=Vr(Ur,Vr(Br,Mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vr(jr,Mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),qr),Gr=Mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hr=Mr("srcset"),$r=Vr(Gr,Hr,Mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zr=Mr("script,style,template");class Kr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!zr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Zr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!$r.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;Gr[i]&&(s=Lr(s)),Hr[i]&&(s=Fr(s)),this.buf.push(" ",t,'="',Qr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();zr.hasOwnProperty(t)&&!Ur.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wr=/([^\#-~ |!])/g;function Qr(e){return e.replace(/&/g,"&amp;").replace(Yr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Wr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jr;function Xr(e,t){let n=null;try{Jr=Jr||Rr(e);let r=t?String(t):"";n=Jr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jr.getInertBodyElement(r)}while(r!==s);return hr((new Kr).sanitizeChildren(ei(n)||n))}finally{if(n){const e=ei(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ei(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ti=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ni(e){const t=ui();return t?pr(t.sanitize(ti.HTML,e)||""):Sr(e,"HTML")?pr(Cr(e)):Xr(Re(),_(e))}function ri(e){const t=ui();return t?t.sanitize(ti.STYLE,e)||"":Sr(e,"Style")?Cr(e):_(e)}function ii(e){const t=ui();return t?t.sanitize(ti.URL,e)||"":Sr(e,"URL")?Cr(e):Lr(_(e))}function si(e){const t=ui();if(t)return mr(t.sanitize(ti.RESOURCE_URL,e)||"");if(Sr(e,"ResourceURL"))return mr(Cr(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function oi(e){const t=ui();if(t)return fr(t.sanitize(ti.SCRIPT,e)||"");if(Sr(e,"Script"))return fr(Cr(e));throw new Error("unsafe value used in a script context")}function ai(e){return hr(e[0])}function li(e){return function(e){var t;return(null===(t=ur())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function ci(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?si:ii}(t,n)(e)}function ui(){const e=Ke();return e&&e[12]}function hi(e,t){e.__ngContext__=t}function di(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function pi(e){return e.ngDebugContext}function fi(e){return e.ngOriginalError}function mi(e,...t){e.error(...t)}class gi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||mi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?pi(e)?pi(e):this._findContext(fi(e)):null}_findOriginalError(e){let t=fi(e);for(;t&&fi(t);)t=fi(t);return t}}const _i=/^>|^->|<!--|-->|--!>|<!-$/g,yi=/(<|>)/,vi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function bi(e){return e.ownerDocument.defaultView}function wi(e){return e.ownerDocument}function Ci(e){return e.ownerDocument.body}function Si(e){return e instanceof Function?e():e}var Ei=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ii;function Ti(e,t){return Ii(e,t)}function xi(e){const t=e[3];return fe(t)?t[3]:t}function ki(e){return Ri(e[13])}function Ai(e){return Ri(e[4])}function Ri(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Oi(e,t,n,r,i){if(null!=r){let s,o=!1;fe(r)?s=r:pe(r)&&(o=!0,r=r[0]);const a=De(r);0===e&&null!==n?null==i?zi(t,n,a):qi(t,n,a,i||null,!0):1===e&&null!==n?qi(t,n,a,i||null,!0):2===e?ts(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==De(n)&&Oi(t,e,r,s,i);for(let o=de;o<n.length;o++){const i=n[o];rs(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Pi(e,t){return Oe(e)?e.createText(t):e.createTextNode(t)}function Di(e,t,n){Oe(e)?e.setValue(t,n):t.textContent=n}function Ni(e,t){return e.createComment(function(e){return e.replace(_i,e=>e.replace(yi,"\u200b$1\u200b"))}(t))}function Li(e,t,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Fi(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,ze(i,-1)),n.splice(r,1)}function Mi(e,t){if(e.length<=de)return;const n=de+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Fi(s,r),t>0&&(e[n-1][4]=r[4]);const o=Rn(e,de+t);rs(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Vi(e,t){if(!(256&t[2])){const n=t[11];Oe(n)&&n.destroyNode&&rs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ui(e[1],e);for(;t;){let n=null;if(pe(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)pe(t)&&Ui(t[1],t),t=t[3];null===t&&(t=e),pe(t)&&Ui(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ui(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Mt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):De(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Oe(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Fi(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Bi(e,t,n){return ji(e,t.parent,n)}function ji(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return Le(r,n)}function qi(e,t,n,r,i){Oe(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function zi(e,t,n){Oe(e)?e.appendChild(t,n):t.appendChild(n)}function Gi(e,t,n,r,i){null!==r?qi(e,t,n,r,i):zi(e,t,n)}function Hi(e,t){return Oe(e)?e.parentNode(t):t.parentNode}function $i(e,t,n){return Yi(e,t,n)}function Zi(e,t,n){return 40&e.type?Le(e,n):null}let Ki,Yi=Zi;function Wi(e,t){Yi=e,Ki=t}function Qi(e,t,n,r){const i=Bi(e,r,t),s=t[11],o=$i(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gi(s,i,n[a],o,!1);else Gi(s,i,n,o,!1);void 0!==Ki&&Ki(s,r,t,n,i)}function Ji(e,t){if(null!==t){const n=t.type;if(3&n)return Le(t,e);if(4&n)return es(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Ji(e,n);{const n=e[t.index];return fe(n)?es(-1,n):De(n)}}if(32&n)return Ti(t,e)()||De(e[t.index]);{const n=Xi(e,t);return null!==n?Array.isArray(n)?n[0]:Ji(xi(e[16]),n):Ji(e,t.next)}}return null}function Xi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function es(e,t){const n=de+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Ji(e,r)}return t[7]}function ts(e,t,n){const r=Hi(e,t);r&&function(e,t,n,r){Oe(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function ns(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&hi(De(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)ns(e,t,n.child,r,i,s,!1),Oi(t,e,i,a,s);else if(32&l){const o=Ti(n,r);let l;for(;l=o();)Oi(t,e,i,l,s);Oi(t,e,i,a,s)}else 16&l?is(e,t,r,n,i,s):Oi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function rs(e,t,n,r,i,s){ns(n,r,e.firstChild,t,i,s,!1)}function is(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Oi(t,e,i,a[l],s);else ns(e,t,a,o[3],i,s,!0)}function ss(e,t,n){Oe(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function os(e,t,n){Oe(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function as(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const ls="ng-template";function cs(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==as(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function us(e){return 4===e.type&&e.value!==ls}function hs(e,t,n){return t===(4!==e.type||n?e.value:ls)}function ds(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Ut(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!hs(e,l,n)||""===l&&1===t.length){if(ps(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!cs(e.attrs,c,n)){if(ps(r))return!1;o=!0}continue}const u=fs(8&r?"class":l,i,us(e),n);if(-1===u){if(ps(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==as(t,c,0)||2&r&&c!==e){if(ps(r))return!1;o=!0}}}}else{if(!o&&!ps(r)&&!ps(l))return!1;if(o&&ps(l))continue;o=!1,r=l|1&r}}return ps(r)||o}function ps(e){return 0==(1&e)}function fs(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ms(e,t,n=!1){for(let r=0;r<t.length;r++)if(ds(e,t[r],n))return!0;return!1}function gs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function _s(e,t){return e?":not("+t.trim()+")":t}function ys(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ps(o)||(t+=_s(s,i),i=""),r=o,s=s||!ps(r);n++}return""!==i&&(t+=_s(s,i)),t}const vs={};function bs(e){ws(Ye(),Ke(),Et()+e,rt())}function ws(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Ot(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Pt(t,r,0,n)}It(n)}function Cs(e,t){return e<<17|t<<2}function Ss(e){return e>>17&32767}function Es(e){return 2|e}function Is(e){return(131068&e)>>2}function Ts(e,t){return-131069&e|t<<2}function xs(e){return 1|e}function ks(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];mt(i),n.contentQueries(2,t[s],s)}}}function As(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,qe(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Rs(e,t,n,r,i){let s=e.data[t];if(null===s)s=Os(e,t,n,r,i),Ge.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=Xe();s.injectorIndex=null===e?-1:e.injectorIndex}return et(s,!0),s}function Os(e,t,n,r,i){const s=Je(),o=tt(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ps(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ds(e,t,n){yt(t);try{const r=e.viewQuery;null!==r&&ho(1,r,n);const i=e.template;null!==i&&Fs(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ks(e,t),e.staticViewQueries&&ho(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)oo(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,St()}}function Ns(e,t,n,r){const i=t[2];if(256==(256&i))return;yt(t);const s=rt();try{qe(t),at(e.bindingStartIndex),null!==n&&Fs(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Ot(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Pt(t,n,0,null),Dt(t,0)}if(function(e){for(let t=ki(e);null!==t;t=Ai(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&ze(r,1),n[2]|=1024}}}(t),function(e){for(let t=ki(e);null!==t;t=Ai(t))for(let e=de;e<t.length;e++){const n=t[e],r=n[1];Be(n)&&Ns(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ks(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Ot(t,n)}else{const n=e.contentHooks;null!==n&&Pt(t,n,1),Dt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)It(~r);else{const i=r,s=n[++e],o=n[++e];ht(s,i),o(2,t[i])}}}finally{It(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&ho(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Ot(t,n)}else{const n=e.viewHooks;null!==n&&Pt(t,n,2),Dt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ze(t[3],-1))}finally{St()}}function Ls(e,t,n,r){const i=t[10],s=!rt(),o=Ue(t);try{s&&!o&&i.begin&&i.begin(),o&&Ds(e,t,r),Ns(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Fs(e,t,n,r,i){const s=Et(),o=2&r;try{It(-1),o&&t.length>he&&ws(e,t,he,rt()),n(r,i)}finally{It(s)}}function Ms(e,t,n){if(me(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Vs(e,t,n){He()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Yt(n,t),hi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ye(r);s&&Js(t,n,r);const l=ln(t,e,a,n);hi(l,t),null!==o&&to(0,a-i,l,r,0,o),s&&(Ve(n.index,t)[8]=l)}}(e,t,n,Le(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ge.lFrame.currentDirectiveIndex;try{It(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];dt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Zs(r,i)}}finally{It(-1),dt(o)}}(e,t,n))}function Us(e,t,n=Le){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Bs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=js(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function js(e,t,n,r,i,s,o,a,l,c){const u=he+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:vs);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function qs(e,t,n,r){const i=fo(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&mo(e).push(r,i.length-1))}function zs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Gs(e,t,n,r,i,s,o,a){const l=Le(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[r])?(yo(e,n,c,r,i),ge(t)&&function(e,t){const n=Ve(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Oe(s)?s.setProperty(l,r,i):Bt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Hs(e,t,n,r){let i=!1;if(He()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ms(n,o.selectors,!1)&&(i||(i=[]),Xt(Yt(n,t),e,o.type),ye(o)?(Ks(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ws(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=Ps(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=jt(n.mergedAttrs,c.hostAttrs),Qs(e,n,t,l,c),Ys(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||us(t)?null:no(n,i);s.push(c),o=zs(n,l,o),a=zs(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new g("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=jt(n.mergedAttrs,n.attrs),i}function $s(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Zs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ks(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ys(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Ws(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Qs(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ve(i.type)),o=new Mt(s,ye(i),null);e.blueprint[r]=o,n[r]=o,$s(e,t,0,r,Ps(e,n,i.hostVars,vs),i)}function Js(e,t,n){const r=Le(t,e),i=Bs(n),s=e[10],o=ao(e,As(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Xs(e,t,n,r,i,s){const o=Le(e,t);eo(t[11],o,s,e.value,n,r,i)}function eo(e,t,n,r,i,s,o){if(null==s)Oe(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);Oe(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function to(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function no(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function io(e,t){const n=Ve(t,e);if(Be(n)){const e=n[1];80&n[2]?Ns(e,n,e.template,n[8]):n[5]>0&&so(n)}}function so(e){for(let n=ki(e);null!==n;n=Ai(n))for(let e=de;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ns(e,t,e.template,t[8])}else t[5]>0&&so(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ve(t[n],e);Be(r)&&r[5]>0&&so(r)}}function oo(e,t){const n=Ve(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ds(r,n,n[8])}function ao(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function lo(e){for(;e;){e[2]|=64;const t=xi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function co(e,t,n){const r=t[10];r.begin&&r.begin();try{Ns(e,t,e.template,n)}catch(i){throw _o(t,i),i}finally{r.end&&r.end()}}function uo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=di(n),i=r[1];Ls(i,r,i.template,n)}}(e[8])}function ho(e,t,n){mt(0),t(e,n)}const po=(()=>Promise.resolve(null))();function fo(e){return e[7]||(e[7]=[])}function mo(e){return e.cleanup||(e.cleanup=[])}function go(e,t,n){return(null===e||ye(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function _o(e,t){const n=e[9],r=n?n.get(gi,null):null;r&&r.handleError(t)}function yo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function vo(e,t,n){const r=Ne(t,e);Di(e[11],r,n)}function bo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const wo=new Cn("INJECTOR",-1);class Co{get(e,t=qn){if(t===qn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const So=new Cn("Set Injector scope."),Eo={},Io={};let To;function xo(){return void 0===To&&(To=new Co),To}function ko(e,t=null,n=null,r){return new Ao(e,n,t||xo(),r)}class Ao{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&kn(t,n=>this.processProvider(n,e,t)),kn([e],e=>this.processInjectorType(e,[],i)),this.records.set(wo,Po(void 0,this));const s=this.records.get(So);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=qn,n=O.Default){this.assertNotDestroyed();const r=Zn(this);try{if(!(n&O.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Cn)&&E(e);t=n&&this.injectableDefInScope(n)?Po(Ro(e),Eo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&O.Self?xo():this.parent).get(e,t=n&O.Optional&&t===qn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[Gn]&&i.unshift(t[Gn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Zn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=T(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{kn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];kn(r,e=>this.processProvider(e,n,r||G))}}this.injectorDefTypes.add(s);const a=ve(s)||(()=>new s);this.records.set(s,Po(a,Eo));const l=r.providers;if(null!=l&&!o){const t=e;kn(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=No(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){return Do(e)?Po(void 0,e.useValue):Po(Oo(e),Eo)}(e);if(No(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Po(void 0,Eo,!0),t.factory=()=>Jn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Eo&&(t.value=Io,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ro(e){const t=E(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof Cn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=On(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[x]||e[A]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Oo(e,t,n){let r;if(No(e)){const t=f(e);return ve(t)||Ro(t)}if(Do(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Jn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Yn(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||Ro(t);r=()=>new t(...Jn(e.deps))}var i;return r}function Po(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Do(e){return null!==e&&"object"==typeof e&&Hn in e}function No(e){return"function"==typeof e}const Lo=function(e,t,n){return function(e,t=null,n=null,r){const i=ko(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Fo=(()=>{class e{static create(e,t){return Array.isArray(e)?Lo(e,t,""):Lo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=qn,e.NULL=new Co,e.\u0275prov=w({token:e,providedIn:"any",factory:()=>Yn(wo)}),e.__NG_ELEMENT_ID__=-1,e})();function Mo(e,t){Rt(di(e)[1],Qe())}function Vo(e){return Object.getPrototypeOf(e.prototype).constructor}function Uo(e){let t=Vo(e.type),n=!0;const r=[e];for(;t;){let i;if(ye(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Bo(e.inputs),t.declaredInputs=Bo(e.declaredInputs),t.outputs=Bo(e.outputs);const n=i.hostBindings;n&&zo(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&jo(e,s),o&&qo(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),ye(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Uo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=jt(i.hostAttrs,n=jt(n,i.hostAttrs))}}(r)}function Bo(e){return e===z?{}:e===G?[]:e}function jo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function qo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function zo(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const Go=["providersResolver"],Ho=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function $o(e){let t,n=Vo(e.type);t=ye(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of Go)r[i]=t[i];if(ye(t))for(const i of Ho)r[i]=t[i]}let Zo=null;function Ko(){if(!Zo){const e=q.Symbol;if(e&&e.iterator)Zo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Zo=n)}}}return Zo}class Yo{constructor(e){this.wrapped=e}static wrap(e){return new Yo(e)}static unwrap(e){return Yo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Yo}}function Wo(e){return!!Qo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ko()in e)}function Qo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Jo(e,t,n){return e[t]=n}function Xo(e,t){return e[t]}function ea(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ta(e,t,n,r){const i=ea(e,t,n);return ea(e,t+1,r)||i}function na(e,t,n,r,i){const s=ta(e,t,n,r);return ea(e,t+2,i)||s}function ra(e,t,n,r,i,s){const o=ta(e,t,n,r);return ta(e,t+2,i,s)||o}function ia(e,t,n,r){const i=Ke();return ea(i,lt(),t)&&(Ye(),Xs(Tt(),i,e,t,n,r)),ia}function sa(e,t){let n=!1,r=ot();for(let s=1;s<t.length;s+=2)n=ea(e,r++,t[s])||n;if(at(r),!n)return vs;let i=t[0];for(let s=1;s<t.length;s+=2)i+=_(t[s])+t[s+1];return i}function oa(e,t,n,r){return ea(e,lt(),n)?t+_(n)+r:vs}function aa(e,t,n,r,i,s){const o=ta(e,ot(),n,i);return ct(2),o?t+_(n)+r+_(i)+s:vs}function la(e,t,n,r,i,s,o,a){const l=na(e,ot(),n,i,o);return ct(3),l?t+_(n)+r+_(i)+s+_(o)+a:vs}function ca(e,t,n,r,i,s,o,a,l,c){const u=ra(e,ot(),n,i,o,l);return ct(4),u?t+_(n)+r+_(i)+s+_(o)+a+_(l)+c:vs}function ua(e,t,n,r,i,s,o,a,l,c,u,h){const d=ot();let p=ra(e,d,n,i,o,l);return p=ea(e,d+4,u)||p,ct(5),p?t+_(n)+r+_(i)+s+_(o)+a+_(l)+c+_(u)+h:vs}function ha(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=ot();let m=ra(e,f,n,i,o,l);return m=ta(e,f+4,u,d)||m,ct(6),m?t+_(n)+r+_(i)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p:vs}function da(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m){const g=ot();let y=ra(e,g,n,i,o,l);return y=na(e,g+4,u,d,f)||y,ct(7),y?t+_(n)+r+_(i)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p+_(f)+m:vs}function pa(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,y){const v=ot();let b=ra(e,v,n,i,o,l);return b=ra(e,v+4,u,d,f,g)||b,ct(8),b?t+_(n)+r+_(i)+s+_(o)+a+_(l)+c+_(u)+h+_(d)+p+_(f)+m+_(g)+y:vs}function fa(e,t,n,r,i,s){const o=Ke(),a=oa(o,t,n,r);return a!==vs&&Xs(Tt(),o,e,a,i,s),fa}function ma(e,t,n,r,i,s,o,a){const l=Ke(),c=aa(l,t,n,r,i,s);return c!==vs&&Xs(Tt(),l,e,c,o,a),ma}function ga(e,t,n,r,i,s,o,a,l,c){const u=Ke(),h=la(u,t,n,r,i,s,o,a);return h!==vs&&Xs(Tt(),u,e,h,l,c),ga}function _a(e,t,n,r,i,s,o,a,l,c,u,h){const d=Ke(),p=ca(d,t,n,r,i,s,o,a,l,c);return p!==vs&&Xs(Tt(),d,e,p,u,h),_a}function ya(e,t,n,r,i,s,o,a,l,c,u,h,d,p){const f=Ke(),m=ua(f,t,n,r,i,s,o,a,l,c,u,h);return m!==vs&&Xs(Tt(),f,e,m,d,p),ya}function va(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m){const g=Ke(),_=ha(g,t,n,r,i,s,o,a,l,c,u,h,d,p);return _!==vs&&Xs(Tt(),g,e,_,f,m),va}function ba(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_){const y=Ke(),v=da(y,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m);return v!==vs&&Xs(Tt(),y,e,v,g,_),ba}function wa(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_,y,v){const b=Ke(),w=pa(b,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_);return w!==vs&&Xs(Tt(),b,e,w,y,v),wa}function Ca(e,t,n,r){const i=Ke(),s=sa(i,t);return s!==vs&&Xs(Tt(),i,e,s,n,r),Ca}function Sa(e,t,n,r,i,s,o,a){const l=Ke(),c=Ye(),u=e+he,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=Rs(t,e,4,o||null,je(c,a));Hs(t,n,u,je(c,l)),Rt(t,u);const h=u.tViews=js(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];et(h,!1);const d=l[11].createComment("");Qi(c,l,d,h),hi(d,l),ao(l,l[u]=ro(d,l,d,h)),_e(h)&&Vs(c,l,h),null!=o&&Us(l,h,a)}function Ea(e){return Me(Ge.lFrame.contextLView,he+e)}const Ia={"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":S,"\u0275\u0275inject":Yn,"\u0275\u0275invalidFactoryDep":Wn,resolveForwardRef:f},Ta=l({provide:String,useValue:l});function xa(e){return void 0!==e.useClass}function ka(e){return void 0!==e.useFactory}const Aa=yn("Injectable",void 0,void 0,void 0,(e,t)=>Ra(e,t)),Ra=function(e,t){let n=null,r=null;e.hasOwnProperty(x)||Object.defineProperty(e,x,{get:()=>(null===n&&(n=En().compileInjectable(Ia,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(xa(n)||ka(n))&&void 0!==n.deps&&(r.deps=cr(n.deps)),xa(n)?r.useClass=n.useClass:function(e){return Ta in e}(n)?r.useValue=n.useValue:ka(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(W)||Object.defineProperty(e,W,{get:()=>{if(null===r){const t=En();r=t.compileFactory(Ia,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:lr(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Oa(e,t=O.Default){const n=Ke();return null===n?Yn(e,t):nn(Qe(),n,f(e),t)}function Pa(){throw new Error("invalid")}function Da(e,t,n){const r=Ke();return ea(r,lt(),t)&&Gs(Ye(),Tt(),r,e,t,r[11],n,!1),Da}function Na(e,t,n,r,i){const s=i?"class":"style";yo(e,n,t.inputs[s],s,r)}function La(e,t,n,r){const i=Ke(),s=Ye(),o=he+e,a=i[11],l=i[o]=Li(a,t,Ge.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=Rs(t,e,2,i,je(a,s));return Hs(t,n,l,je(a,o)),null!==l.attrs&&bo(l,l.attrs,!1),null!==l.mergedAttrs&&bo(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];et(c,!0);const u=c.mergedAttrs;null!==u&&Vt(a,l,u);const h=c.classes;null!==h&&os(a,l,h);const d=c.styles;null!==d&&ss(a,l,d),64!=(64&c.flags)&&Qi(s,i,l,c),0===Ge.lFrame.elementDepthCount&&hi(l,i),Ge.lFrame.elementDepthCount++,_e(c)&&(Vs(s,i,c),Ms(s,c,i)),null!==r&&Us(i,c)}function Fa(){let e=Qe();tt()?nt():(e=e.parent,et(e,!1));const t=e;Ge.lFrame.elementDepthCount--;const n=Ye();n.firstCreatePass&&(Rt(n,e),me(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Na(n,t,Ke(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Na(n,t,Ke(),t.stylesWithoutHost,!1)}function Ma(e,t,n,r){La(e,t,n,r),Fa()}function Va(e,t,n){const r=Ke(),i=Ye(),s=e+he,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=je(s,r),a=Rs(t,e,8,"ng-container",o);return null!==o&&bo(a,o,!0),Hs(t,n,a,je(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];et(o,!0);const a=r[s]=r[11].createComment("");Qi(i,r,a,o),hi(a,r),_e(o)&&(Vs(i,r,o),Ms(i,o,r)),null!=n&&Us(r,o)}function Ua(){let e=Qe();const t=Ye();tt()?nt():(e=e.parent,et(e,!1)),t.firstCreatePass&&(Rt(t,e),me(e)&&t.queries.elementEnd(e))}function Ba(e,t,n){Va(e,t,n),Ua()}function ja(){return Ke()}function qa(e){return!!e&&"function"==typeof e.then}function za(e){return!!e&&"function"==typeof e.subscribe}const Ga=za;function Ha(e,t,n,r){const i=Ke(),s=Ye(),o=Qe();return Za(s,i,i[11],o,e,t,!!n,r),Ha}function $a(e,t){const n=Qe(),r=Ke(),i=Ye();return Za(i,r,go(pt(i.data),n,r),n,e,t,!1),$a}function Za(e,t,n,r,i,s,o,a){const l=_e(r),c=e.firstCreatePass&&mo(e),u=fo(t);let h=!0;if(3&r.type||a){const d=Le(r,t),p=a?a(d):d,f=u.length,m=a?e=>a(De(e[r.index])):r.index;if(Oe(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ya(r,t,0,s,!1);const e=n.listen(p,i,s);u.push(s,e),c&&c.push(i,m,f,f+1)}}else s=Ya(r,t,0,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,f,o)}else s=Ya(r,t,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Ka(e,t,n,r){try{return!1!==n(r)}catch(i){return _o(e,i),!1}}function Ya(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Ve(e.index,t):t;0==(32&t[2])&&lo(o);let a=Ka(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Ka(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wa(e=1){return function(e){return(Ge.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ge.lFrame.contextLView))[8]}(e)}function Qa(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ms(e,s,!0):gs(r,s))return i}else n=i}return n}function Ja(e){const t=Ke()[16][6];if(!t.projection){const n=t.projection=On(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Qa(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Xa(e,t=0,n){const r=Ke(),i=Ye(),s=Rs(i,he+e,16,null,n||null);null===s.projection&&(s.projection=t),nt(),64!=(64&s.flags)&&function(e,t,n){is(t[11],0,t,n,Bi(e,n,t),$i(n.parent||t[6],n,t))}(i,r,s)}function el(e,t,n){return tl(e,"",t,"",n),el}function tl(e,t,n,r,i){const s=Ke(),o=oa(s,t,n,r);return o!==vs&&Gs(Ye(),Tt(),s,e,o,s[11],i,!1),tl}function nl(e,t,n,r,i,s,o){const a=Ke(),l=aa(a,t,n,r,i,s);return l!==vs&&Gs(Ye(),Tt(),a,e,l,a[11],o,!1),nl}function rl(e,t,n,r,i,s,o,a,l){const c=Ke(),u=la(c,t,n,r,i,s,o,a);return u!==vs&&Gs(Ye(),Tt(),c,e,u,c[11],l,!1),rl}function il(e,t,n,r,i,s,o,a,l,c,u){const h=Ke(),d=ca(h,t,n,r,i,s,o,a,l,c);return d!==vs&&Gs(Ye(),Tt(),h,e,d,h[11],u,!1),il}function sl(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=Ke(),f=ua(p,t,n,r,i,s,o,a,l,c,u,h);return f!==vs&&Gs(Ye(),Tt(),p,e,f,p[11],d,!1),sl}function ol(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const m=Ke(),g=ha(m,t,n,r,i,s,o,a,l,c,u,h,d,p);return g!==vs&&Gs(Ye(),Tt(),m,e,g,m[11],f,!1),ol}function al(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){const _=Ke(),y=da(_,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m);return y!==vs&&Gs(Ye(),Tt(),_,e,y,_[11],g,!1),al}function ll(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_,y){const v=Ke(),b=pa(v,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_);return b!==vs&&Gs(Ye(),Tt(),v,e,b,v[11],y,!1),ll}function cl(e,t,n){const r=Ke(),i=sa(r,t);return i!==vs&&Gs(Ye(),Tt(),r,e,i,r[11],n,!1),cl}function ul(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Ss(s):Is(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];hl(e[a],t)&&(l=!0,e[a+1]=r?xs(n):Es(n)),a=r?Ss(n):Is(n)}l&&(e[n+1]=r?Es(s):xs(s))}function hl(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Nn(e,t)>=0}const dl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pl(e){return e.substring(dl.key,dl.keyEnd)}function fl(e){return e.substring(dl.value,dl.valueEnd)}function ml(e,t){const n=dl.textEnd;return n===t?-1:(t=dl.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,dl.key=t,n),yl(e,t,n))}function gl(e,t){const n=dl.textEnd;let r=dl.key=yl(e,t,n);return n===r?-1:(r=dl.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=vl(e,r,n),r=dl.value=yl(e,r,n),r=dl.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const l=e.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=bl(e,l,o,n):t===o-4&&85===s&&82===i&&76===r&&40===l?a=o=bl(e,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(e,r,n),vl(e,r,n))}function _l(e){dl.key=0,dl.keyEnd=0,dl.value=0,dl.valueEnd=0,dl.textEnd=e.length}function yl(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function vl(e,t,n,r){return(t=yl(e,t,n))<n&&t++,t}function bl(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function wl(e,t,n){return xl(e,t,n,!1),wl}function Cl(e,t){return xl(e,t,null,!0),Cl}function Sl(e){kl(Dl,El,e,!1)}function El(e,t){for(let n=function(e){return _l(e),gl(e,yl(e,0,dl.textEnd))}(t);n>=0;n=gl(t,n))Dl(e,pl(t),fl(t))}function Il(e){kl(Pn,Tl,e,!0)}function Tl(e,t){for(let n=function(e){return _l(e),ml(e,yl(e,0,dl.textEnd))}(t);n>=0;n=ml(t,n))Pn(e,pl(t),!0)}function xl(e,t,n,r){const i=Ke(),s=Ye(),o=ct(2);s.firstUpdatePass&&Rl(s,e,o,r),t!==vs&&ea(i,o,t)&&Nl(s,s.data[Et()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Cr(e)))),e}(t,n),r,o)}function kl(e,t,n,r){const i=Ye(),s=ct(2);i.firstUpdatePass&&Rl(i,null,s,r);const o=Ke();if(n!==vs&&ea(o,s,n)){const a=i.data[Et()];if(Ml(a,r)&&!Al(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=h(e,n||"")),Na(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===vs&&(i=G);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f,m=null;u===h?(l+=2,c+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(l+=2,m=u):(c+=2,m=h,f=p),null!==m&&Nl(e,t,n,r,m,f,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return G;const r=[],i=Cr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function Al(e,t){return t>=e.expandoStartIndex}function Rl(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Et()],o=Al(e,n);Ml(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=pt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Pl(n=Ol(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Ol(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Is(r))return e[Ss(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Ol(null,e,t,n[1],r),n=Pl(n,t.attrs,r),function(e,t,n,r){e[Ss(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Pl(r,e[s].hostAttrs,n);return Pl(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ss(o),l=Is(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Nn(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=Ss(e[a+1]);e[r+1]=Cs(t,a),0!==t&&(e[t+1]=Ts(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Cs(a,0),0!==a&&(e[a+1]=Ts(e[a+1],r)),a=r;else e[r+1]=Cs(l,0),0===a?a=r:e[l+1]=Ts(e[l+1],r),l=r;u&&(e[r+1]=Es(e[r+1])),ul(e,c,r,!0),ul(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Nn(s,t)>=0&&(n[r+1]=xs(n[r+1]))}(t,c,e,r,s),o=Cs(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Ol(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Pl(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Pl(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Pn(e,o,!!n||t[++s]))}return void 0===e?null:e}function Dl(e,t,n){Pn(e,t,Cr(n))}function Nl(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Fl(1==(1&c)?Ll(l,t,n,i,Is(c),o):void 0)||(Fl(s)||2==(2&c)&&(s=Ll(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Oe(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ei.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ei.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ne(Et(),n),i,s))}function Ll(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===vs&&(u=c?G:void 0);let h=c?Dn(u,r):l===r?u:void 0;if(s&&!Fl(h)&&(h=Dn(t,r)),Fl(h)&&(a=h,o))return a;const d=e[i+1];i=o?Ss(d):Is(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Dn(e,r))}return a}function Fl(e){return void 0!==e}function Ml(e,t){return 0!=(e.flags&(t?16:32))}function Vl(e,t=""){const n=Ke(),r=Ye(),i=e+he,s=r.firstCreatePass?Rs(r,i,1,t,null):r.data[i],o=n[i]=Pi(n[11],t);Qi(r,n,o,s),et(s,!1)}function Ul(e){return Bl("",e,""),Ul}function Bl(e,t,n){const r=Ke(),i=oa(r,e,t,n);return i!==vs&&vo(r,Et(),i),Bl}function jl(e,t,n,r,i){const s=Ke(),o=aa(s,e,t,n,r,i);return o!==vs&&vo(s,Et(),o),jl}function ql(e,t,n,r,i,s,o){const a=Ke(),l=la(a,e,t,n,r,i,s,o);return l!==vs&&vo(a,Et(),l),ql}function zl(e,t,n,r,i,s,o,a,l){const c=Ke(),u=ca(c,e,t,n,r,i,s,o,a,l);return u!==vs&&vo(c,Et(),u),zl}function Gl(e,t,n,r,i,s,o,a,l,c,u){const h=Ke(),d=ua(h,e,t,n,r,i,s,o,a,l,c,u);return d!==vs&&vo(h,Et(),d),Gl}function Hl(e,t,n,r,i,s,o,a,l,c,u,h,d){const p=Ke(),f=ha(p,e,t,n,r,i,s,o,a,l,c,u,h,d);return f!==vs&&vo(p,Et(),f),Hl}function $l(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){const m=Ke(),g=da(m,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f);return g!==vs&&vo(m,Et(),g),$l}function Zl(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){const _=Ke(),y=pa(_,e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g);return y!==vs&&vo(_,Et(),y),Zl}function Kl(e){const t=Ke(),n=sa(t,e);return n!==vs&&vo(t,Et(),n),Kl}function Yl(e,t,n){kl(Pn,Tl,oa(Ke(),e,t,n),!0)}function Wl(e,t,n,r,i){kl(Pn,Tl,aa(Ke(),e,t,n,r,i),!0)}function Ql(e,t,n,r,i,s,o){kl(Pn,Tl,la(Ke(),e,t,n,r,i,s,o),!0)}function Jl(e,t,n,r,i,s,o,a,l){kl(Pn,Tl,ca(Ke(),e,t,n,r,i,s,o,a,l),!0)}function Xl(e,t,n,r,i,s,o,a,l,c,u){kl(Pn,Tl,ua(Ke(),e,t,n,r,i,s,o,a,l,c,u),!0)}function ec(e,t,n,r,i,s,o,a,l,c,u,h,d){kl(Pn,Tl,ha(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d),!0)}function tc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){kl(Pn,Tl,da(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f),!0)}function nc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){kl(Pn,Tl,pa(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g),!0)}function rc(e){kl(Pn,Tl,sa(Ke(),e),!0)}function ic(e,t,n){Sl(oa(Ke(),e,t,n))}function sc(e,t,n,r,i){Sl(aa(Ke(),e,t,n,r,i))}function oc(e,t,n,r,i,s,o){Sl(la(Ke(),e,t,n,r,i,s,o))}function ac(e,t,n,r,i,s,o,a,l){Sl(ca(Ke(),e,t,n,r,i,s,o,a,l))}function lc(e,t,n,r,i,s,o,a,l,c,u){Sl(ua(Ke(),e,t,n,r,i,s,o,a,l,c,u))}function cc(e,t,n,r,i,s,o,a,l,c,u,h,d){Sl(ha(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d))}function uc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){Sl(da(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f))}function hc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){Sl(pa(Ke(),e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g))}function dc(e){Sl(sa(Ke(),e))}function pc(e,t,n,r,i){return xl(e,oa(Ke(),t,n,r),i,!1),pc}function fc(e,t,n,r,i,s,o){return xl(e,aa(Ke(),t,n,r,i,s),o,!1),fc}function mc(e,t,n,r,i,s,o,a,l){return xl(e,la(Ke(),t,n,r,i,s,o,a),l,!1),mc}function gc(e,t,n,r,i,s,o,a,l,c,u){return xl(e,ca(Ke(),t,n,r,i,s,o,a,l,c),u,!1),gc}function _c(e,t,n,r,i,s,o,a,l,c,u,h,d){return xl(e,ua(Ke(),t,n,r,i,s,o,a,l,c,u,h),d,!1),_c}function yc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f){return xl(e,ha(Ke(),t,n,r,i,s,o,a,l,c,u,h,d,p),f,!1),yc}function vc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){return xl(e,da(Ke(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,m),g,!1),vc}function bc(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_,y){return xl(e,pa(Ke(),t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,_),y,!1),bc}function wc(e,t,n){return xl(e,sa(Ke(),t),n,!1),wc}function Cc(e,t,n){const r=Ke();return ea(r,lt(),t)&&Gs(Ye(),Tt(),r,e,t,r[11],n,!0),Cc}function Sc(e,t,n){const r=Ke();if(ea(r,lt(),t)){const i=Ye(),s=Tt();Gs(i,s,r,e,t,go(pt(i.data),s,r),n,!0)}return Sc}const Ec=void 0;var Ic=["en",[["a","p"],["AM","PM"],Ec],[["AM","PM"],Ec,Ec],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ec,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ec,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ec,"{1} 'at' {0}",Ec],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Tc={};function xc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ac(t);if(n)return n;const r=t.split("-")[0];if(n=Ac(r),n)return n;if("en"===r)return Ic;throw new Error(`Missing locale data for the locale "${e}".`)}function kc(e){return xc(e)[Rc.PluralCase]}function Ac(e){return e in Tc||(Tc[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),Tc[e]}var Rc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Oc=["zero","one","two","few","many"],Pc="en-US",Dc={marker:"element"},Nc={marker:"ICU"};var Lc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Fc=Pc;function Mc(e){var t;null==(t=e)&&b("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Fc=e.toLowerCase().replace(/_/g,"-"))}function Vc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Zi(e,0,n):De(n[i])}function Uc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)qi(e,o,n[s[t]],a,!1)}}function Bc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];jc(r)||qc(r,t)&&null===zc(r)&&Gc(r,t.index)}}function jc(e){return!(64&e.type)}function qc(e,t){return jc(t)||e.index>t.index}function zc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function Gc(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Wi(Vc,Uc),e.insertBeforeIndex=t)}function Hc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function $c(e,t,n){const r=Os(e,n,64,null,null);return Bc(t,r),r}function Zc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Kc=0,Yc=0;function Wc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const l=t[a];if("string"==typeof l){const e=t[++a];null===n[e]&&(n[e]=Pi(i,l))}else if("number"==typeof l)switch(1&l){case 0:const c=l>>>17;let u,h;if(null===o&&(o=c,s=Hi(i,r)),c===o?(u=r,h=s):(u=null,h=De(n[c])),null!==h){const t=(131070&l)>>>1;qi(i,h,n[t],u,!1);const r=Hc(e,t);if(null!==r&&"object"==typeof r){const t=Zc(r,n);null!==t&&Wc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],p=t[++a];eo(i,Ne(l>>>1,n),null,null,d,p,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${l}"`)}else switch(l){case Nc:const e=t[++a],r=t[++a];null===n[r]&&hi(n[r]=Ni(i,e),n);break;case Dc:const s=t[++a],o=t[++a];null===n[o]&&hi(n[o]=Li(i,s,null),n)}}}function Qc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=_(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],l=n[++o],c=e.data[a];"string"==typeof c?eo(t[11],t[a],null,c,s,i,l):Gs(e,c,t,s,i,t[11],l,!1);break;case 0:const u=t[a];null!==u&&Di(t[11],u,i);break;case 2:Xc(e,Hc(e,a),t,i);break;case 3:Jc(e,Hc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Hc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&Jc(e,n,r,t)}}s+=a}}function Jc(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Kc;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Qc(e,r,t.update[i],n,s)}}function Xc(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=kc(t)(parseInt(e,10)),r=Oc[n];return void 0!==r?r:"other"}(t,Fc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Zc(t,n)!==i&&(eu(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Wc(e,t.create[i],n,r)}}function eu(e,t,n){let r=Zc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Ne(r,n);null!==e&&ts(n[11],e)}else eu(e,Hc(e,~r),n)}}}const tu=/\ufffd(\d+):?\d*\ufffd/gi,nu=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ru=/\ufffd(\d+)\ufffd/,iu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,su=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ou=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,au=/\uE500/g;function lu(e,t,n,r,i,s,o){const a=Ps(e,r,1,null);let l=a<<Lc.SHIFT,c=Xe();t===c&&(c=null),null===c&&(l|=Lc.APPEND_EAGERLY),o&&(l|=Lc.COMMENT,void 0===Ii&&(Ii=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Zc(e,t);n=null!==i?e.remove[i]:G}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(l,null===s?"":s);const u=Os(e,a,o?32:1,null===s?"":s,null);Bc(n,u);const h=u.index;return et(u,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Wi(Vc,Uc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&b("Expecting array here",r,true,"=="),n.push(t))}(c,h),u}function cu(e,t,n,r,i,s,o){const a=o.match(tu),l=lu(e,t,n,s,r,a?null:o,!1);a&&uu(i,o,l.index,null,0,null)}function uu(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const l=o+2,c=t.split(tu);let u=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),u|=du(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=u,e[a]=e.length-l,u}function hu(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function du(e){return 1<<Math.min(e,31)}function pu(e){let t,n,r="",i=0,s=!1;for(;null!==(t=su.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function fu(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ps(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(du(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const l=i.values;for(let c=0;c<l.length;c++){const s=l[c],u=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=u.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=_u(e,a,t,n,r,i.cases[c],s.join(""),u)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function mu(e){const t=[],n=[];let r=1,i=0;const s=gu(e=e.replace(iu,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=gu(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function gu(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);iu.test(n)?r.push(mu(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function _u(e,t,n,r,i,s,o,a){const l=[],c=[],u=[];t.cases.push(s),t.create.push(l),t.remove.push(c),t.update.push(u);const h=Rr(Re()).getInertBodyElement(o),d=ei(h)||h;return d?yu(e,t,n,r,l,c,u,d,i,a,0):0}function yu(e,t,n,r,i,s,o,a,l,c,u){let h=0,d=a.firstChild;for(;d;){const a=Ps(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const p=d,f=p.tagName.toLowerCase();if(zr.hasOwnProperty(f)){wu(i,Dc,f,l,a),e.data[a]=f;const m=p.attributes;for(let e=0;e<m.length;e++){const t=m.item(e),n=t.name.toLowerCase();t.value.match(tu)?$r.hasOwnProperty(n)&&uu(o,t.value,a,t.name,0,Gr[n]?Lr:Hr[n]?Fr:null):Cu(i,a,t)}h=yu(e,t,n,r,i,s,o,d,a,c,u+1)|h,vu(s,a,u)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(tu);wu(i,null,g?"":m,l,a),vu(s,a,u),g&&(h=uu(o,m,a,null,0,null)|h);break;case Node.COMMENT_NODE:const _=ru.exec(d.textContent||"");if(_){const t=c[parseInt(_[1],10)];wu(i,Nc,"",l,a),fu(e,n,r,l,t,a),bu(s,a,u)}}d=d.nextSibling}return h}function vu(e,t,n){0===n&&e.push(t)}function bu(e,t,n){0===n&&(e.push(~t),e.push(t))}function wu(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function Cu(e,t,n){e.push(t<<1|1,n.name,n.value)}const Su=/\[(\ufffd.+?\ufffd?)\]/,Eu=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Iu=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Tu=/{([A-Z0-9_]+)}/g,xu=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,ku=/\/\*/,Au=/\d+\:(\d+)/;function Ru(e,t,n=-1){const r=Ye(),i=Ke(),s=he+e,o=je(r.consts,t),a=Xe();r.firstCreatePass&&function(e,t,n,r,i,s){const o=Xe(),a=[],l=[],c=[[]],u=(h=i=function(e,t){if(function(e){return-1===e}(t))return pu(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return pu(e.substring(n,r))}}(i,s),h.replace(au," ")).split(ou);var h;for(let d=0;d<u.length;d++){let r=u[d];if(0==(1&d)){const s=gu(r);for(let r=0;r<s.length;r++){let u=s[r];if(0==(1&r)){const t=u;""!==t&&cu(e,o,c[0],a,l,n,t)}else{const r=u;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);fu(e,n,l,t,r,lu(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),he+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),et(Xe(),!1);else{const t=$c(e,c[0],n);c.unshift([]),et(t,!0)}}}e.data[r]={create:a,update:l}}(r,null===a?0:a.index,i,s,o,n);const l=r.data[s],c=ji(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],l=(o&Lc.COMMENT)===Lc.COMMENT,c=(o&Lc.APPEND_EAGERLY)===Lc.APPEND_EAGERLY,u=o>>>Lc.SHIFT;let h=e[u];null===h&&(h=e[u]=l?i.createComment(a):Pi(i,a)),c&&null!==n&&qi(i,n,h,r,!1)}}(i,l.create,c,a&&8&a.type?i[a.index]:null),ut(!0)}function Ou(){ut(!1)}function Pu(e,t,n){Ru(e,t,n),Ou()}function Du(e,t){const n=Ye(),r=je(n.consts,t);!function(e,t,n){const r=Qe().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(nu.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);uu(i,s,r,t,hu(i),null)}}e.data[t]=i}}(n,e+he,r)}function Nu(e){return ea(Ke(),lt(),e)&&(Kc|=1<<Math.min(Yc,31)),Yc++,Nu}function Lu(e){!function(e,t,n){if(Yc>0){const r=e.data[n];Qc(e,t,Array.isArray(r)?r:r.update,ot()-Yc-1,Kc)}Kc=0,Yc=0}(Ye(),Ke(),e+he)}function Fu(e,t={}){return function(e,t={}){let n=e;if(Su.test(e)){const e={},t=[0];n=n.replace(Eu,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(Au),n=t?parseInt(t[1],10):0,r=ku.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let l=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){l=e;break}const[c,u,h]=o[l];return u?t.pop():a!==c&&t.push(c),o.splice(l,1),h})}return Object.keys(t).length?(n=n.replace(Iu,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(Tu,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(xu,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Mu(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)Mu(e[s],t,n,r,i);else{const s=Ye(),o=Ke();let a=No(e)?e:f(e.provide),l=Oo(e);const c=Qe(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(No(e)||!e.multi){const r=new Mt(l,i,Oa),p=Bu(a,t,i?u:u+d,h);-1===p?(Xt(Yt(c,o),s,a),Vu(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Bu(a,t,u+d,h),f=Bu(a,t,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){Xt(Yt(c,o),s,a);const u=function(e,t,n,r,i){const s=new Mt(e,n,Oa);return s.multi=[],s.index=t,s.componentProviders=0,Uu(s,i,r&&!n),s}(i?qu:ju,n.length,i,r,l);!i&&g&&(n[f].providerFactory=u),Vu(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Vu(s,e,p>-1?p:f,Uu(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function Vu(e,t,n,r){const i=No(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Uu(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Bu(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ju(e,t,n,r){return zu(this.multi,[])}function qu(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=ln(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),zu(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],zu(i,s);return s}function zu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Gu(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ye();if(r.firstCreatePass){const i=ye(e);Mu(n,r.data,r.blueprint,i,!0),Mu(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Hu{}class $u{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Zu=(()=>{class e{}return e.NULL=new $u,e})();function Ku(...e){}function Yu(e,t){return new Qu(Le(e,t))}const Wu=function(){return Yu(Qe(),Ke())};let Qu=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Wu,e})();function Ju(e){return e instanceof Qu?e.nativeElement:e}class Xu{}let eh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>th(),e})();const th=function(){const e=Ke(),t=Ve(Qe().index,e);return function(e){return e[11]}(pe(t)?t:e)};let nh=(()=>{class e{}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>null}),e})();class rh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ih=new rh("12.0.1");class sh{constructor(){}supports(e){return Wo(e)}create(e){return new ah(e)}}const oh=(e,t)=>t;class ah{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||oh}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<hh(n,r,i)?t:n,o=hh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wo(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Ko()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new lh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class lh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ch{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class uh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ch,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class dh{constructor(){}supports(e){return e instanceof Map||Qo(e)}create(){return new ph}}class ph{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Qo(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class fh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mh(){return new gh([new sh])}let gh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||mh()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=w({token:e,providedIn:"root",factory:mh}),e})();function _h(){return new yh([new dh])}let yh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||_h()),deps:[[e,new rr,new tr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:_h}),e})();function vh(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(De(s)),fe(s))for(let e=de;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&vh(t[1],t,n,r)}const o=n.type;if(8&o)vh(e,t,n.child,r);else if(32&o){const e=Ti(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Xi(t,n);if(Array.isArray(e))r.push(...e);else{const n=xi(t[16]);vh(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class bh{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return vh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Mi(e,n),Rn(t,n))}this._attachedToViewContainer=!1}Vi(this._lView[1],this._lView)}onDestroy(e){qs(this._lView[1],this._lView,null,e)}markForCheck(){lo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){co(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){it(!0);try{co(e,t,n)}finally{it(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,rs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class wh extends bh{constructor(e){super(e),this._view=e}detectChanges(){uo(this._view)}checkNoChanges(){!function(e){it(!0);try{uo(e)}finally{it(!1)}}(this._view)}get context(){return null}}const Ch=function(e){return function(e,t,n){if(ge(e)&&!n){const n=Ve(e.index,t);return new bh(n,n)}return 47&e.type?new bh(t[16],t):null}(Qe(),Ke(),16==(16&e))};let Sh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ch,e})();const Eh=[new dh],Ih=new gh([new sh]),Th=new yh(Eh),xh=function(){return Oh(Qe(),Ke())};let kh=(()=>{class e{}return e.__NG_ELEMENT_ID__=xh,e})();const Ah=kh,Rh=class extends Ah{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=As(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ds(t,n,e),new bh(n)}};function Oh(e,t){return 4&e.type?new Rh(t,e,Yu(e,t)):null}class Ph{}class Dh{}const Nh=function(){return Bh(Qe(),Ke())};let Lh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nh,e})();const Fh=Lh,Mh=class extends Fh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Jt(this._hostTNode,this._hostLView);if(zt(e)){const t=Ht(e,this._hostLView),n=Gt(e);return new hn(t[1].data[n+8],t)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Vh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-de}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Ph,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Mh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=de+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-de?(t[4]=n[i],An(n,de+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=es(i,s),a=n[11],l=Hi(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,rs(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),An(Uh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Vh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Mi(this._lContainer,t);n&&(Rn(Uh(this._lContainer),t),Vi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Mi(this._lContainer,t);return n&&null!=Rn(Uh(this._lContainer),t)?new bh(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Vh(e){return e[8]}function Uh(e){return e[8]||(e[8]=[])}function Bh(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let i;if(8&e.type)i=De(r);else{const n=t[11];i=n.createComment("");const r=Le(e,t);qi(n,Hi(n,r),i,function(e,t){return Oe(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=ro(r,t,i,e),ao(t,n)}return new Mh(n,e,t)}const jh={};class qh extends Zu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new Hh(t,this.ngModule)}}function zh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Gh=new Cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vi});class Hh extends Hu{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ys).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return zh(this.componentDef.inputs)}get outputs(){return zh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,jh,i);return s!==jh||r===jh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Xu,Pe),o=i.get(nh,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Oe(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Li(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Te:"math"===t?xe:null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:vi,clean:po,playerHandler:null,flags:0},d=js(0,null,null,1,0,null,null,null,null,null),p=As(null,d,h,u,null,null,s,a,o,i);let f,m;yt(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Rs(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(bo(a,l,!0),null!==e&&(Vt(i,e,l),null!==a.classes&&os(i,e,a.classes),null!==a.styles&&ss(i,e,a.styles)));const c=r.createRenderer(e,t),u=As(n,Bs(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Xt(Yt(a,n),o,t.type),Ks(o,a),Ws(a,n.length,1)),ao(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Vt(a,c,["ng-version",ih.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ps(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Vt(a,c,e),t&&t.length>0&&os(a,c,t.join(" "))}if(m=Fe(d,he),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Qe();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qs(e,r,t,Ps(e,t,1,null),n));const i=ln(t,e,r.directiveStart,r);hi(i,t);const s=Le(r,t);return s&&hi(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Qe();t.contentQueries(1,o,e.directiveStart)}const a=Qe();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(It(a.index),$s(n[1],a,0,a.directiveStart,a.directiveEnd,t),Zs(t,o)),o}(e,this.componentDef,p,h,[Mo]),Ds(d,p,null)}finally{St()}return new $h(this.componentType,f,Yu(m,p),p,m)}}class $h extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new wh(r),this.componentType=e}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Zh(e,t,n,r){return L(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Kh=new Map;class Yh extends Ph{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qh(this);const n=ue(e),r=e[Y]||null;r&&Mc(r),this._bootstrapComponents=Si(n.bootstrap),this._r3Injector=ko(e,t,[{provide:Ph,useValue:this},{provide:Zu,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Fo.THROW_IF_NOT_FOUND,n=O.Default){return e===Fo||e===Ph||e===wo?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Wh extends Dh{constructor(e){super(),this.moduleType=e,null!==ue(e)&&function(e){const t=new Set;!function e(n){const r=ue(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,Kh.get(i),n),Kh.set(i,n));const s=Si(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Yh(this.moduleType,e)}}function Qh(e,t,n){const r=st()+e,i=Ke();return i[r]===vs?Jo(i,r,n?t.call(n):t()):Xo(i,r)}function Jh(e,t,n,r){return ld(Ke(),st(),e,t,n,r)}function Xh(e,t,n,r,i){return cd(Ke(),st(),e,t,n,r,i)}function ed(e,t,n,r,i,s){return ud(Ke(),st(),e,t,n,r,i,s)}function td(e,t,n,r,i,s,o){return hd(Ke(),st(),e,t,n,r,i,s,o)}function nd(e,t,n,r,i,s,o,a){const l=st()+e,c=Ke(),u=ra(c,l,n,r,i,s);return ea(c,l+4,o)||u?Jo(c,l+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):Xo(c,l+5)}function rd(e,t,n,r,i,s,o,a,l){const c=st()+e,u=Ke(),h=ra(u,c,n,r,i,s);return ta(u,c+4,o,a)||h?Jo(u,c+6,l?t.call(l,n,r,i,s,o,a):t(n,r,i,s,o,a)):Xo(u,c+6)}function id(e,t,n,r,i,s,o,a,l,c){const u=st()+e,h=Ke();let d=ra(h,u,n,r,i,s);return na(h,u+4,o,a,l)||d?Jo(h,u+7,c?t.call(c,n,r,i,s,o,a,l):t(n,r,i,s,o,a,l)):Xo(h,u+7)}function sd(e,t,n,r,i,s,o,a,l,c,u){const h=st()+e,d=Ke(),p=ra(d,h,n,r,i,s);return ra(d,h+4,o,a,l,c)||p?Jo(d,h+8,u?t.call(u,n,r,i,s,o,a,l,c):t(n,r,i,s,o,a,l,c)):Xo(d,h+8)}function od(e,t,n,r){return dd(Ke(),st(),e,t,n,r)}function ad(e,t){const n=e[t];return n===vs?void 0:n}function ld(e,t,n,r,i,s){const o=t+n;return ea(e,o,i)?Jo(e,o+1,s?r.call(s,i):r(i)):ad(e,o+1)}function cd(e,t,n,r,i,s,o){const a=t+n;return ta(e,a,i,s)?Jo(e,a+2,o?r.call(o,i,s):r(i,s)):ad(e,a+2)}function ud(e,t,n,r,i,s,o,a){const l=t+n;return na(e,l,i,s,o)?Jo(e,l+3,a?r.call(a,i,s,o):r(i,s,o)):ad(e,l+3)}function hd(e,t,n,r,i,s,o,a,l){const c=t+n;return ra(e,c,i,s,o,a)?Jo(e,c+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):ad(e,c+4)}function dd(e,t,n,r,i,s){let o=t+n,a=!1;for(let l=0;l<i.length;l++)ea(e,o++,i[l])&&(a=!0);return a?Jo(e,o,r.apply(s,i)):ad(e,o)}function pd(e,t){const n=Ye();let r;const i=e+he;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ve(r.type)),o=D(Oa);try{const e=Zt(!1),t=s();return Zt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ke(),i,t),t}finally{D(o)}}function fd(e,t,n){const r=e+he,i=Ke(),s=Me(i,r);return bd(i,vd(i,r)?ld(i,st(),t,s.transform,n,s):s.transform(n))}function md(e,t,n,r){const i=e+he,s=Ke(),o=Me(s,i);return bd(s,vd(s,i)?cd(s,st(),t,o.transform,n,r,o):o.transform(n,r))}function gd(e,t,n,r,i){const s=e+he,o=Ke(),a=Me(o,s);return bd(o,vd(o,s)?ud(o,st(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function _d(e,t,n,r,i,s){const o=e+he,a=Ke(),l=Me(a,o);return bd(a,vd(a,o)?hd(a,st(),t,l.transform,n,r,i,s,l):l.transform(n,r,i,s))}function yd(e,t,n){const r=e+he,i=Ke(),s=Me(i,r);return bd(i,vd(i,r)?dd(i,st(),t,s.transform,n,s):s.transform.apply(s,n))}function vd(e,t){return e[1].data[t].pure}function bd(e,t){return Yo.isWrapped(t)&&(t=Yo.unwrap(t),e[ot()]=vs),t}function wd(e){return t=>{setTimeout(e,void 0,t)}}const Cd=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=wd(l),a&&(a=wd(a)),c&&(c=wd(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.w&&e.add(u),u}};function Sd(){return this._results[Ko()]()}class Ed{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ko(),n=Ed.prototype;n[t]||(n[t]=Sd)}get changes(){return this._changes||(this._changes=new Cd)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=xn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Id{constructor(e){this.queryList=e,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class Td{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Td(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Bd(e,t).matches&&this.queries[t].setDirty()}}class xd{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class kd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new kd(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ad{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ad(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Rd(t,i)),this.matchTNodeWithReadOption(e,t,an(t,e,i,!1,!1))}else n===kh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,an(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qu||r===Lh||r===kh&&4&t.type)this.addMatch(t.index,-2);else{const n=an(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Rd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Od(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Yu(e,t):4&e.type?Oh(e,t):null}(t,e):-2===n?function(e,t,n){return n===Qu?Yu(t,e):n===kh?Oh(t,e):n===Lh?Bh(t,e):void 0}(e,t,r):ln(e,e[1],n,t)}function Pd(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Od(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Dd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Pd(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=de;e<o.length;e++){const t=o[e];t[17]===t[3]&&Dd(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Dd(n[1],n,i,r)}}}}}return r}function Nd(e){const t=Ke(),n=Ye(),r=ft();mt(r+1);const i=Bd(n,r);if(e.dirty&&Ue(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Dd(n,t,r,[]):Pd(n,t,i,r);e.reset(s,Ju),e.notifyOnChanges()}return!0}return!1}function Ld(e,t,n){const r=Ye();r.firstCreatePass&&(Ud(r,new xd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Vd(r,Ke(),t)}function Fd(e,t,n,r){const i=Ye();if(i.firstCreatePass){const s=Qe();Ud(i,new xd(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Vd(i,Ke(),n)}function Md(){return e=Ke(),t=ft(),e[19].queries[t].queryList;var e,t}function Vd(e,t,n){const r=new Ed(4==(4&n));qs(e,t,r,r.destroy),null===t[19]&&(t[19]=new Td),t[19].queries.push(new Id(r))}function Ud(e,t,n){null===e.queries&&(e.queries=new kd),e.queries.track(new Ad(t,n))}function Bd(e,t){return e.queries.getByIndex(t)}function jd(e,t){return Oh(e,t)}const qd=(()=>({"\u0275\u0275attribute":ia,"\u0275\u0275attributeInterpolate1":fa,"\u0275\u0275attributeInterpolate2":ma,"\u0275\u0275attributeInterpolate3":ga,"\u0275\u0275attributeInterpolate4":_a,"\u0275\u0275attributeInterpolate5":ya,"\u0275\u0275attributeInterpolate6":va,"\u0275\u0275attributeInterpolate7":ba,"\u0275\u0275attributeInterpolate8":wa,"\u0275\u0275attributeInterpolateV":Ca,"\u0275\u0275defineComponent":X,"\u0275\u0275defineDirective":ae,"\u0275\u0275defineInjectable":w,"\u0275\u0275defineInjector":S,"\u0275\u0275defineNgModule":ie,"\u0275\u0275definePipe":le,"\u0275\u0275directiveInject":Oa,"\u0275\u0275getInheritedFactory":dn,"\u0275\u0275inject":Yn,"\u0275\u0275injectAttribute":fn,"\u0275\u0275invalidFactory":Pa,"\u0275\u0275invalidFactoryDep":Wn,"\u0275\u0275templateRefExtractor":jd,"\u0275\u0275NgOnChangesFeature":we,"\u0275\u0275ProvidersFeature":Gu,"\u0275\u0275CopyDefinitionFeature":$o,"\u0275\u0275InheritDefinitionFeature":Uo,"\u0275\u0275nextContext":Wa,"\u0275\u0275namespaceHTML":At,"\u0275\u0275namespaceMathML":kt,"\u0275\u0275namespaceSVG":xt,"\u0275\u0275enableBindings":$e,"\u0275\u0275disableBindings":Ze,"\u0275\u0275elementStart":La,"\u0275\u0275elementEnd":Fa,"\u0275\u0275element":Ma,"\u0275\u0275elementContainerStart":Va,"\u0275\u0275elementContainerEnd":Ua,"\u0275\u0275elementContainer":Ba,"\u0275\u0275pureFunction0":Qh,"\u0275\u0275pureFunction1":Jh,"\u0275\u0275pureFunction2":Xh,"\u0275\u0275pureFunction3":ed,"\u0275\u0275pureFunction4":td,"\u0275\u0275pureFunction5":nd,"\u0275\u0275pureFunction6":rd,"\u0275\u0275pureFunction7":id,"\u0275\u0275pureFunction8":sd,"\u0275\u0275pureFunctionV":od,"\u0275\u0275getCurrentView":ja,"\u0275\u0275restoreView":We,"\u0275\u0275listener":Ha,"\u0275\u0275projection":Xa,"\u0275\u0275syntheticHostProperty":Sc,"\u0275\u0275syntheticHostListener":$a,"\u0275\u0275pipeBind1":fd,"\u0275\u0275pipeBind2":md,"\u0275\u0275pipeBind3":gd,"\u0275\u0275pipeBind4":_d,"\u0275\u0275pipeBindV":yd,"\u0275\u0275projectionDef":Ja,"\u0275\u0275hostProperty":Cc,"\u0275\u0275property":Da,"\u0275\u0275propertyInterpolate":el,"\u0275\u0275propertyInterpolate1":tl,"\u0275\u0275propertyInterpolate2":nl,"\u0275\u0275propertyInterpolate3":rl,"\u0275\u0275propertyInterpolate4":il,"\u0275\u0275propertyInterpolate5":sl,"\u0275\u0275propertyInterpolate6":ol,"\u0275\u0275propertyInterpolate7":al,"\u0275\u0275propertyInterpolate8":ll,"\u0275\u0275propertyInterpolateV":cl,"\u0275\u0275pipe":pd,"\u0275\u0275queryRefresh":Nd,"\u0275\u0275viewQuery":Ld,"\u0275\u0275loadQuery":Md,"\u0275\u0275contentQuery":Fd,"\u0275\u0275reference":Ea,"\u0275\u0275classMap":Il,"\u0275\u0275classMapInterpolate1":Yl,"\u0275\u0275classMapInterpolate2":Wl,"\u0275\u0275classMapInterpolate3":Ql,"\u0275\u0275classMapInterpolate4":Jl,"\u0275\u0275classMapInterpolate5":Xl,"\u0275\u0275classMapInterpolate6":ec,"\u0275\u0275classMapInterpolate7":tc,"\u0275\u0275classMapInterpolate8":nc,"\u0275\u0275classMapInterpolateV":rc,"\u0275\u0275styleMap":Sl,"\u0275\u0275styleMapInterpolate1":ic,"\u0275\u0275styleMapInterpolate2":sc,"\u0275\u0275styleMapInterpolate3":oc,"\u0275\u0275styleMapInterpolate4":ac,"\u0275\u0275styleMapInterpolate5":lc,"\u0275\u0275styleMapInterpolate6":cc,"\u0275\u0275styleMapInterpolate7":uc,"\u0275\u0275styleMapInterpolate8":hc,"\u0275\u0275styleMapInterpolateV":dc,"\u0275\u0275styleProp":wl,"\u0275\u0275stylePropInterpolate1":pc,"\u0275\u0275stylePropInterpolate2":fc,"\u0275\u0275stylePropInterpolate3":mc,"\u0275\u0275stylePropInterpolate4":gc,"\u0275\u0275stylePropInterpolate5":_c,"\u0275\u0275stylePropInterpolate6":yc,"\u0275\u0275stylePropInterpolate7":vc,"\u0275\u0275stylePropInterpolate8":bc,"\u0275\u0275stylePropInterpolateV":wc,"\u0275\u0275classProp":Cl,"\u0275\u0275advance":bs,"\u0275\u0275template":Sa,"\u0275\u0275text":Vl,"\u0275\u0275textInterpolate":Ul,"\u0275\u0275textInterpolate1":Bl,"\u0275\u0275textInterpolate2":jl,"\u0275\u0275textInterpolate3":ql,"\u0275\u0275textInterpolate4":zl,"\u0275\u0275textInterpolate5":Gl,"\u0275\u0275textInterpolate6":Hl,"\u0275\u0275textInterpolate7":$l,"\u0275\u0275textInterpolate8":Zl,"\u0275\u0275textInterpolateV":Kl,"\u0275\u0275i18n":Pu,"\u0275\u0275i18nAttributes":Du,"\u0275\u0275i18nExp":Nu,"\u0275\u0275i18nStart":Ru,"\u0275\u0275i18nEnd":Ou,"\u0275\u0275i18nApply":Lu,"\u0275\u0275i18nPostprocess":Fu,"\u0275\u0275resolveWindow":bi,"\u0275\u0275resolveDocument":wi,"\u0275\u0275resolveBody":Ci,"\u0275\u0275setComponentScope":ee,"\u0275\u0275setNgModuleScope":se,"\u0275\u0275sanitizeHtml":ni,"\u0275\u0275sanitizeStyle":ri,"\u0275\u0275sanitizeResourceUrl":si,"\u0275\u0275sanitizeScript":oi,"\u0275\u0275sanitizeUrl":ii,"\u0275\u0275sanitizeUrlOrResourceUrl":ci,"\u0275\u0275trustConstantHtml":ai,"\u0275\u0275trustConstantResourceUrl":li,forwardRef:p,resolveForwardRef:f}))(),zd=[];function Gd(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const Hd=yn("NgModule",e=>e,void 0,void 0,(e,t)=>$d(e,t)),$d=function(e,t={}){!function(e,t,n=!1){const r=xn(t.declarations||G);let i=null;Object.defineProperty(e,K,{configurable:!0,get:()=>(null===i&&(i=En().compileNgModule(qd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:xn(t.bootstrap||G).map(f),declarations:r.map(f),imports:xn(t.imports||G).map(f).map(Gd),exports:xn(t.exports||G).map(f).map(Gd),schemas:t.schemas?xn(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,W,{get:()=>{if(null===s){const t=En();s=t.compileFactory(qd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:lr(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,k,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||G,imports:[(t.imports||G).map(f),(t.exports||G).map(f)]};o=En().compileInjector(qd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){zd.push({moduleType:e,ngModule:t})}(e,t)},Zd=new Cn("Application Initializer");let Kd=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Ku,this.reject=Ku,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(qa(t))e.push(t);else if(Ga(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Yn(Zd,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const Yd=new Cn("AppId"),Wd={provide:Yd,useFactory:function(){return`${Qd()}${Qd()}${Qd()}`},deps:[]};function Qd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jd=new Cn("Platform Initializer"),Xd=new Cn("Platform ID"),ep=new Cn("appBootstrapListener");let tp=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const np=new Cn("LocaleId"),rp=new Cn("DefaultCurrencyCode");class ip{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const sp=function(e){return new Wh(e)},op=sp,ap=function(e){return Promise.resolve(sp(e))},lp=function(e){const t=sp(e),n=Si(ue(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new Hh(n)),e},[]);return new ip(t,n)},cp=lp,up=function(e){return Promise.resolve(lp(e))};let hp=(()=>{class e{constructor(){this.compileModuleSync=op,this.compileModuleAsync=ap,this.compileModuleAndAllComponentsSync=cp,this.compileModuleAndAllComponentsAsync=up}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const dp=(()=>Promise.resolve(0))();function pp(e){"undefined"==typeof Zone?dp.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class fp{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cd(!1),this.onMicrotaskEmpty=new Cd(!1),this.onStable=new Cd(!1),this.onError=new Cd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_p(e),e.isCheckStableRunning=!0,gp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_p(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return yp(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),vp(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return yp(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),vp(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,_p(e),gp(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fp.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fp.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,mp,Ku,Ku);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const mp={};function gp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _p(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function yp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vp(e){e._nesting--,gp(e)}class bp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cd,this.onMicrotaskEmpty=new Cd,this.onStable=new Cd,this.onError=new Cd}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let wp=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fp.assertNotInAngularZone(),pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Yn(fp))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})(),Cp=(()=>{class e{constructor(){this._applications=new Map,Tp.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Tp.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();class Sp{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Ep(e){Tp=e}let Ip,Tp=new Sp,xp=!0,kp=!1;function Ap(){return kp=!0,xp}function Rp(){if(kp)throw new Error("Cannot enable prod mode after platform setup.");xp=!1}const Op=new Cn("AllowMultipleToken");class Pp{constructor(e,t){this.name=e,this.token=t}}function Dp(e,t,n=[]){const r=`Platform: ${t}`,i=new Cn(r);return(t=[])=>{let s=Np();if(!s||s.injector.get(Op,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:So,useValue:"platform"});!function(e){if(Ip&&!Ip.destroyed&&!Ip.injector.get(Op,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ip=e.get(Lp);const t=e.get(Jd,null);t&&t.forEach(e=>e())}(Fo.create({providers:e,name:r}))}return function(e){const t=Np();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Np(){return Ip&&!Ip.destroyed?Ip:null}let Lp=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new bp:("zone.js"===e?void 0:e)||new fp({enableLongStackTrace:Ap(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:fp,useValue:n}];return n.run(()=>{const t=Fo.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(gi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Vp(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return qa(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Kd);return e.runInitializers(),e.donePromise.then(()=>(Mc(i.injector.get(np,Pc)||Pc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Fp({},t);return function(e,t,n){const r=new Wh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Mp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Yn(Fo))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Fp(e,t){return Array.isArray(t)?t.reduce(Fp,e):Object.assign(Object.assign({},e),t)}let Mp=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{fp.assertNotInAngularZone(),pp(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{fp.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Hu?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ph),i=n.create(Fo.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(wp,null),a=o&&i.injector.get(Cp);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Vp(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Vp(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ep,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Yn(fp),Yn(Fo),Yn(gi),Yn(Zu),Yn(Kd))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Vp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Up{}class Bp{}const jp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qp=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||jp}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>zp(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>zp(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Yn(hp),Yn(Bp,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function zp(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Gp=function(e){return null},Hp=Dp(null,"core",[{provide:Xd,useValue:"unknown"},{provide:Lp,deps:[Fo]},{provide:Cp,deps:[]},{provide:tp,deps:[]}]),$p=[{provide:Mp,useClass:Mp,deps:[fp,Fo,gi,Zu,Kd]},{provide:Gh,deps:[fp],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Kd,useClass:Kd,deps:[[new tr,Zd]]},{provide:hp,useClass:hp,deps:[]},Wd,{provide:gh,useFactory:function(){return Ih},deps:[]},{provide:yh,useFactory:function(){return Th},deps:[]},{provide:np,useFactory:function(e){return Mc(e=e||"undefined"!=typeof $localize&&$localize.locale||Pc),e},deps:[[new er(np),new tr,new rr]]},{provide:rp,useValue:"USD"}];let Zp=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Yn(Mp))},e.\u0275mod=ie({type:e}),e.\u0275inj=S({providers:$p}),e})()},2920:(e,t,n)=>{"use strict";n.d(t,{nm:()=>ie});var r=n(1319),i=n(3988),s=n(9074),o=n(3754),a=n(6921),l=n(5366),c=(n(5395),n(1858),n(6304)),u=n(7964),h=n(1947),d=n(5725),p=n(8678);const f=new Map,m={activated:!1,tokenObservers:[]},g={initialized:!1,enabled:!1};function _(e){return f.get(e)||m}function y(e,t){f.set(e,t)}function v(){return g}class b{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,c.Z)(function*(){t.stop();try{t.pending=new d.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new d.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const w=new d.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function C(e){if(!_(e).activated)throw w.create("use-before-activation",{appName:e.name})}function S(e,t){return E.apply(this,arguments)}function E(){return(E=(0,c.Z)(function*({url:e,body:t},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const e=yield o.getHeartbeatsHeader();e&&(s["X-Firebase-Client"]=e)}const a={method:"POST",body:JSON.stringify(t),headers:s};let l,c;try{l=yield fetch(e,a)}catch(p){throw w.create("fetch-network-error",{originalErrorMessage:null===(r=p)||void 0===r?void 0:r.message})}if(200!==l.status)throw w.create("fetch-status-error",{httpStatus:l.status});try{c=yield l.json()}catch(p){throw w.create("fetch-parse-error",{originalErrorMessage:null===(i=p)||void 0===i?void 0:i.message})}const u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw w.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const h=1e3*Number(u[1]),d=Date.now();return{token:c.token,expireTimeMillis:d+h,issuedAtTimeMillis:d}})).apply(this,arguments)}function I(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const T="firebase-app-check-store",x="debug-token";let k=null;function A(){return k||(k=new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(w.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(T,{keyPath:"compositeKey"})}}}catch(r){t(w.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),k)}function R(e){return L(M(e))}function O(e){return D(x,e)}function P(){return L(x)}function D(e,t){return N.apply(this,arguments)}function N(){return(N=(0,c.Z)(function*(e,t){const n=(yield A()).transaction(T,"readwrite"),r=n.objectStore(T).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(w.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function L(e){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(function*(e){const t=(yield A()).transaction(T,"readonly"),n=t.objectStore(T).get(e);return new Promise((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(w.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})})).apply(this,arguments)}function M(e){return`${e.options.appId}-${e.name}`}const V=new p.Yd("@firebase/app-check");function U(){return(U=(0,c.Z)(function*(e){if((0,d.hl)()){let n;try{n=yield R(e)}catch(t){V.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return n}})).apply(this,arguments)}function B(e,t){return(0,d.hl)()?function(e,t){return D(M(e),t)}(e,t).catch(e=>{V.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function j(){return(j=(0,c.Z)(function*(){let e;try{e=yield P()}catch(t){}if(e)return e;{const e=(0,d.k$)();return O(e).catch(e=>V.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`)),e}})).apply(this,arguments)}function q(){return v().enabled}function z(){return G.apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(){const e=v();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const H={error:"UNKNOWN_ERROR"};function $(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(function*(e,t=!1){const n=e.app;C(n);const r=_(n);let i,s=r.token;if(s&&!J(s)&&(y(n,Object.assign(Object.assign({},r),{token:void 0})),s=void 0),!s){const e=yield r.cachedTokenPromise;e&&(J(e)?s=e:yield B(n,void 0))}if(!t&&s&&J(s))return{token:s.token};let o,a=!1;if(q()){r.exchangeTokenPromise||(r.exchangeTokenPromise=S(I(n,yield z()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);const t=yield r.exchangeTokenPromise;return yield B(n,t),y(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),s=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?V.warn(l.message):V.error(l),i=l}return s?i?o=J(s)?{token:s.token,internalError:i}:X(i):(o={token:s.token},y(n,Object.assign(Object.assign({},r),{token:s})),yield B(n,s)):o=X(i),a&&Q(n,o),o})).apply(this,arguments)}function K(e,t,n,r){const{app:i}=e,s=_(i),o={next:n,error:r,type:t};if(y(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&J(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),W(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>W(e))}function Y(e,t){const n=_(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function W(e){const{app:t}=e,n=_(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new b((0,c.Z)(function*(){let n;if(n=_(t).token?yield $(e,!0):yield $(e),n.error)throw n.error;if(n.internalError)throw n.internalError}),()=>!0,()=>{const e=_(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),y(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Q(e,t){const n=_(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function J(e){return e.expireTimeMillis-Date.now()>0}function X(e){return{token:(t=H,d.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class ee{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_(this.app);for(const t of e)Y(this.app,t.next);return Promise.resolve()}}function te(){return(te=(0,c.Z)(function*(e,t){const n=yield $(e,t);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}const ne="app-check-internal";(0,u._registerComponent)(new h.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new ee(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ne).initialize()})),(0,u._registerComponent)(new h.wA(ne,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>$(t,e),addTokenListener:e=>K(t,"INTERNAL",e),removeTokenListener:e=>Y(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,u.registerVersion)("@firebase/app-check","0.5.13");const re="app-check";class ie{constructor(){return(0,r.vb)(re)}}(0,i.H)(0,300).pipe((0,o.b)(()=>(0,s.D)((0,r.vb)(re))),(0,a.E)()),new l.OlP("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new l.FiY,new l.FiY,(0,r.u3)(function(e,t){return te.apply(this,arguments)},!0),(0,r.u3)(function(e=(0,u.getApp)(),t){e=(0,d.m9)(e);const n=(0,u._getProvider)(e,"app-check");if(v().initialized||function(){const e=(0,d.Rd)(),t=v();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new d.BH;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return j.apply(this,arguments)}())}(),q()&&z().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw w.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=_(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return U.apply(this,arguments)}(e).then(t=>(t&&J(t)&&(y(e,Object.assign(Object.assign({},_(e)),{token:t})),Q(e,{token:t.token})),t)),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,y(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),_(e).isTokenAutoRefreshEnabled&&K(r,"INTERNAL",()=>{}),r},!0),(0,r.u3)(function(e,t,n,r){let i=()=>{},s=()=>{};return i=null!=t.next?t.next.bind(t):t,null!=t.error?s=t.error.bind(t):n&&(s=n),K(e,"EXTERNAL",i,s),()=>Y(e.app,i)},!0),(0,r.u3)(function(e,t){const n=e.app,r=_(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),y(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))},!0)},5395:(e,t,n)=>{"use strict";n.d(t,{Ot:()=>u,z6:()=>h,ZF:()=>y,hX:()=>_});var r=n(1858),i=n(3988),s=n(9074),o=n(3754),a=n(6921),l=n(5366),c=n(1319);class u{constructor(e){return e}}class h{constructor(){return(0,r.C6)()}}(0,i.H)(0,300).pipe((0,o.b)(()=>(0,s.D)((0,r.C6)())),(0,a.E)());const d=new l.OlP("angularfire2._apps"),p={provide:u,useFactory:function(e){return e&&1===e.length?e[0]:new u((0,r.Mq)())},deps:[[new l.FiY,d]]},f={provide:h,deps:[[new l.FiY,d]]};function m(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new u(r)}}let g=(()=>{class e{constructor(e){(0,r.KN)("angularfire",c.q4.full,"core"),(0,r.KN)("angularfire",c.q4.full,"app"),(0,r.KN)("angular",l.q4F.full,e.toString())}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.Lbi))},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[p,f]}),e})();function _(e,...t){return{ngModule:g,providers:[{provide:d,useFactory:m(e),multi:!0,deps:[l.R0b,l.zs3,c.HU,...t]}]}}(0,c.u3)(r.P2,!0),(0,c.u3)(r.Mq,!0),(0,c.u3)(r.C6,!0);const y=(0,c.u3)(r.ZF,!0);(0,c.u3)(r.TP,!0),(0,c.u3)(r.KN,!0),(0,c.u3)(r.Ub,!0)},1986:(e,t,n)=>{"use strict";n.d(t,{zQ:()=>G,rT:()=>B,f7:()=>q,L6:()=>V,_Q:()=>U,lh:()=>j,Qv:()=>M,nw:()=>z});var r=n(5366),i=n(1155),s=n(9255),o=n(7979),a=new o.y(function(e){return e.complete()}),l=n(1330),c=n(9074),u=n(3604),h=n(4153),d=n(4762),p=n(8890),f=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=p.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return(0,d.ZT)(t,e),t.prototype.next=function(t){var n=this,r=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,o=n._windowTime;n.isStopped||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){for(var o=n.now(),a=0,l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}},t}(u.x),m=n(575),g=n(1989);function _(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new m.Hp({next:function(){i.unsubscribe(),e()}});return t.apply(void 0,(0,d.ev)([],(0,d.CR)(n))).subscribe(i)}}else e()}function y(e,t,n){var r,i,o,a,l=!1;return e&&"object"==typeof e?(a=void 0===(r=e.bufferSize)?1/0:r,t=void 0===(i=e.windowTime)?1/0:i,l=void 0!==(o=e.refCount)&&o,n=e.scheduler):a=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new u.x}:t,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,a=void 0===o||o,l=e.resetOnRefCountZero,c=void 0===l||l;return function(e){var t,r,o,l=0,u=!1,h=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=o=void 0,u=h=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return(0,g.e)(function(e,g){l++,h||u||d();var y=o=null!=o?o:n();g.add(function(){0!=--l||h||u||(r=_(f,c))}),y.subscribe(g),!t&&l>0&&(t=new m.Hp({next:function(e){return y.next(e)},error:function(e){h=!0,d(),r=_(p,i,e),y.error(e)},complete:function(){u=!0,d(),r=_(p,a),y.complete()}}),(0,s.Xf)(e).subscribe(t))})(e)}}({connector:function(){return new f(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var v=(0,n(3095).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),b=n(3764),w=n(7038);function C(e){return e<=0?function(){return a}:(0,g.e)(function(t,n){var r=0;t.subscribe((0,w.x)(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}function S(e){return(0,g.e)(function(t,n){var r=!1;t.subscribe((0,w.x)(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}function E(e){return void 0===e&&(e=I),(0,g.e)(function(t,n){var r=!1;t.subscribe((0,w.x)(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}function I(){return new v}var T=n(9879),x=n(7737),k=n(2314);function A(e,t){return(0,k.m)(t)?(0,x.w)(function(){return e},t):(0,x.w)(function(){return e})}var R=n(1034),O=n(4240),P=n(3073),D=n(1319),N=n(9748),L=n(1116),F=n(2920);n(9001);const M=new r.OlP("angularfire2.auth.use-emulator"),V=new r.OlP("angularfire2.auth.settings"),U=new r.OlP("angularfire2.auth.tenant-id"),B=new r.OlP("angularfire2.auth.langugage-code"),j=new r.OlP("angularfire2.auth.use-device-language"),q=new r.OlP("angularfire.auth.persistence"),z=(e,t,n,r,i,s,o,a)=>(0,N.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let G=(()=>{class e{constructor(e,t,r,d,p,f,m,g,_,w,I,k){const F=new u.x,M=(0,h.of)(void 0).pipe((0,R.Q)(p.outsideAngular),(0,x.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,3121)))),(0,O.U)(()=>(0,N.on)(e,d,t)),(0,O.U)(e=>z(e,d,f,g,_,w,m,I)),y({bufferSize:1,refCount:!1}));if((0,L.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,h.of)(null);else{M.pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,b.h)(function(t,n){return e(t,n,r)}):T.y,C(1),n?S(t):E(function(){return new v}))}}()).subscribe();const e=M.pipe((0,x.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),D.iC,y({bufferSize:1,refCount:!1})),t=M.pipe((0,x.w)(e=>new o.y(t=>({unsubscribe:d.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=M.pipe((0,x.w)(e=>new o.y(t=>({unsubscribe:d.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(A(t),(0,P.R)(p.outsideAngular),(0,R.Q)(p.insideAngular)),this.user=e.pipe(A(n),(0,P.R)(p.outsideAngular),(0,R.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,x.w)(e=>e?(0,c.D)(e.getIdToken()):(0,h.of)(null))),this.idTokenResult=this.user.pipe((0,x.w)(e=>e?(0,c.D)(e.getIdTokenResult()):(0,h.of)(null))),this.credential=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,l.yG)(e),r=(0,l._6)(e,1/0),o=e;return o.length?1===o.length?(0,s.Xf)(o[0]):(0,i.J)(r)((0,c.D)(o,n)):a}(e,F,this.authState.pipe((0,b.h)(e=>!e))).pipe((0,O.U)(e=>(null==e?void 0:e.user)?e:null),(0,P.R)(p.outsideAngular),(0,R.Q)(p.insideAngular))}return(0,N.pX)(this,M,d,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>F.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(N.Dh),r.LFG(N.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(D.HU),r.LFG(M,8),r.LFG(V,8),r.LFG(U,8),r.LFG(B,8),r.LFG(j,8),r.LFG(q,8),r.LFG(F.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();(0,N.GT)(G,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}])},4127:(e,t,n)=>{"use strict";n.d(t,{ST:()=>fe,yb:()=>me});var r=n(5366),i=n(7462),s=n(7979),o=n(9074),a=n(4153),l=n(1319),c=n(1989),u=n(7038);function h(e,t,n,r,i){return function(s,o){var a=n,l=t,c=0;s.subscribe((0,u.x)(o,function(t){var n=c++;l=a?e(l,t,n):(a=!0,t),r&&o.next(l)},i&&function(){a&&o.next(l),o.complete()}))}}function d(e,t){return(0,c.e)(h(e,t,arguments.length>=2,!0))}var p=n(7386),f=n(1170),m=n(4240),g=n(940),_=n(3764),y=n(9748),v=n(1116),b=(n(3121),n(6986)),w=n(5930),C=n(5725),S=n(1947);function E(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new w.WA("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function I(){if("undefined"==typeof Uint8Array)throw new w.WA("unimplemented","Uint8Arrays are not available in this environment.")}function T(){if(!(0,w.Me)())throw new w.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class x{constructor(e){this._delegate=e}static fromBase64String(e){return T(),new x(w.Jj.fromBase64String(e))}static fromUint8Array(e){return I(),new x(w.Jj.fromUint8Array(e))}toBase64(){return T(),this._delegate.toBase64()}toUint8Array(){return I(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function k(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class A{enableIndexedDbPersistence(e,t){return(0,w.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,w.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,w.Fc)(e._delegate)}}class R{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof w.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,w.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){(0,w.at)(this._delegate,e,t,n)}enableNetwork(){return(0,w.Ix)(this._delegate)}disableNetwork(){return(0,w.TF)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,w.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,w.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,w.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new w.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new G(this,(0,w.hJ)(this._delegate,e))}catch(t){throw F(t,"collection()","Firestore.collection()")}}doc(e){try{return new L(this,(0,w.JU)(this._delegate,e))}catch(t){throw F(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new j(this,(0,w.B$)(this._delegate,e))}catch(t){throw F(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,w.i3)(this._delegate,t=>e(new P(this,t)))}batch(){return(0,w.qY)(this._delegate),new D(new w.PU(this._delegate,e=>(0,w.GL)(this._delegate,e)))}loadBundle(e){return(0,w.Pb)(this._delegate,e)}namedQuery(e){return(0,w.L$)(this._delegate,e).then(e=>e?new j(this,e):null)}}class O extends w.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new x(new w.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return L.forKey(t,this.firestore,null)}}class P{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new O(e)}get(e){const t=H(e);return this._delegate.get(t).then(e=>new U(this._firestore,new w.xU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=H(e);return n?(E("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=H(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=H(e);return this._delegate.delete(t),this}}class D{constructor(e){this._delegate=e}set(e,t,n){const r=H(e);return n?(E("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=H(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=H(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let N=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new w.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new B(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new O(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class L{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new O(e)}static forPath(e,t,n){if(e.length%2!=0)throw new w.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new L(t,new w.my(t._delegate,n,new w.Ky(e)))}static forKey(e,t,n){return new L(t,new w.my(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new G(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new G(this.firestore,(0,w.hJ)(this._delegate,e))}catch(t){throw F(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,C.m9)(e))instanceof w.my&&(0,w.Eo)(this._delegate,e)}set(e,t){t=E("DocumentReference.set",t);try{return t?(0,w.pl)(this._delegate,e,t):(0,w.pl)(this._delegate,e)}catch(n){throw F(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?(0,w.r7)(this._delegate,e):(0,w.r7)(this._delegate,e,t,...n)}catch(r){throw F(r,"updateDoc()","DocumentReference.update()")}}delete(){return(0,w.oe)(this._delegate)}onSnapshot(...e){const t=M(e),n=V(e,e=>new U(this.firestore,new w.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return(0,w.cf)(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?(0,w.kl)(this._delegate):"server"===(null==e?void 0:e.source)?(0,w.Xk)(this._delegate):(0,w.QT)(this._delegate),t.then(e=>new U(this.firestore,new w.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new L(this.firestore,this._delegate.withConverter(e?N.getInstance(this.firestore,e):null))}}function F(e,t,n){return e.message=e.message.replace(t,n),e}function M(e){for(const t of e)if("object"==typeof t&&!k(t))return t;return{}}function V(e,t){var n,r;let i;return i=k(e[0])?e[0]:k(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class U{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new L(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,w.qK)(this._delegate,e._delegate)}}class B extends U{data(e){const t=this._delegate.data(e);return(0,w.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class j{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new O(e)}where(e,t,n){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.ar)(e,t,n)))}catch(r){throw F(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.Xo)(e,t)))}catch(n){throw F(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.b9)(e)))}catch(t){throw F(t,"limit()","Query.limit()")}}limitToLast(e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.vh)(e)))}catch(t){throw F(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.e0)(...e)))}catch(t){throw F(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.TQ)(...e)))}catch(t){throw F(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.Lx)(...e)))}catch(t){throw F(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new j(this.firestore,(0,w.IO)(this._delegate,(0,w.Wu)(...e)))}catch(t){throw F(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,w.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?(0,w.UQ)(this._delegate):"server"===(null==e?void 0:e.source)?(0,w.zN)(this._delegate):(0,w.PL)(this._delegate),t.then(e=>new z(this.firestore,new w.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=M(e),n=V(e,e=>new z(this.firestore,new w.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return(0,w.cf)(this._delegate,t,n)}withConverter(e){return new j(this.firestore,this._delegate.withConverter(e?N.getInstance(this.firestore,e):null))}}class q{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new B(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class z{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new j(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new B(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new q(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new B(this._firestore,n))})}isEqual(e){return(0,w.qK)(this._delegate,e._delegate)}}class G extends j{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new L(this.firestore,e):null}doc(e){try{return new L(this.firestore,void 0===e?(0,w.JU)(this._delegate):(0,w.JU)(this._delegate,e))}catch(t){throw F(t,"doc()","CollectionReference.doc()")}}add(e){return(0,w.ET)(this._delegate,e).then(e=>new L(this.firestore,e))}isEqual(e){return(0,w.Eo)(this._delegate,e._delegate)}withConverter(e){return new G(this.firestore,this._delegate.withConverter(e?N.getInstance(this.firestore,e):null))}}function H(e){return(0,w.Cf)(e,w.my)}class ${constructor(...e){this._delegate=new w.Lz(...e)}static documentId(){return new $(w.Xb.keyField().canonicalString())}isEqual(e){return(e=(0,C.m9)(e))instanceof w.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}class Z{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,w.Bt)();return e._methodName="FieldValue.serverTimestamp",new Z(e)}static delete(){const e=(0,w.AK)();return e._methodName="FieldValue.delete",new Z(e)}static arrayUnion(...e){const t=(0,w.vr)(...e);return t._methodName="FieldValue.arrayUnion",new Z(t)}static arrayRemove(...e){const t=(0,w.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new Z(t)}static increment(e){const t=(0,w.nP)(e);return t._methodName="FieldValue.increment",new Z(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const K={Firestore:R,GeoPoint:w.F8,Timestamp:w.EK,Blob:x,Transaction:P,WriteBatch:D,DocumentReference:L,DocumentSnapshot:U,Query:j,QueryDocumentSnapshot:B,QuerySnapshot:z,CollectionReference:G,FieldPath:$,FieldValue:Z,setLogLevel:function(e){(0,w.Ub)(e)},CACHE_SIZE_UNLIMITED:w.IX};var Y,W;W=(e,t)=>new R(e,t,new A),(Y=b.Z).INTERNAL.registerComponent(new S.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return W(t,n)},"PUBLIC").setServiceProps(Object.assign({},K))),Y.registerVersion("@firebase/firestore-compat","0.1.26");var Q=n(1986),J=n(2920),X=n(9001);function ee(e,t){return function(e,t=i.z){return new s.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function te(e,t){return ee(e,t).pipe((0,m.U)(e=>({payload:e,type:"query"})))}function ne(e,t){return te(e,t).pipe((0,p.O)(void 0),(0,f.G)(),(0,m.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function re(e,t,n){return ne(e,n).pipe(d((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return ie(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return ie(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ie(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,g.x)(),(0,m.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function ie(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function se(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class oe{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=ne(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,m.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,p.O)(void 0),(0,f.G)(),(0,_.h)(([e,t])=>t.length>0||!e),(0,m.U)(([e,t])=>t),l.iC)}auditTrail(e){return this.stateChanges(e).pipe(d((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=se(e);return re(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),l.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(l.iC)}add(e){return this.ref.add(e)}doc(e){return new ae(this.ref.doc(e),this.afs)}}class ae{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=pe(n,t);return new oe(r,i,this.afs)}snapshotChanges(){return ee(this.ref,this.afs.schedulers.outsideAngular).pipe((0,p.O)(void 0),(0,f.G)(),(0,m.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(l.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,m.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,o.D)(this.ref.get(e)).pipe(l.iC)}}class le{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ne(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,_.h)(e=>e.length>0),l.iC):ne(this.query,this.afs.schedulers.outsideAngular).pipe(l.iC)}auditTrail(e){return this.stateChanges(e).pipe(d((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=se(e);return re(this.query,t,this.afs.schedulers.outsideAngular).pipe(l.iC)}valueChanges(e={}){return te(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),l.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(l.iC)}}const ce=new r.OlP("angularfire2.enableFirestorePersistence"),ue=new r.OlP("angularfire2.firestore.persistenceSettings"),he=new r.OlP("angularfire2.firestore.settings"),de=new r.OlP("angularfire2.firestore.use-emulator");function pe(e,t=(e=>e)){return{query:t(e),ref:e}}let fe=(()=>{class e{constructor(e,t,n,r,i,s,l,c,u,h,d,p,f,m,g,_,b){this.schedulers=l;const w=(0,y.on)(e,s,t),C=u;h&&(0,Q.nw)(w,s,d,f,m,g,p,_),[this.firestore,this.persistenceEnabled$]=(0,y.cc)(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const e=s.runOutsideAngular(()=>w.firestore());if(r&&e.settings(r),C&&e.useEmulator(...C),n&&!(0,v.PM)(i)){const t=()=>{try{return(0,o.D)(e.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,a.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,a.of)(!1)]},[r,C,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=pe(n,t),s=this.schedulers.ngZone.run(()=>r);return new oe(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new le(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new ae(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(y.Dh),r.LFG(y.xv,8),r.LFG(ce,8),r.LFG(he,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(l.HU),r.LFG(ue,8),r.LFG(de,8),r.LFG(Q.zQ,8),r.LFG(Q.Qv,8),r.LFG(Q.L6,8),r.LFG(Q._Q,8),r.LFG(Q.rT,8),r.LFG(Q.lh,8),r.LFG(Q.f7,8),r.LFG(J.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),me=(()=>{class e{constructor(){X.Z.registerVersion("angularfire",l.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:ce,useValue:!0},{provide:ue,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[fe]}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>g,on:()=>d,pX:()=>a});var r=n(5366),i=n(9001),s=n(1319);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})();function g(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(y("error",`${t} was already initialized on the ${n} Firebase App with different settings.${_?" You may need to reload as Firebase is not HMR aware.":""}`),y("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const _=!!e.hot,y=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1319:(e,t,n)=>{"use strict";n.d(t,{q4:()=>v,iC:()=>U,HU:()=>L,vb:()=>O,JM:()=>R,nk:()=>A,n1:()=>x,_J:()=>k,u3:()=>j});var r=n(5366),i=n(1858),s=n(4543),o=n(8458),a=n(4701),l=n(4762),c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,l.ZT)(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.flush(this),0)},t}(n(5755).o),u=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,l.ZT)(t,e),t}(n(6160).v))(c),h=n(7462),d=n(7979),p=n(2314),f=n(1989),m=n(7038),g=n(9879),_=n(3073),y=n(1034);const v=new r.GfV("7.4.1"),b="__angularfire_symbol__analyticsIsSupportedValue",w="__angularfire_symbol__analyticsIsSupported",C="__angularfire_symbol__remoteConfigIsSupportedValue",S="__angularfire_symbol__remoteConfigIsSupported",E="__angularfire_symbol__messagingIsSupportedValue",I="__angularfire_symbol__messagingIsSupported";globalThis[w]||(globalThis[w]=(0,a.Gb)().then(e=>globalThis[b]=e).catch(()=>globalThis[b]=!1)),globalThis[I]||(globalThis[I]=(0,o.Gb)().then(e=>globalThis[E]=e).catch(()=>globalThis[E]=!1)),globalThis[S]||(globalThis[S]=(0,s.Gb)().then(e=>globalThis[C]=e).catch(()=>globalThis[C]=!1));const T=e=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${e} in the constructor, first ensure that ${e} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${e})\`.`,x={async:()=>globalThis[I],sync:()=>{const e=globalThis[E];if(void 0===e)throw new Error(T("Messaging"));return e}},k={async:()=>globalThis[S],sync:()=>{const e=globalThis[C];if(void 0===e)throw new Error(T("RemoteConfig"));return e}},A={async:()=>globalThis[w],sync:()=>{const e=globalThis[b];if(void 0===e)throw new Error(T("Analytics"));return e}};function R(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}const O=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function P(){}class D{constructor(e,t=u){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class N{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",P,{},P,P)),t.pipe((r={next:n,complete:n,error:n},i=(0,p.m)(r)?{next:r,error:undefined,complete:undefined}:r,i?(0,f.e)(function(e,t){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;e.subscribe((0,m.x)(t,function(e){var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)},function(){var e;r=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()},function(e){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)},function(){var e,t;r&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)}))}):g.y)).subscribe(e).add(n);var r,i}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let L=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new D(Zone.current)),this.insideAngular=e.run(()=>new D(Zone.current,h.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function F(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function M(e){return F().ngZone.runOutsideAngular(()=>e())}function V(e){return F().ngZone.run(()=>e())}function U(e){return F(),(t=F(),function(e){return(e=e.lift(new N(t.ngZone))).pipe((0,_.R)(t.outsideAngular),(0,y.Q)(t.insideAngular))})(e);var t}const B=(e,t)=>{const n=void 0;return function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),V(()=>e.apply(n,r))}},j=(e,t)=>function(){let n;const r=arguments;for(let e=0;e<arguments.length;e++)"function"==typeof r[e]&&(t&&(n||(n=V(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",P,{},P,P)))),r[e]=B(r[e],n));const i=M(()=>e.apply(this,r));if(!t){if(i instanceof d.y){const e=F();return i.pipe((0,_.R)(e.outsideAngular),(0,y.Q)(e.insideAngular))}return V(()=>i)}return i instanceof d.y?i.pipe(U):i instanceof Promise?V(()=>new Promise((e,t)=>i.then(t=>V(()=>e(t)),e=>V(()=>t(e))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:V(()=>i)}},7979:(e,t,n)=>{"use strict";n.d(t,{y:()=>h});var r=n(575),i=n(9089),s=n(4157),o=n(9879);function a(e){return 0===e.length?o.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var l=n(7422),c=n(2314),u=n(471),h=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var s,o=this,a=(s=e)&&s instanceof r.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(s)&&(0,i.Nn)(s)?e:new r.Hp(e,t,n);return(0,u.x)(function(){var e=o.operator,t=o.source;a.add(e?e.call(a,t):t?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,i){var s=new r.Hp({next:function(t){try{e(t)}catch(n){i(n),s.unsubscribe()}},error:i,complete:t});n.subscribe(s)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[s.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:l.v.Promise)&&void 0!==t?t:Promise}},3604:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var r=n(4762),i=n(7979),s=n(9089),o=(0,n(3095).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),a=n(5697),l=n(471),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ZT)(t,e),t.prototype.lift=function(e){var t=new u(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new o},t.prototype.next=function(e){var t=this;(0,l.x)(function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var s=(0,r.XA)(t.currentObservers),o=s.next();!o.done;o=s.next())o.value.next(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;(0,l.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,l.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.observers;return n.hasError||n.isStopped?s.Lc:(this.currentObservers=null,r.push(e),new s.w0(function(){t.currentObservers=null,(0,a.P)(r,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.isStopped;t.hasError?e.error(t.thrownError):n&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new u(e,t)},t}(i.y),u=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:s.Lc},t}(c)},575:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>_,Lv:()=>p});var r=n(4762),i=n(2314),s=n(9089),o=n(7422),a=n(4608),l=n(4953),c=u("C",void 0,void 0);function u(e,t,n){return{kind:e,value:t,error:n}}var h=n(8827),d=n(471),p=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,s.Nn)(t)&&t.add(n)):n.destination=b,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new _(e,t,n)},t.prototype.next=function(e){this.isStopped?v(function(e){return u("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?v(u("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?v(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.w0),f=Function.prototype.bind;function m(e,t){return f.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){y(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){y(n)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){y(t)}},e}(),_=function(e){function t(t,n,r){var s,a,l=e.call(this)||this;return(0,i.m)(t)||!t?s={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:l&&o.v.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},s={next:t.next&&m(t.next,a),error:t.error&&m(t.error,a),complete:t.complete&&m(t.complete,a)}):s=t,l.destination=new g(s),l}return(0,r.ZT)(t,e),t}(p);function y(e){o.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,a.h)(e)}function v(e,t){var n=o.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(e,t)})}var b={closed:!0,next:l.Z,error:function(e){throw e},complete:l.Z}},9089:(e,t,n)=>{"use strict";n.d(t,{Lc:()=>l,w0:()=>a,Nn:()=>c});var r=n(4762),i=n(2314),s=(0,n(3095).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),o=n(5697),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,o,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var c=(0,r.XA)(l),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(_){e={error:_}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else l.remove(this);var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(y){a=y instanceof s?y.errors:[y]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var f=(0,r.XA)(p),m=f.next();!m.done;m=f.next()){var g=m.value;try{u(g)}catch(v){a=null!=a?a:[],v instanceof s?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(v.errors)):a.push(v)}}}catch(b){n={error:b}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}}if(a)throw new s(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)u(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.P)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,o.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),l=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function u(e){(0,i.m)(e)?e():e.unsubscribe()}},7422:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9074:(e,t,n)=>{"use strict";n.d(t,{D:()=>y});var r=n(9255),i=n(1034),s=n(3073),o=n(7979),a=n(8960),l=n(2314),c=n(2548);function u(e,t){if(!e)throw new Error("Iterable cannot be null");return new o.y(function(n){(0,c.f)(n,t,function(){var r=e[Symbol.asyncIterator]();(0,c.f)(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}var h=n(9552),d=n(7293),p=n(7586),f=n(8760),m=n(6013),g=n(148),_=n(1819);function y(e,t){return t?function(e,t){if(null!=e){if((0,h.c)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,s.R)(t),(0,i.Q)(t))}(e,t);if((0,p.z)(e))return function(e,t){return new o.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if((0,d.t)(e))return function(e,t){return(0,r.Xf)(e).pipe((0,s.R)(t),(0,i.Q)(t))}(e,t);if((0,m.D)(e))return u(e,t);if((0,f.T)(e))return function(e,t){return new o.y(function(n){var r;return(0,c.f)(n,t,function(){r=e[a.h](),(0,c.f)(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(s){return void n.error(s)}i?n.complete():n.next(t)},0,!0)}),function(){return(0,l.m)(null==r?void 0:r.return)&&r.return()}})}(e,t);if((0,_.L)(e))return function(e,t){return u((0,_.Q)(e),t)}(e,t)}throw(0,g.z)(e)}(e,t):(0,r.Xf)(e)}},9255:(e,t,n)=>{"use strict";n.d(t,{Xf:()=>m});var r=n(4762),i=n(7586),s=n(7293),o=n(7979),a=n(9552),l=n(6013),c=n(148),u=n(8760),h=n(1819),d=n(2314),p=n(4608),f=n(4157);function m(e){if(e instanceof o.y)return e;if(null!=e){if((0,a.c)(e))return _=e,new o.y(function(e){var t=_[f.L]();if((0,d.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if((0,i.z)(e))return m=e,new o.y(function(e){for(var t=0;t<m.length&&!e.closed;t++)e.next(m[t]);e.complete()});if((0,s.t)(e))return n=e,new o.y(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,p.h)});if((0,l.D)(e))return g(e);if((0,u.T)(e))return t=e,new o.y(function(e){var n,i;try{for(var s=(0,r.XA)(t),o=s.next();!o.done;o=s.next())if(e.next(o.value),e.closed)return}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}e.complete()});if((0,h.L)(e))return g((0,h.Q)(e))}var t,n,m,_;throw(0,c.z)(e)}function g(e){return new o.y(function(t){(function(e,t){var n,i,s,o;return(0,r.mG)(this,void 0,void 0,function(){var a;return(0,r.Jh)(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,r.KL)(e),l.label=1;case 1:return[4,n.next()];case 2:if((i=l.sent()).done)return[3,4];if(t.next(i.value),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),s={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},4153:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(1330),i=n(9074);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.yG)(e);return(0,i.D)(e,n)}},3988:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(7979),i=n(7462),s=n(9575);function o(e,t,n){void 0===e&&(e=0),void 0===n&&(n=i.P);var o=-1;return null!=t&&((0,s.K)(t)?n=t:o=t),new r.y(function(t){var r,i=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){t.closed||(t.next(s++),0<=o?this.schedule(void 0,o):t.complete())},i)})}},7038:(e,t,n)=>{"use strict";n.d(t,{x:()=>i,Q:()=>s});var r=n(4762);function i(e,t,n,r,i){return new s(e,t,n,r,i)}var s=function(e){function t(t,n,r,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(575).Lv)},3754:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(1103),i=n(2314);function s(e,t){return(0,i.m)(t)?(0,r.z)(e,t,1):(0,r.z)(e,1)}},6921:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(1989),i=n(7038),s=n(4953);function o(e,t){return(0,r.e)(function(n,r){var o=new Set;n.subscribe((0,i.x)(r,function(t){var n=e?e(t):t;o.has(n)||(o.add(n),r.next(t))})),null==t||t.subscribe((0,i.x)(r,function(){return o.clear()},s.Z))})}},940:(e,t,n)=>{"use strict";n.d(t,{x:()=>o});var r=n(9879),i=n(1989),s=n(7038);function o(e,t){return void 0===t&&(t=r.y),e=null!=e?e:a,(0,i.e)(function(n,r){var i,o=!0;n.subscribe((0,s.x)(r,function(n){var s=t(n);!o&&e(i,s)||(o=!1,i=s,r.next(n))}))})}function a(e,t){return e===t}},3764:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(1989),i=n(7038);function s(e,t){return(0,r.e)(function(n,r){var s=0;n.subscribe((0,i.x)(r,function(n){return e.call(t,n,s++)&&r.next(n)}))})}},4240:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(1989),i=n(7038);function s(e,t){return(0,r.e)(function(n,r){var s=0;n.subscribe((0,i.x)(r,function(n){r.next(e.call(t,n,s++))}))})}},1155:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(1103),i=n(9879);function s(e){return void 0===e&&(e=1/0),(0,r.z)(i.y,e)}},1103:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(4240),i=n(9255),s=n(1989),o=(n(2548),n(7038)),a=n(2314);function l(e,t,n){return void 0===n&&(n=1/0),(0,a.m)(t)?l(function(n,s){return(0,r.U)(function(e,r){return t(n,e,s,r)})((0,i.Xf)(e(n,s)))},n):("number"==typeof t&&(n=t),(0,s.e)(function(t,r){return function(e,t,n,r,s,a,l,c){var u=[],h=0,d=0,p=!1,f=function(){!p||u.length||h||t.complete()},m=function(e){h++;var s=!1;(0,i.Xf)(n(e,d++)).subscribe((0,o.x)(t,function(e){t.next(e)},function(){s=!0},void 0,function(){if(s)try{for(h--;u.length&&h<r;)void 0,e=u.shift(),m(e);f()}catch(n){t.error(n)}var e}))};return e.subscribe((0,o.x)(t,function(e){return h<r?m(e):u.push(e)},function(){p=!0,f()})),function(){}}(t,r,e,n)}))}},1034:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(2548),i=n(1989),s=n(7038);function o(e,t){return void 0===t&&(t=0),(0,i.e)(function(n,i){n.subscribe((0,s.x)(i,function(n){return(0,r.f)(i,e,function(){return i.next(n)},t)},function(){return(0,r.f)(i,e,function(){return i.complete()},t)},function(n){return(0,r.f)(i,e,function(){return i.error(n)},t)}))})}},1170:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(1989),i=n(7038);function s(){return(0,r.e)(function(e,t){var n,r=!1;e.subscribe((0,i.x)(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))})}},7386:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var r=n(1155);function i(){return(0,r.J)(1)}var s=n(1330),o=n(9074);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i()((0,o.D)(e,(0,s.yG)(e)))}var l=n(1989);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,s.yG)(e);return(0,l.e)(function(t,r){(n?a(e,t,n):a(e,t)).subscribe(r)})}},3073:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(1989);function i(e,t){return void 0===t&&(t=0),(0,r.e)(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},7737:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(9255),i=n(1989),s=n(7038);function o(e,t){return(0,i.e)(function(n,i){var o=null,a=0,l=!1,c=function(){return l&&!o&&i.complete()};n.subscribe((0,s.x)(i,function(n){null==o||o.unsubscribe();var l=0,u=a++;(0,r.Xf)(e(n,u)).subscribe(o=(0,s.x)(i,function(e){return i.next(t?t(n,e,u,l++):e)},function(){o=null,c()}))},function(){l=!0,c()}))})}},5755:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(4762),i=function(e){function t(t,n){return e.call(this)||this}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(9089).w0),s={setInterval:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=s.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,(0,r.ev)([e,t],(0,r.CR)(n))):setInterval.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearInterval:function(e){var t=s.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},o=n(5697),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&s.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},6160:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(4762),i=n(8890),s=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=i.l.now,e}(),o=function(e){function t(t,n){void 0===n&&(n=s.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,r.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(s)},7462:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(5755),i=new(n(6160).v)(r.o),s=i},8890:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},8827:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(4762),i={setTimeout:function(e,t){for(var n=[],s=2;s<arguments.length;s++)n[s-2]=arguments[s];var o=i.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,r.ev)([e,t],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},8960:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4157:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},1330:(e,t,n)=>{"use strict";n.d(t,{yG:()=>s,_6:()=>o});var r=n(9575);function i(e){return e[e.length-1]}function s(e){return(0,r.K)(i(e))?e.pop():void 0}function o(e,t){return"number"==typeof i(e)?e.pop():t}},5697:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:()=>r})},3095:(e,t,n)=>{"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:()=>r})},471:(e,t,n)=>{"use strict";n.d(t,{x:()=>s,O:()=>o});var r=n(7422),i=null;function s(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i;if(i=null,n.errorThrown)throw n.error}}else e()}function o(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},2548:(e,t,n)=>{"use strict";function r(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}n.d(t,{f:()=>r})},9879:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},7586:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},6013:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(2314);function i(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},2314:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},9552:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(4157),i=n(2314);function s(e){return(0,i.m)(e[r.L])}},8760:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(8960),i=n(2314);function s(e){return(0,i.m)(null==e?void 0:e[r.h])}},7293:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(2314);function i(e){return(0,r.m)(null==e?void 0:e.then)}},1819:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s,L:()=>o});var r=n(4762),i=n(2314);function s(e){return(0,r.FC)(this,arguments,function(){var t,n,i;return(0,r.Jh)(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,r.qq)(t.read())];case 3:return n=s.sent(),i=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function o(e){return(0,i.m)(null==e?void 0:e.getReader)}},9575:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(2314);function i(e){return e&&(0,r.m)(e.schedule)}},1989:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(2314);function i(e){return function(t){if(function(e){return(0,r.m)(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},4953:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},4608:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(7422),i=n(8827);function s(e){i.z.setTimeout(function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)})}},148:(e,t,n)=>{"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:()=>r})},1041:(e,t,n)=>{"use strict";n.d(t,{Zs:()=>ke,gN:()=>F,Fj:()=>p,qu:()=>Pe,u:()=>Ee,sg:()=>Ce,u5:()=>Re,Cf:()=>g,JU:()=>u,a5:()=>M,JJ:()=>U,JL:()=>B,F:()=>fe,On:()=>_e,UX:()=>Oe,kI:()=>v,_Y:()=>ye});var r=n(5366),i=n(1116),s=n(9764),o=n(3148),a=n(9996);let l=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),c=(()=>{class e extends l{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const u=new r.OlP("NgValueAccessor"),h={provide:u,useExisting:(0,r.Gpc)(()=>p),multi:!0},d=new r.OlP("CompositionEventMode");let p=(()=>{class e extends l{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(d,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([h]),r.qOj]}),e})();function f(e){return null==e||0===e.length}function m(e){return null!=e&&"number"==typeof e.length}const g=new r.OlP("NgValidators"),_=new r.OlP("NgAsyncValidators"),y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class v{static min(e){return function(e){return t=>{if(f(t.value)||f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(f(t.value)||f(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return b(e)}static requiredTrue(e){return w(e)}static email(e){return function(e){return f(e.value)||y.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>f(t.value)||!m(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>m(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return C;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(f(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return k(e)}static composeAsync(e){return R(e)}}function b(e){return f(e.value)?{required:!0}:null}function w(e){return!0===e.value?null:{required:!0}}function C(e){return null}function S(e){return null!=e}function E(e){const t=(0,r.QGY)(e)?(0,s.D)(e):e;return(0,r.CqO)(t),t}function I(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function T(e,t){return t.map(t=>t(e))}function x(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function k(e){if(!e)return null;const t=e.filter(S);return 0==t.length?null:function(e){return I(T(e,t))}}function A(e){return null!=e?k(x(e)):null}function R(e){if(!e)return null;const t=e.filter(S);return 0==t.length?null:function(e){const n=T(e,t).map(E);return(0,o.D)(n).pipe((0,a.U)(I))}}function O(e){return null!=e?R(x(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function D(e){return e._rawValidators}function N(e){return e._rawAsyncValidators}let L=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=A(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=O(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),F=(()=>{class e extends L{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class M extends L{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}let U=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(M,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),B=(()=>{class e extends V{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function j(e,t){return[...t.path,e]}function q(e,t){H(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Z(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Z(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function z(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),$(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function G(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function H(e,t){const n=D(e);null!==t.validator?e.setValidators(P(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=N(e);null!==t.asyncValidator?e.setAsyncValidators(P(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();G(t._rawValidators,i),G(t._rawAsyncValidators,i)}function $(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=D(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=N(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return G(t._rawValidators,r),G(t._rawAsyncValidators,r),n}function Z(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function K(e,t){H(e,t)}function Y(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function W(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Q(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===p?n=e:Object.getPrototypeOf(e.constructor)===c?r=e:i=e}),i||r||n||null}function J(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const X="VALID",ee="INVALID",te="PENDING",ne="DISABLED";function re(e){return(ae(e)?e.validators:e)||null}function ie(e){return Array.isArray(e)?A(e):e||null}function se(e,t){return(ae(t)?t.asyncValidators:e)||null}function oe(e){return Array.isArray(e)?O(e):e||null}function ae(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class le{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ie(this._rawValidators),this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===X}get invalid(){return this.status===ee}get pending(){return this.status==te}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ie(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=oe(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=te,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ne,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=X,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==X&&this.status!==te||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:X}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=te,this._hasOwnPendingAsyncValidator=!0;const t=E(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ue?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof he&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(te)?te:this._anyControlsHaveStatus(ee)?ee:X}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ae(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ce extends le{constructor(e=null,t,n){super(re(t),se(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){J(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){J(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ue extends le{constructor(e,t,n){super(re(t),se(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof ce?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class he extends le{constructor(e,t,n){super(re(t),se(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ce?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const de={provide:F,useExisting:(0,r.Gpc)(()=>fe)},pe=(()=>Promise.resolve(null))();let fe=(()=>{class e extends F{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new ue({},A(e),O(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){pe.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),q(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){pe.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),J(this._directives,e)})}addFormGroup(e){pe.then(()=>{const t=this._findContainer(e.path),n=new ue({});K(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){pe.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){pe.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,W(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g,10),r.Y36(_,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([de]),r.qOj]}),e})();const me={provide:M,useExisting:(0,r.Gpc)(()=>_e)},ge=(()=>Promise.resolve(null))();let _e=(()=>{class e extends M{constructor(e,t,n,i){super(),this.control=new ce,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Y(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?j(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){q(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ge.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;ge.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,9),r.Y36(g,10),r.Y36(_,10),r.Y36(u,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([me]),r.qOj,r.TTD]}),e})(),ye=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const be=new r.OlP("NgModelWithFormControlWarning"),we={provide:F,useExisting:(0,r.Gpc)(()=>Ce)};let Ce=(()=>{class e extends F{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return q(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){z(e.control||null,e,!1),J(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,W(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(z(t||null,e),n instanceof ce&&(q(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);K(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return $(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H(this.form,this),this._oldForm&&$(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(g,10),r.Y36(_,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([we]),r.qOj,r.TTD]}),e})();const Se={provide:M,useExisting:(0,r.Gpc)(()=>Ee)};let Ee=(()=>{class e extends M{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Q(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Y(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return j(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(F,13),r.Y36(g,10),r.Y36(_,10),r.Y36(u,10),r.Y36(be,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Se]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Ie={provide:g,useExisting:(0,r.Gpc)(()=>xe),multi:!0},Te={provide:g,useExisting:(0,r.Gpc)(()=>ke),multi:!0};let xe=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?b(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([Ie])]}),e})(),ke=(()=>{class e extends xe{validate(e){return this.required?w(e):null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},features:[r._Bn([Te]),r.qOj]}),e})(),Ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ve]]}),e})(),Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ae]}),e})(),Oe=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:be,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Ae]}),e})(),Pe=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new ue(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new ce(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new he(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof ce||e instanceof ue||e instanceof he?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:Oe}),e})()},7217:(e,t,n)=>{"use strict";n.d(t,{k:()=>h,g:()=>d});var r=n(7064),i=n(7388),s=n(9861),o=n(6136),a=n(5366);let l=0;class c{}const u=(0,r.Id)(c);let h=(()=>{class e extends u{constructor(e,t,n,r,i){super(),this._ngZone=e,this._elementRef=t,this._ariaDescriber=n,this._renderer=r,this._animationMode=i,this._hasContent=!1,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=l++}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=(0,s.Ig)(e)}get description(){return this._description}set description(e){if(e!==this._description){const t=this._badgeElement;this._updateHostAriaDescription(e,this._description),this._description=e,t&&(e?t.setAttribute("aria-label",e):t.removeAttribute("aria-label"))}}get hidden(){return this._hidden}set hidden(e){this._hidden=(0,s.Ig)(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}ngOnChanges(e){const t=e.content;if(t){const e=t.currentValue;this._hasContent=null!=e&&`${e}`.trim().length>0,this._updateTextContent()}}ngOnDestroy(){const e=this._badgeElement;e&&(this.description&&this._ariaDescriber.removeDescription(e,this.description),this._renderer.destroyNode&&this._renderer.destroyNode(e))}getBadgeElement(){return this._badgeElement}_updateTextContent(){return this._badgeElement?this._badgeElement.textContent=this._stringifyContent():this._badgeElement=this._createBadgeElement(),this._badgeElement}_createBadgeElement(){const e=this._renderer.createElement("span"),t="mat-badge-active",n="mat-badge-content";return this._clearExistingBadges(n),e.setAttribute("id",`mat-badge-content-${this._id}`),e.classList.add(n),e.textContent=this._stringifyContent(),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this.description&&e.setAttribute("aria-label",this.description),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(t)})}):e.classList.add(t),e}_updateHostAriaDescription(e,t){const n=this._updateTextContent();t&&this._ariaDescriber.removeDescription(n,t),e&&this._ariaDescriber.describe(n,e)}_setColor(e){if(e!==this._color){const t=this._elementRef.nativeElement.classList;this._color&&t.remove(`mat-badge-${this._color}`),e&&t.add(`mat-badge-${e}`)}}_clearExistingBadges(e){const t=this._elementRef.nativeElement;let n=t.children.length;for(;n--;){const r=t.children[n];r.classList.contains(e)&&t.removeChild(r)}}_stringifyContent(){const e=this.content;return null==e?"":`${e}`}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(i.$s),a.Y36(a.Qsj),a.Y36(o.Qb,8))},e.\u0275dir=a.lG2({type:e,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,t){2&e&&a.ekj("mat-badge-overlap",t.overlap)("mat-badge-above",t.isAbove())("mat-badge-below",!t.isAbove())("mat-badge-before",!t.isAfter())("mat-badge-after",t.isAfter())("mat-badge-small","small"===t.size)("mat-badge-medium","medium"===t.size)("mat-badge-large","large"===t.size)("mat-badge-hidden",t.hidden||!t._hasContent)("mat-badge-disabled",t.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],position:["matBadgePosition","position"],size:["matBadgeSize","size"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],description:["matBadgeDescription","description"],hidden:["matBadgeHidden","hidden"],content:["matBadge","content"]},features:[a.qOj,a.TTD]}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.rt,r.BQ],r.BQ]}),e})()},4369:(e,t,n)=>{"use strict";n.d(t,{lW:()=>d,ot:()=>p});var r=n(7064),i=n(6136),s=n(5366),o=n(7388);const a=["mat-button",""],l=["*"],c=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class u{constructor(e){this._elementRef=e}}const h=(0,r.pj)((0,r.Id)((0,r.Kr)(u)));let d=(()=>{class e extends h{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of c)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.tE),s.Y36(i.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&s.Gf(r.wG,5),2&e){let e;s.iGM(e=s.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("disabled",t.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:a,ngContentSelectors:l,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),s.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[r.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.si,r.BQ],r.BQ]}),e})()},2797:(e,t,n)=>{"use strict";n.d(t,{a8:()=>l,QW:()=>c});var r=n(6136),i=n(7064),s=n(5366);const o=["*",[["mat-card-footer"]]],a=["*","mat-card-footer"];let l=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:a,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(o),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.BQ],i.BQ]}),e})()},7064:(e,t,n)=>{"use strict";n.d(t,{yN:()=>y,mZ:()=>v,_A:()=>R,rD:()=>q,sG:()=>O,K7:()=>ce,HF:()=>ie,Y2:()=>X,BQ:()=>C,X2:()=>z,uc:()=>$,XK:()=>j,ey:()=>pe,Ng:()=>ge,rN:()=>he,nP:()=>ne,us:()=>re,wG:()=>ee,si:()=>te,IR:()=>J,CB:()=>fe,jH:()=>me,pj:()=>E,Kr:()=>I,Id:()=>S,FD:()=>x,dB:()=>k,sb:()=>T,E0:()=>G});var r=n(5366),i=n(7388),s=n(4720);const o=new r.GfV("12.0.1");var a=n(1116),l=n(9861),c=n(5959),u=n(1784),h=n(3169),d=n(6238),p=n(6136),f=n(9235);function m(e,t){if(1&e&&r._UZ(0,"mat-pseudo-checkbox",4),2&e){const e=r.oxw();r.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function g(e,t){if(1&e&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const _=["*"];let y=(()=>{class e{}return e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",e})(),v=(()=>{class e{}return e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms",e})();const b=new r.GfV("12.0.1"),w=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let C=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&b.full!==o.full&&console.warn("The Angular Material version ("+b.full+") does not match the Angular CDK version ("+o.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.qm),r.LFG(w,8),r.LFG(a.K0))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.vT],s.vT]}),e})();function S(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}}}function E(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function I(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=(0,l.Ig)(e)}}}function T(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?(0,l.su)(e):this.defaultTabIndex}}}function x(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new c.xQ}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}function k(e){return class extends e{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new u.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}const A=new r.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,r.f3M)(r.soG)}});class R{constructor(){this._localeChanges=new c.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),r=this.isValid(t);return n&&r?!this.compareDate(e,t):n==r}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const O=new r.OlP("mat-date-formats");let P;try{P="undefined"!=typeof Intl}catch(_e){P=!1}const D={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},N=M(31,e=>String(e+1)),L={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},F=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function M(e,t){const n=Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n}let V=(()=>{class e extends R{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if(P){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return M(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return D[e]}getDateNames(){if(P){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return M(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return N}getDayOfWeekNames(e){if(P){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return M(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return L[e]}getYearName(e){if(P){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){let r=this._createDateWithOverflow(e,t,n);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if(P){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(F.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const r=new Date;return r.setFullYear(e,t,n),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date;return n.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(A,8),r.LFG(h.t4))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:R,useClass:V}],imports:[[h.ud]]}),e})();const B={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:O,useValue:B}],imports:[[U]]}),e})(),q=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function G(e,t,n="mat"){e.changes.pipe((0,d.O)(e)).subscribe(({length:e})=>{H(t,`${n}-2-line`,!1),H(t,`${n}-3-line`,!1),H(t,`${n}-multi-line`,!1),2===e||3===e?H(t,`${n}-${e}-line`,!0):e>3&&H(t,`${n}-multi-line`,!0)})}function H(e,t,n){const r=e.nativeElement.classList;n?r.add(t):r.remove(t)}let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[C],C]}),e})();class Z{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const K={enterDuration:450,exitDuration:400},Y=(0,h.i$)({passive:!0}),W=["mousedown","touchstart"],Q=["mouseup","mouseleave","touchend","touchcancel"];class J{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=(0,l.fI)(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},K),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new Z(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},K),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=(0,l.fI)(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(W))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Q),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=(0,i.X6)(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!(0,i.yG)(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,Y)})})}_removeTriggerEvents(){this._triggerElement&&(W.forEach(e=>{this._triggerElement.removeEventListener(e,this,Y)}),this._pointerUpEventsRegistered&&Q.forEach(e=>{this._triggerElement.removeEventListener(e,this,Y)}))}}const X=new r.OlP("mat-ripple-global-options");let ee=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new J(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(h.t4),r.Y36(X,8),r.Y36(p.Qb,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[C,h.ud],C]}),e})(),ne=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(p.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[C]]}),e})();const ie=new r.OlP("MAT_OPTION_PARENT_COMPONENT");class se{}const oe=S(se);let ae=0,le=(()=>{class e extends oe{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+ae++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ie,8))},e.\u0275dir=r.lG2({type:e,inputs:{label:"label"},features:[r.qOj]}),e})();const ce=new r.OlP("MatOptgroup");let ue=0;class he{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let de=(()=>{class e{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ue++,this.onSelectionChange=new r.vpe,this._stateChanges=new c.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=(0,l.Ig)(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){e.keyCode!==f.K5&&e.keyCode!==f.L_||(0,f.Vb)(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new he(this,e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(void 0),r.Y36(le))},e.\u0275dir=r.lG2({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),pe=(()=>{class e extends de{constructor(e,t,n,r){super(e,t,n,r)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(ie,8),r.Y36(ce,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(r.Ikx("id",t.id),r.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),r.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:_,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,m,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,g,2,1,"span",2),r._UZ(4,"div",3)),2&e&&(r.Q6J("ngIf",t.multiple),r.xp6(3),r.Q6J("ngIf",t.group&&t.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[a.O5,ee,ne],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function fe(e,t,n){if(n.length){let r=t.toArray(),i=n.toArray(),s=0;for(let t=0;t<e+1;t++)r[t].group&&r[t].group===i[s]&&s++;return s}return 0}function me(e,t,n,r){return e<n?e:e+t>n+r?Math.max(0,e-r+t):n}let ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[te,a.ez,C,re]]}),e})()},2935:(e,t,n)=>{"use strict";n.d(t,{WI:()=>T,uw:()=>O,H8:()=>N,ZT:()=>P,xY:()=>D,Is:()=>L,so:()=>E});var r=n(5333),i=n(2151),s=n(5366),o=n(7064),a=n(4720),l=n(1116),c=n(5959),u=n(1450),h=n(878),d=n(3835),p=n(611),f=n(6238),m=n(9713),g=n(9235),_=n(7388);function y(e,t){}class v{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const b={dialogContainer:(0,m.X$)("dialogContainer",[(0,m.SB)("void, exit",(0,m.oB)({opacity:0,transform:"scale(0.7)"})),(0,m.SB)("enter",(0,m.oB)({transform:"none"})),(0,m.eR)("* => enter",(0,m.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,m.oB)({transform:"none",opacity:1}))),(0,m.eR)("* => void, * => exit",(0,m.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,m.oB)({opacity:0})))])};let w=(()=>{class e extends i.en{constructor(e,t,n,r,i,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=i,this._focusMonitor=o,this._animationStateChanged=new s.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=e=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._getActiveElement(),n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,t=this._getActiveElement();return e===t||e.contains(t)}_getActiveElement(){var e;const t=this._document.activeElement;return(null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.activeElement)||t}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(_.qV),s.Y36(s.sBO),s.Y36(l.K0,8),s.Y36(v),s.Y36(_.tE))},e.\u0275dir=s.lG2({type:e,viewQuery:function(e,t){if(1&e&&s.Gf(i.Pl,7),2&e){let e;s.iGM(e=s.CRH())&&(t._portalOutlet=e.first)}},features:[s.qOj]}),e})(),C=(()=>{class e extends w{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:t}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:t}))}_onAnimationStart({toState:e,totalTime:t}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:t}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:t})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&s.WFA("@dialogContainer.start",function(e){return t._onAnimationStart(e)})("@dialogContainer.done",function(e){return t._onAnimationDone(e)}),2&e&&(s.Ikx("id",t._id),s.uIk("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),s.d8E("@dialogContainer",t._state))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&s.YNc(0,y,0,0,"ng-template",0)},directives:[i.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[b.dialogContainer]}}),e})(),S=0;class E{constructor(e,t,n="mat-dialog-"+S++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new c.xQ,this._afterClosed=new c.xQ,this._beforeClosed=new c.xQ,this._state=0,t._id=n,t._animationStateChanged.pipe((0,d.h)(e=>"opened"===e.state),(0,p.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,d.h)(e=>"closed"===e.state),(0,p.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe((0,d.h)(e=>e.keyCode===g.hY&&!this.disableClose&&!(0,g.Vb)(e))).subscribe(e=>{e.preventDefault(),I(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():I(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,d.h)(e=>"closing"===e.state),(0,p.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function I(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const T=new s.OlP("MatDialogData"),x=new s.OlP("mat-dialog-default-options"),k=new s.OlP("mat-dialog-scroll-strategy"),A={provide:k,deps:[r.aV],useFactory:function(e){return()=>e.scrollStrategies.block()}};let R=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new c.xQ,this._afterOpenedAtThisLevel=new c.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,f.O)(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){(t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new v)).id&&this.getDialogById(t.id);const n=this._createOverlay(t),r=this._attachDialogContainer(n,t),i=this._attachDialogContent(e,r,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new r.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:v,useValue:t}]}),r=new i.C5(this._dialogContainerType,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(r).instance}_attachDialogContent(e,t,n,r){const o=new this._dialogRefConstructor(n,t,r.id);if(e instanceof s.Rgc)t.attachTemplatePortal(new i.UE(e,null,{$implicit:r.data,dialogRef:o}));else{const n=this._createInjector(r,o,t),s=t.attachComponentPortal(new i.C5(e,r.viewContainerRef,n));o.componentInstance=s.instance}return o.updateSize(r.width,r.height).updatePosition(r.position),o}_createInjector(e,t,n){const r=e&&e.viewContainerRef&&e.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:t}];return!e.direction||r&&r.get(a.Is,null)||i.push({provide:a.Is,useValue:{value:e.direction,change:(0,h.of)()}}),s.zs3.create({parent:r||this._injector,providers:i})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r===e||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.aV),s.Y36(s.zs3),s.Y36(void 0),s.Y36(void 0),s.Y36(r.Xj),s.Y36(void 0),s.Y36(s.DyG),s.Y36(s.DyG),s.Y36(s.OlP))},e.\u0275dir=s.lG2({type:e}),e})(),O=(()=>{class e extends R{constructor(e,t,n,r,i,s,o){super(e,t,r,s,o,i,E,C,T)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.aV),s.LFG(s.zs3),s.LFG(l.Ye,8),s.LFG(x,8),s.LFG(k),s.LFG(e,12),s.LFG(r.Xj))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),P=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){I(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(E,8),s.Y36(s.SBq),s.Y36(O))},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t._onButtonClick(e)}),2&e&&s.uIk("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[O,A],imports:[[r.U8,i.eL,o.BQ],o.BQ]}),e})()},6278:(e,t,n)=>{"use strict";n.d(t,{d:()=>o,t:()=>a});var r=n(9861),i=n(7064),s=n(5366);let o=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,r.Ig)(e)}get inset(){return this._inset}set inset(e){this._inset=(0,r.Ig)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(s.uIk("aria-orientation",t.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.BQ],i.BQ]}),e})()},3070:(e,t,n)=>{"use strict";n.d(t,{G_:()=>K,KE:()=>Y,Eo:()=>M,lN:()=>W,R9:()=>z});var r=n(7853),i=n(1116),s=n(5366),o=n(7064),a=n(9861),l=n(5959),c=n(1906),u=n(7254),h=n(6238),d=n(5416),p=n(611),f=n(9713),m=n(6136),g=n(4720),_=n(3169);const y=["underline"],v=["connectionContainer"],b=["inputContainer"],w=["label"];function C(e,t){1&e&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function S(e,t){1&e&&(s.TgZ(0,"div",19),s.Hsn(1,1),s.qZA())}function E(e,t){if(1&e&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&e){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function I(e,t){1&e&&s.Hsn(0,3,["*ngSwitchCase","true"])}function T(e,t){1&e&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function x(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(e),s.oxw().updateOutlineGap()}),s.YNc(2,E,4,1,"ng-container",12),s.YNc(3,I,1,0,"ng-content",12),s.YNc(4,T,2,0,"span",22),s.qZA()}if(2&e){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function k(e,t){1&e&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function A(e,t){if(1&e&&(s.TgZ(0,"div",25,26),s._UZ(2,"span",27),s.qZA()),2&e){const e=s.oxw();s.xp6(2),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function R(e,t){if(1&e&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function O(e,t){if(1&e&&(s.TgZ(0,"div",31),s._uU(1),s.qZA()),2&e){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function P(e,t){if(1&e&&(s.TgZ(0,"div",28),s.YNc(1,O,2,2,"div",29),s.Hsn(2,6),s._UZ(3,"div",30),s.Hsn(4,7),s.qZA()),2&e){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const D=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],L=new s.OlP("MatError"),F={transitionMessages:(0,f.X$)("transitionMessages",[(0,f.SB)("enter",(0,f.oB)({opacity:1,transform:"translateY(0%)"})),(0,f.eR)("void => enter",[(0,f.oB)({opacity:0,transform:"translateY(-5px)"}),(0,f.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e}),e})();const V=new s.OlP("MatHint");let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-label"]]}),e})(),B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const j=new s.OlP("MatPrefix"),q=new s.OlP("MatSuffix");let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:q,useExisting:e}])]}),e})(),G=0;class H{constructor(e){this._elementRef=e}}const $=(0,o.pj)(H,"primary"),Z=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),K=new s.OlP("MatFormField");let Y=(()=>{class e extends ${constructor(e,t,n,r,i,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new l.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+G++,this._labelId="mat-form-field-label-"+G++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=(0,a.Ig)(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,h.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe((0,d.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,d.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,c.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,h.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,d.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,u.R)(this._label.nativeElement,"transitionend").pipe((0,p.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(g.Is,8),s.Y36(Z,8),s.Y36(_.t4),s.Y36(s.R0b),s.Y36(m.Qb,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(s.Suo(n,M,5),s.Suo(n,M,7),s.Suo(n,U,5),s.Suo(n,U,7),s.Suo(n,B,5),s.Suo(n,L,5),s.Suo(n,V,5),s.Suo(n,j,5),s.Suo(n,q,5)),2&e){let e;s.iGM(e=s.CRH())&&(t._controlNonStatic=e.first),s.iGM(e=s.CRH())&&(t._controlStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildNonStatic=e.first),s.iGM(e=s.CRH())&&(t._labelChildStatic=e.first),s.iGM(e=s.CRH())&&(t._placeholderChild=e.first),s.iGM(e=s.CRH())&&(t._errorChildren=e),s.iGM(e=s.CRH())&&(t._hintChildren=e),s.iGM(e=s.CRH())&&(t._prefixChildren=e),s.iGM(e=s.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(s.Gf(y,5),s.Gf(v,7),s.Gf(b,5),s.Gf(w,5)),2&e){let e;s.iGM(e=s.CRH())&&(t.underlineRef=e.first),s.iGM(e=s.CRH())&&(t._connectionContainerRef=e.first),s.iGM(e=s.CRH())&&(t._inputContainerRef=e.first),s.iGM(e=s.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:K,useExisting:e}]),s.qOj],ngContentSelectors:N,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(s.F$t(D),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),s.YNc(3,C,9,0,"ng-container",3),s.YNc(4,S,2,0,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,x,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,k,2,0,"div",9),s.qZA(),s.YNc(11,A,3,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,R,2,1,"div",12),s.YNc(14,P,5,2,"div",13),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==t.appearance),s.xp6(1),s.Q6J("ngIf",t._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",t._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",t._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=t.appearance),s.xp6(1),s.Q6J("ngSwitch",t._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[i.O5,i.RF,i.n9,r.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[F.transitionMessages]},changeDetection:0}),e})(),W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,o.BQ,r.Q8],o.BQ]}),e})()},7307:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>D,Ps:()=>N});var r=n(5366),i=n(7064),s=n(9861),o=n(1116),a=n(878),l=n(1225),c=n(3148),u=n(7570),h=n(6599),d=n(9996),p=n(7727),f=n(1520),m=n(1055),g=n(611),_=n(2693),y=n(9624);const v=["*"];function b(e){return Error(`Unable to find icon with the name "${e}"`)}function w(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function C(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class S{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let E=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new S(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw C(n);return this._addSvgIconConfig(e,t,new S("",s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new S(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw C(t);return this._addSvgIconSetConfig(e,new S("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw w(e);const n=this._cachedIconsByUrl.get(t);return n?(0,a.of)(I(n)):this._loadSvgIconFromConfig(new S(e,null)).pipe((0,h.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,d.U)(e=>I(e)))}getNamedSvgIcon(e,t=""){const n=T(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):(0,l._)(b(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,a.of)(I(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,d.U)(e=>I(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);if(n)return(0,a.of)(n);const i=t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe((0,p.K)(t=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),(0,a.of)(null)})));return(0,c.D)(i).pipe((0,d.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw b(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,h.b)(t=>e.svgText=t),(0,d.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,a.of)(null):this._fetchIcon(e).pipe((0,h.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,s=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw w(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,f.x)(()=>this._inProgressUrlFetches.delete(o)),(0,m.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(T(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](t,e);if(i)return(n=i).url&&n.options?new S(i.url,null,i.options):new S(i,null)}var n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(_.eN,8),r.LFG(y.H7),r.LFG(o.K0,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(_.eN,8),r.LFG(y.H7),r.LFG(o.K0,8),r.LFG(r.qLn))},token:e,providedIn:"root"}),e})();function I(e){return e.cloneNode(!0)}function T(e,t){return e+":"+t}class x{constructor(e){this._elementRef=e}}const k=(0,i.pj)(x),A=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(o.K0),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),R=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],O=R.map(e=>`[${e}]`).join(", "),P=/^url\(['"]?#(.*?)['"]?\)$/;let D=(()=>{class e extends k{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=u.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=(0,s.Ig)(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(O),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)R.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(P):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe((0,g.q)(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(E),r.$8M("aria-hidden"),r.Y36(A),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:v,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.BQ],i.BQ]}),e})()},9550:(e,t,n)=>{"use strict";n.d(t,{Jk:()=>f,Nt:()=>v,c:()=>b});var r=n(3169),i=n(5366),s=n(9861),o=n(653),a=n(5959);n(7254),n(810),n(5416),n(1116);const l=(0,r.i$)({passive:!0});let c=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return o.E;const t=(0,s.fI)(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new a.xQ,i="cdk-text-field-autofilled",c=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",c,l),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",c,l)}}),r}stopMonitoring(e){const t=(0,s.fI)(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.t4),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({factory:function(){return new e(i.LFG(r.t4),i.LFG(i.R0b))},token:e,providedIn:"root"}),e})(),u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ud]]}),e})();var h=n(7064),d=n(3070),p=n(1041);const f=new i.OlP("MAT_INPUT_VALUE_ACCESSOR"),m=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let g=0;class _{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}}const y=(0,h.FD)(_);let v=(()=>{class e extends y{constructor(e,t,n,i,s,o,l,c,u,h){super(o,i,s,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=c,this._formField=h,this._uid="mat-input-"+g++,this.focused=!1,this.stateChanges=new a.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>(0,r.qK)().has(e));const d=this._elementRef.nativeElement,p=d.nodeName.toLowerCase();this._inputValueAccessor=l||d,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=(0,s.Ig)(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=(0,s.Ig)(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&(0,r.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=(0,s.Ig)(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){m.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(r.t4),i.Y36(p.a5,10),i.Y36(p.F,8),i.Y36(p.sg,8),i.Y36(h.rD),i.Y36(f,10),i.Y36(c),i.Y36(i.R0b),i.Y36(d.G_,8))},e.\u0275dir=i.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,t){1&e&&i.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(i.Ikx("disabled",t.disabled)("required",t.required),i.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.errorState&&!t.empty)("aria-required",t.required),i.ekj("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i._Bn([{provide:d.Eo,useExisting:e}]),i.qOj,i.TTD]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[h.rD],imports:[[u,d.lN,h.BQ],u,d.lN]}),e})()},7672:(e,t,n)=>{"use strict";n.d(t,{Ou:()=>f,Cq:()=>m});var r=n(5366),i=n(1116),s=n(7064),o=n(9861),a=n(3169),l=n(6136);function c(e,t){if(1&e&&(r.O4$(),r._UZ(0,"circle",3)),2&e){const e=r.oxw();r.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}function u(e,t){if(1&e&&(r.O4$(),r._UZ(0,"circle",3)),2&e){const e=r.oxw();r.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),r.uIk("r",e._getCircleRadius())}}class h{constructor(e){this._elementRef=e}}const d=(0,s.pj)(h,"primary"),p=new r.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let f=(()=>{class e extends d{constructor(t,n,r,i,s){super(t),this._elementRef=t,this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=e._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(r.head)||o.set(r.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=(0,o.su)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=(0,o.su)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,(0,o.su)(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=(0,a.kV)(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,n=this._diameter,r=e._diameters;let i=r.get(t);if(!i||!i.has(n)){const e=this._document.createElement("style");e.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),e.textContent=this._getAnimationText(),t.appendChild(e),i||(i=new Set,r.set(t,i)),i.add(n)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(a.t4),r.Y36(i.K0,8),r.Y36(l.Qb,8),r.Y36(p))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(r.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[r.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(r.O4$(),r.TgZ(0,"svg",0),r.YNc(1,c,1,9,"circle",1),r.YNc(2,u,1,7,"circle",2),r.qZA()),2&e&&(r.Udp("width",t.diameter,"px")("height",t.diameter,"px"),r.Q6J("ngSwitch","indeterminate"===t.mode),r.uIk("viewBox",t._getViewBox()),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1))},directives:[i.RF,i.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.BQ,i.ez],s.BQ]}),e})()},3589:(e,t,n)=>{"use strict";n.d(t,{ux:()=>x,ZX:()=>I});var r=n(5333),i=n(2151),s=n(1116),o=n(5366),a=n(7064),l=n(4369),c=n(5959),u=n(611),h=n(5416),d=n(9713),p=n(7388),f=n(8494),m=n(3169);function g(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function _(e,t){}const y=new o.OlP("MatSnackBarData");class v{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const b=Math.pow(2,31)-1;class w{constructor(e,t){this._overlayRef=t,this._afterDismissed=new c.xQ,this._afterOpened=new c.xQ,this._onAction=new c.xQ,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,b))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let C=(()=>{class e{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(w),o.Y36(y))},e.\u0275cmp=o.Xpm({type:e,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o.YNc(2,g,3,1,"div",0)),2&e&&(o.xp6(1),o.Oqu(t.data.message),o.xp6(1),o.Q6J("ngIf",t.hasAction))},directives:[s.O5,l.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),e})();const S={snackBarState:(0,d.X$)("state",[(0,d.SB)("void, hidden",(0,d.oB)({transform:"scale(0.8)",opacity:0})),(0,d.SB)("visible",(0,d.oB)({transform:"scale(1)",opacity:1})),(0,d.eR)("* => visible",(0,d.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,d.eR)("* => void, * => hidden",(0,d.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,d.oB)({opacity:0})))])};let E=(()=>{class e extends i.en{constructor(e,t,n,r,i){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new c.xQ,this._onExit=new c.xQ,this._onEnter=new c.xQ,this._animationState="void",this.attachDomPortal=e=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(e)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:t,toState:n}=e;if(("void"===n&&"void"!==t||"hidden"===n)&&this._completeExit(),"visible"===n){const e=this._onEnter;this._ngZone.run(()=>{e.next(),e.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,u.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(t=>e.classList.add(t)):e.classList.add(t)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(n=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(m.t4),o.Y36(v))},e.\u0275cmp=o.Xpm({type:e,selectors:[["snack-bar-container"]],viewQuery:function(e,t){if(1&e&&o.Gf(i.Pl,7),2&e){let e;o.iGM(e=o.CRH())&&(t._portalOutlet=e.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,t){1&e&&o.WFA("@state.done",function(e){return t.onAnimationEnd(e)}),2&e&&o.d8E("@state",t._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.YNc(1,_,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",t._live)("role",t._role))},directives:[i.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[S.snackBarState]}}),e})(),I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.U8,i.eL,s.ez,l.ot,a.BQ],a.BQ]}),e})();const T=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new v}});let x=(()=>{class e{constructor(e,t,n,r,i,s){this._overlay=e,this._live=t,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=C,this.snackBarContainerComponent=E,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:e,action:t},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){const n=o.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:v,useValue:t}]}),r=new i.C5(this.snackBarContainerComponent,t.viewContainerRef,n),s=e.attach(r);return s.instance.snackBarConfig=t,s.instance}_attach(e,t){const n=Object.assign(Object.assign(Object.assign({},new v),this._defaultConfig),t),r=this._createOverlay(n),s=this._attachSnackBarContainer(r,n),a=new w(s,r);if(e instanceof o.Rgc){const t=new i.UE(e,null,{$implicit:n.data,snackBarRef:a});a.instance=s.attachTemplatePortal(t)}else{const t=this._createInjector(n,a),r=new i.C5(e,void 0,t),o=s.attachComponentPortal(r);a.instance=o.instance}return this._breakpointObserver.observe(f.u3.HandsetPortrait).pipe((0,h.R)(r.detachments())).subscribe(e=>{const t=r.overlayElement.classList;e.matches?t.add(this.handsetCssClass):t.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(a,n),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){const t=new r.X_;t.direction=e.direction;let n=this._overlay.position().global();const i="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!i||"end"===e.horizontalPosition&&i,o=!s&&"center"!==e.horizontalPosition;return s?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===e.verticalPosition?n.top("0"):n.bottom("0"),t.positionStrategy=n,this._overlay.create(t)}_createInjector(e,t){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:t},{provide:y,useValue:e.data}]})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.aV),o.LFG(p.Kd),o.LFG(o.zs3),o.LFG(f.Yg),o.LFG(e,12),o.LFG(T))},e.\u0275prov=o.Yz7({factory:function(){return new e(o.LFG(r.aV),o.LFG(p.Kd),o.LFG(o.gxx),o.LFG(f.Yg),o.LFG(e,12),o.LFG(T))},token:e,providedIn:I}),e})()},4716:(e,t,n)=>{"use strict";n.d(t,{C0:()=>ue,Vq:()=>fe,T5:()=>_e,Ic:()=>me,fd:()=>ge});var r=n(2151),i=n(7388),s=n(4720),o=n(9861),a=n(9235),l=n(1116),c=n(5366),u=n(5959),h=n(878),d=n(6238),p=n(5416);function f(e,t){1&e&&c.Hsn(0)}const m=["*"];let g=(()=>{class e{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),e})(),_=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["","cdkStepLabel",""]]}),e})(),y=0;const v="edit",b="done",w="error",C=new c.OlP("STEPPER_GLOBAL_OPTIONS");let S=(()=>{class e{constructor(e,t){this._stepper=e,this.interacted=!1,this.interactedStream=new c.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=t||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType,this._showError=!!this._stepperOptions.showError}get editable(){return this._editable}set editable(e){this._editable=(0,o.Ig)(e)}get optional(){return this._optional}set optional(e){this._optional=(0,o.Ig)(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=(0,o.Ig)(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=(0,o.Ig)(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}}return e.\u0275fac=function(t){return new(t||e)(c.Y36((0,c.Gpc)(()=>E)),c.Y36(C,8))},e.\u0275cmp=c.Xpm({type:e,selectors:[["cdk-step"]],contentQueries:function(e,t,n){if(1&e&&c.Suo(n,_,5),2&e){let e;c.iGM(e=c.CRH())&&(t.stepLabel=e.first)}},viewQuery:function(e,t){if(1&e&&c.Gf(c.Rgc,7),2&e){let e;c.iGM(e=c.CRH())&&(t.content=e.first)}},inputs:{editable:"editable",optional:"optional",completed:"completed",hasError:"hasError",stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[c.TTD],ngContentSelectors:m,decls:1,vars:0,template:function(e,t){1&e&&(c.F$t(),c.YNc(0,f,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),e})(),E=(()=>{class e{constructor(e,t,n,r){this._dir=e,this._changeDetectorRef=t,this._elementRef=n,this._destroyed=new u.xQ,this.steps=new c.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new c.vpe,this._orientation="horizontal",this._groupId=y++,this._document=r}get linear(){return this._linear}set linear(e){this._linear=(0,o.Ig)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){var t;const n=(0,o.su)(e);this.steps&&this._steps?(this._isValidIndex(e),null===(t=this.selected)||void 0===t||t._markAsInteracted(),this._selectedIndex!==n&&!this._anyControlsInvalidOrPending(n)&&(n>=this._selectedIndex||this.steps.toArray()[n].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=n}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}ngAfterContentInit(){this._steps.changes.pipe((0,d.O)(this._steps),(0,p.R)(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(e=>e._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._keyManager=new i.Em(this._stepHeader).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,h.of)()).pipe((0,d.O)(this._layoutDirection()),(0,p.R)(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const t=e-this._selectedIndex;return t<0?"rtl"===this._layoutDirection()?"next":"previous":t>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,t="number"){const n=this.steps.toArray()[e],r=this._isCurrentStep(e);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,r):this._getGuidelineLogic(n,r,t)}_getDefaultIndicatorLogic(e,t){return e._showError&&e.hasError&&!t?w:!e.completed||t?"number":e.editable?v:b}_getGuidelineLogic(e,t,n="number"){return e._showError&&e.hasError&&!t?w:e.completed&&!t?b:e.completed&&t?n:e.editable&&t?v:n}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const t=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:t[e],previouslySelectedStep:t[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const t=(0,a.Vb)(e),n=e.keyCode,r=this._keyManager;null==r.activeItemIndex||t||n!==a.L_&&n!==a.K5?r.onKeydown(e):(this.selectedIndex=r.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(e=>{const t=e.stepControl;return(t?t.invalid||t.pending||!e.interacted:!e.completed)&&!e.optional&&!e._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(s.Is,8),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(l.K0))},e.\u0275dir=c.lG2({type:e,selectors:[["","cdkStepper",""]],contentQueries:function(e,t,n){if(1&e&&(c.Suo(n,S,5),c.Suo(n,g,5)),2&e){let e;c.iGM(e=c.CRH())&&(t._steps=e),c.iGM(e=c.CRH())&&(t._stepHeader=e)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),e})(),I=(()=>{class e{constructor(e){this._stepper=e,this.type="submit"}_handleClick(){this._stepper.next()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(E))},e.\u0275dir=c.lG2({type:e,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,t){1&e&&c.NdJ("click",function(){return t._handleClick()}),2&e&&c.Ikx("type",t.type)},inputs:{type:"type"}}),e})(),T=(()=>{class e{constructor(e){this._stepper=e,this.type="button"}_handleClick(){this._stepper.previous()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(E))},e.\u0275dir=c.lG2({type:e,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,t){1&e&&c.NdJ("click",function(){return t._handleClick()}),2&e&&c.Ikx("type",t.type)},inputs:{type:"type"}}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.vT]]}),e})();var k=n(4369),A=n(7064),R=n(7307),O=n(7570),P=n(4689),D=n(9996),N=n(8720),L=n(9713);function F(e,t){if(1&e&&c.GkF(0,8),2&e){const e=c.oxw();c.Q6J("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function M(e,t){if(1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e._getDefaultTextForState(e.state))}}function V(e,t){if(1&e&&(c.TgZ(0,"mat-icon"),c._uU(1),c.qZA()),2&e){const e=c.oxw(2);c.xp6(1),c.Oqu(e._getDefaultTextForState(e.state))}}function U(e,t){if(1&e&&(c.ynx(0,9),c.YNc(1,M,2,1,"span",10),c.YNc(2,V,2,1,"mat-icon",11),c.BQk()),2&e){const e=c.oxw();c.Q6J("ngSwitch",e.state),c.xp6(1),c.Q6J("ngSwitchCase","number")}}function B(e,t){if(1&e&&(c.TgZ(0,"div",12),c.GkF(1,13),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e._templateLabel().template)}}function j(e,t){if(1&e&&(c.TgZ(0,"div",12),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.label)}}function q(e,t){if(1&e&&(c.TgZ(0,"div",14),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e._intl.optionalLabel)}}function z(e,t){if(1&e&&(c.TgZ(0,"div",15),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.errorMessage)}}function G(e,t){}function H(e,t){if(1&e&&(c.Hsn(0),c.YNc(1,G,0,0,"ng-template",0)),2&e){const e=c.oxw();c.xp6(1),c.Q6J("cdkPortalOutlet",e._portal)}}const $=["*"];function Z(e,t){1&e&&c._UZ(0,"div",9)}const K=function(e,t){return{step:e,i:t}};function Y(e,t){if(1&e&&(c.ynx(0),c.GkF(1,7),c.YNc(2,Z,1,0,"div",8),c.BQk()),2&e){const e=t.$implicit,n=t.index,r=t.last;c.oxw(2);const i=c.MAs(4);c.xp6(1),c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.WLB(3,K,e,n)),c.xp6(1),c.Q6J("ngIf",!r)}}function W(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",10),c.NdJ("@horizontalStepTransition.done",function(t){return c.CHM(e),c.oxw(2)._animationDone.next(t)}),c.GkF(1,11),c.qZA()}if(2&e){const e=t.$implicit,n=t.index,r=c.oxw(2);c.Q6J("@horizontalStepTransition",r._getAnimationDirection(n))("id",r._getStepContentId(n)),c.uIk("aria-labelledby",r._getStepLabelId(n))("aria-expanded",r.selectedIndex===n),c.xp6(1),c.Q6J("ngTemplateOutlet",e.content)}}function Q(e,t){if(1&e&&(c.ynx(0),c.TgZ(1,"div",3),c.YNc(2,Y,3,6,"ng-container",4),c.qZA(),c.TgZ(3,"div",5),c.YNc(4,W,2,5,"div",6),c.qZA(),c.BQk()),2&e){const e=c.oxw();c.xp6(2),c.Q6J("ngForOf",e.steps),c.xp6(2),c.Q6J("ngForOf",e.steps)}}function J(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"div",13),c.GkF(1,7),c.TgZ(2,"div",14),c.TgZ(3,"div",15),c.NdJ("@verticalStepTransition.done",function(t){return c.CHM(e),c.oxw(2)._animationDone.next(t)}),c.TgZ(4,"div",16),c.GkF(5,11),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=t.$implicit,n=t.index,r=t.last,i=c.oxw(2),s=c.MAs(4);c.xp6(1),c.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",c.WLB(9,K,e,n)),c.xp6(1),c.ekj("mat-stepper-vertical-line",!r),c.xp6(1),c.Q6J("@verticalStepTransition",i._getAnimationDirection(n))("id",i._getStepContentId(n)),c.uIk("aria-labelledby",i._getStepLabelId(n))("aria-expanded",i.selectedIndex===n),c.xp6(2),c.Q6J("ngTemplateOutlet",e.content)}}function X(e,t){if(1&e&&(c.ynx(0),c.YNc(1,J,6,12,"div",12),c.BQk()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.steps)}}function ee(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"mat-step-header",17),c.NdJ("click",function(){return t.step.select()})("keydown",function(t){return c.CHM(e),c.oxw()._onKeydown(t)}),c.qZA()}if(2&e){const e=t.step,n=t.i,r=c.oxw();c.ekj("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),c.Q6J("tabIndex",r._getFocusIndex()===n?0:-1)("id",r._getStepLabelId(n))("index",n)("state",r._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===n)("active",e.completed||r.selectedIndex===n||!r.linear)("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple)("color",e.color||r.color),c.uIk("aria-posinset",n+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)}}let te=(()=>{class e extends _{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["","matStepLabel",""]],features:[c.qOj]}),e})(),ne=(()=>{class e{constructor(){this.changes=new u.xQ,this.optionalLabel="Optional"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const re={provide:ne,deps:[[new c.FiY,new c.tp0,ne]],useFactory:function(e){return e||new ne}};class ie extends g{constructor(e){super(e)}}const se=(0,A.pj)(ie,"primary");let oe=(()=>{class e extends se{constructor(e,t,n,r){super(n),this._intl=e,this._focusMonitor=t,this._intlSubscription=e.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._elementRef,e,t):this._elementRef.nativeElement.focus(t)}_stringLabel(){return this.label instanceof te?null:this.label}_templateLabel(){return this.label instanceof te?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(ne),c.Y36(i.tE),c.Y36(c.SBq),c.Y36(c.sBO))},e.\u0275cmp=c.Xpm({type:e,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[c.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,t){1&e&&(c._UZ(0,"div",0),c.TgZ(1,"div"),c.TgZ(2,"div",1),c.YNc(3,F,1,2,"ng-container",2),c.YNc(4,U,3,2,"ng-container",3),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c.YNc(6,B,2,1,"div",5),c.YNc(7,j,2,1,"div",5),c.YNc(8,q,2,1,"div",6),c.YNc(9,z,2,1,"div",7),c.qZA()),2&e&&(c.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disableRipple),c.xp6(1),c.Gre("mat-step-icon-state-",t.state," mat-step-icon"),c.ekj("mat-step-icon-selected",t.selected),c.xp6(1),c.Q6J("ngSwitch",!(!t.iconOverrides||!t.iconOverrides[t.state])),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(2),c.ekj("mat-step-label-active",t.active)("mat-step-label-selected",t.selected)("mat-step-label-error","error"==t.state),c.xp6(1),c.Q6J("ngIf",t._templateLabel()),c.xp6(1),c.Q6J("ngIf",t._stringLabel()),c.xp6(1),c.Q6J("ngIf",t.optional&&"error"!=t.state),c.xp6(1),c.Q6J("ngIf","error"==t.state))},directives:[A.wG,l.RF,l.n9,l.ED,l.O5,l.tP,R.Hw],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content,.mat-step-icon .mat-icon{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})();const ae={horizontalStepTransition:(0,L.X$)("horizontalStepTransition",[(0,L.SB)("previous",(0,L.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,L.SB)("current",(0,L.oB)({transform:"none",visibility:"inherit"})),(0,L.SB)("next",(0,L.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,L.eR)("* => *",(0,L.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,L.X$)("verticalStepTransition",[(0,L.SB)("previous",(0,L.oB)({height:"0px",visibility:"hidden"})),(0,L.SB)("next",(0,L.oB)({height:"0px",visibility:"hidden"})),(0,L.SB)("current",(0,L.oB)({height:"*",visibility:"inherit"})),(0,L.eR)("* <=> current",(0,L.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let le=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),e})(),ce=(()=>{class e{constructor(e){this._template=e}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.Rgc))},e.\u0275dir=c.lG2({type:e,selectors:[["ng-template","matStepContent",""]]}),e})(),ue=(()=>{class e extends S{constructor(e,t,n,r){super(e,r),this._errorStateMatcher=t,this._viewContainerRef=n,this._isSelected=O.w.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,P.w)(()=>this._stepper.selectionChange.pipe((0,D.U)(e=>e.selectedStep===this),(0,d.O)(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new r.UE(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,t){return this._errorStateMatcher.isErrorState(e,t)||!!(e&&e.invalid&&this.interacted)}}return e.\u0275fac=function(t){return new(t||e)(c.Y36((0,c.Gpc)(()=>fe)),c.Y36(A.rD,4),c.Y36(c.s_b),c.Y36(C,8))},e.\u0275cmp=c.Xpm({type:e,selectors:[["mat-step"]],contentQueries:function(e,t,n){if(1&e&&(c.Suo(n,te,5),c.Suo(n,ce,5)),2&e){let e;c.iGM(e=c.CRH())&&(t.stepLabel=e.first),c.iGM(e=c.CRH())&&(t._lazyContent=e.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[c._Bn([{provide:A.rD,useExisting:e},{provide:S,useExisting:e}]),c.qOj],ngContentSelectors:$,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(c.F$t(),c.YNc(0,H,2,1,"ng-template"))},directives:[r.Pl],encapsulation:2,changeDetection:0}),e})(),he=(()=>{class e extends E{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,features:[c.qOj]}),e})(),de=(()=>{class e extends he{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["mat-horizontal-stepper"]],features:[c.qOj]}),e})(),pe=(()=>{class e extends he{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["mat-vertical-stepper"]],features:[c.qOj]}),e})(),fe=(()=>{class e extends E{constructor(e,t,n,r){super(e,t,n,r),this.steps=new c.n_E,this.animationDone=new c.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new u.xQ;const i=n.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===i?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:t})=>this._iconOverrides[e]=t),this.steps.changes.pipe((0,p.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,N.x)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState),(0,p.R)(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(s.Is,8),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(l.K0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,t,n){if(1&e&&(c.Suo(n,ue,5),c.Suo(n,le,5)),2&e){let e;c.iGM(e=c.CRH())&&(t._steps=e),c.iGM(e=c.CRH())&&(t._icons=e)}},viewQuery:function(e,t){if(1&e&&c.Gf(oe,5),2&e){let e;c.iGM(e=c.CRH())&&(t._stepHeader=e)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(e,t){2&e&&(c.uIk("aria-orientation",t.orientation),c.ekj("mat-stepper-horizontal","horizontal"===t.orientation)("mat-stepper-vertical","vertical"===t.orientation)("mat-stepper-label-position-end","horizontal"===t.orientation&&"end"==t.labelPosition)("mat-stepper-label-position-bottom","horizontal"===t.orientation&&"bottom"==t.labelPosition))},inputs:{selectedIndex:"selectedIndex",labelPosition:"labelPosition",disableRipple:"disableRipple",color:"color"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[c._Bn([{provide:E,useExisting:e},{provide:de,useExisting:e},{provide:pe,useExisting:e}]),c.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,t){1&e&&(c.ynx(0,0),c.YNc(1,Q,5,2,"ng-container",1),c.YNc(2,X,2,1,"ng-container",1),c.BQk(),c.YNc(3,ee,1,22,"ng-template",null,2,c.W1O)),2&e&&(c.Q6J("ngSwitch",t.orientation),c.xp6(1),c.Q6J("ngSwitchCase","horizontal"),c.xp6(1),c.Q6J("ngSwitchCase","vertical"))},directives:[l.RF,l.n9,l.sg,l.tP,l.O5,oe],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[ae.horizontalStepTransition,ae.verticalStepTransition]},changeDetection:0}),e})(),me=(()=>{class e extends I{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,t){2&e&&c.Ikx("type",t.type)},inputs:{type:"type"},features:[c.qOj]}),e})(),ge=(()=>{class e extends T{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=c.n5z(e)))(n||e)}}(),e.\u0275dir=c.lG2({type:e,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,t){2&e&&c.Ikx("type",t.type)},inputs:{type:"type"},features:[c.qOj]}),e})(),_e=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[re,A.rD],imports:[[A.BQ,l.ez,r.eL,k.ot,x,R.Ps,A.si],A.BQ]}),e})()},7112:(e,t,n)=>{"use strict";n.d(t,{Ye:()=>d,g0:()=>p,rD:()=>h});var r=n(7064),i=n(1116),s=n(5366),o=n(3169);const a=["*",[["mat-toolbar-row"]]],l=["*","mat-toolbar-row"];class c{constructor(e){this._elementRef=e}}const u=(0,r.pj)(c);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),d=(()=>{class e extends u{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(o.t4),s.Y36(i.K0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){if(1&e&&s.Suo(n,h,5),2&e){let e;s.iGM(e=s.CRH())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&s.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:l,decls:2,vars:0,template:function(e,t){1&e&&(s.F$t(a),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.BQ],r.BQ]}),e})()},4311:(e,t,n)=>{"use strict";n.d(t,{gM:()=>I,AV:()=>k});var r=n(5333),i=n(7388),s=n(1116),o=n(5366),a=n(7064),l=n(83),c=n(9861),u=n(9235),h=n(8494),d=n(3169),p=n(2151),f=n(5959),m=n(5416),g=n(611),_=n(9713),y=n(4720);const v={tooltipState:(0,_.X$)("state",[(0,_.SB)("initial, void, hidden",(0,_.oB)({opacity:0,transform:"scale(0)"})),(0,_.SB)("visible",(0,_.oB)({transform:"scale(1)"})),(0,_.eR)("* => visible",(0,_.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,_.F4)([(0,_.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,_.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,_.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,_.eR)("* => hidden",(0,_.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,_.oB)({opacity:0})))])},b=(0,d.i$)({passive:!0}),w=new o.OlP("mat-tooltip-scroll-strategy"),C={provide:w,deps:[r.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},S=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let E=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,h,d){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new f.xQ,this._handleKeydown=e=>{this._isTooltipVisible()&&e.keyCode===u.hY&&!(0,u.Vb)(e)&&(e.preventDefault(),e.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,this._document=d,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),c.change.pipe((0,m.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),i.runOutsideAngular(()=>{t.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var t;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(t=this._tooltipInstance)||void 0===t||t.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,c.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,m.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,b)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new p.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,m.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return t.positionChanges.pipe((0,m.R)(this._destroyed)).subscribe(e=>{this._updateCurrentPositionClass(e.connectionPair),this._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:`${this._cssClassPrefix}-tooltip-panel`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,m.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const t=e.getConfig().positionStrategy,n=this._getOrigin(),r=this._getOverlayPosition();t.withPositions([this._addOffset(Object.assign(Object.assign({},n.main),r.main)),this._addOffset(Object.assign(Object.assign({},n.fallback),r.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t||"below"==t?n={originX:"center",originY:"above"==t?"top":"bottom"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={originX:"start",originY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;"above"==t?n={overlayX:"center",overlayY:"bottom"}:"below"==t?n={overlayX:"center",overlayY:"top"}:"before"==t||"left"==t&&e||"right"==t&&!e?n={overlayX:"end",overlayY:"center"}:("after"==t||"right"==t&&e||"left"==t&&!e)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,g.q)(1),(0,m.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_updateCurrentPositionClass(e){const{overlayY:t,originX:n,originY:r}=e;let i;if(i="center"===t?this._dir&&"rtl"===this._dir.value?"end"===n?"left":"right":"start"===n?"left":"right":"bottom"===t&&"top"===r?"above":"below",i!==this._currentPosition){const e=this._overlayRef;if(e){const t=`${this._cssClassPrefix}-tooltip-panel-`;e.removePanelClass(t+this._currentPosition),e.addPanelClass(t+i)}this._currentPosition=i}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",e=>this._wheelListener(e)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,b)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const t=this._document.elementFromPoint(e.clientX,e.clientY),n=this._elementRef.nativeElement;t===n||n.contains(t)||this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.aV),o.Y36(o.SBq),o.Y36(l.mF),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(d.t4),o.Y36(i.$s),o.Y36(i.tE),o.Y36(void 0),o.Y36(y.Is),o.Y36(void 0),o.Y36(s.K0))},e.\u0275dir=o.lG2({type:e,inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),e})(),I=(()=>{class e extends E{constructor(e,t,n,r,i,s,o,a,l,c,u,h){super(e,t,n,r,i,s,o,a,l,c,u,h),this._tooltipComponent=x}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.aV),o.Y36(o.SBq),o.Y36(l.mF),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(d.t4),o.Y36(i.$s),o.Y36(i.tE),o.Y36(w),o.Y36(y.Is,8),o.Y36(S,8),o.Y36(s.K0))},e.\u0275dir=o.lG2({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),e})(),T=(()=>{class e{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new f.xQ}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO))},e.\u0275dir=o.lG2({type:e}),e})(),x=(()=>{class e extends T{constructor(e,t){super(e),this._breakpointObserver=t,this._isHandset=this._breakpointObserver.observe(h.u3.Handset)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(h.Yg))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&o.NdJ("click",function(){return t._handleBodyInteraction()},!1,o.pYS)("auxclick",function(){return t._handleBodyInteraction()},!1,o.pYS),2&e&&o.Udp("zoom","visible"===t._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return t._animationStart()})("@state.done",function(e){return t._animationDone(e)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let e;o.ekj("mat-tooltip-handset",null==(e=o.lcZ(1,5,t._isHandset))?null:e.matches),o.Q6J("ngClass",t.tooltipClass)("@state",t._visibility),o.xp6(2),o.Oqu(t.message)}},directives:[s.mk],pipes:[s.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[v.tooltipState]},changeDetection:0}),e})(),k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[C],imports:[[i.rt,s.ez,r.U8,a.BQ],a.BQ,l.ZD]}),e})()},6136:(e,t,n)=>{"use strict";n.d(t,{Qb:()=>Pt,PW:()=>Ft});var r=n(5366),i=n(9624),s=n(9713);function o(){return"undefined"!=typeof window&&void 0!==window.document}function a(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l(e){switch(e.length){case 0:return new s.ZN;case 1:return e[0];default:return new s.ZE(e)}}function c(e,t,n,r,i={},o={}){const a=[],l=[];let c=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==c,h=r&&u||{};Object.keys(e).forEach(n=>{let r=n,l=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),l){case s.k1:l=i[n];break;case s.l3:l=o[n];break;default:l=t.normalizeStyleValue(n,r,l,a)}h[r]=l}),r||l.push(h),u=h,c=n}),a.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${a.join(e)}`)}return l}function u(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&h(n,"start",e)));break;case"done":e.onDone(()=>r(n&&h(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&h(n,"destroy",e)))}}function h(e,t,n){const r=n.totalTime,i=d(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function d(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function p(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function f(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let m=(e,t)=>!1,g=(e,t)=>!1,_=(e,t,n)=>[];const y=a();(y||"undefined"!=typeof Element)&&(m=o()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),g=(()=>{if(y||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):g}})(),_=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let v=null,b=!1;function w(e){v||(v=("undefined"!=typeof document?document.body:null)||{},b=!!v.style&&"WebkitAppearance"in v.style);let t=!0;return v.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in v.style,!t&&b)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in v.style),t}const C=g,S=m,E=_;function I(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let T=(()=>{class e{validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return E(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],a){return new s.ZN(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{}return e.NOOP=new T,e})();const k="ng-enter",A="ng-leave",R="ng-trigger",O=".ng-trigger",P="ng-animating",D=".ng-animating";function N(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:L(parseFloat(t[1]),t[2])}function L(e,t){switch(t){case"s":return 1e3*e;default:return e}}function F(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=L(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=L(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function M(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function V(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else M(e,n);return n}function U(e,t,n){return n?t+":"+n+";":""}function B(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=U(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=U(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function j(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=Y(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),a()&&B(e))}function q(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Y(t);e.style[n]=""}),a()&&B(e))}function z(e){return Array.isArray(e)?1==e.length?e[0]:(0,s.vP)(e):e}const G=new RegExp("{{\\s*(.+?)\\s*}}","g");function H(e){let t=[];if("string"==typeof e){let n;for(;n=G.exec(e);)t.push(n[1]);G.lastIndex=0}return t}function $(e,t,n){const r=e.toString(),i=r.replace(G,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function Z(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const K=/-+([a-z0-9])/g;function Y(e){return e.replace(K,(...e)=>e[1].toUpperCase())}function W(e,t){return 0===e||0===t}function Q(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=X(e,t)})}}return t}function J(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function X(e,t){return window.getComputedStyle(e)[t]}const ee="*";function te(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(ie(i,o)),"<"!=s[0]||i==ee&&o==ee||t.push(ie(o,i))}(e,n,t)):n.push(e),n}const ne=new Set(["true","1"]),re=new Set(["false","0"]);function ie(e,t){const n=ne.has(e)||re.has(e),r=ne.has(t)||re.has(t);return(i,s)=>{let o=e==ee||e==i,a=t==ee||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?ne.has(e):re.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?ne.has(t):re.has(t)),o&&a}}const se=new RegExp("s*:selfs*,?","g");function oe(e,t,n){return new ae(e).build(t,n)}class ae{constructor(e){this._driver=e}build(e,t){const n=new le(t);return this._resetContextStyleTimingState(n),J(this,z(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(ce(e)){const t=e;Object.keys(t).forEach(e=>{H(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=Z(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=J(this,z(e.animation),t);return{type:1,matchers:te(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:ue(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>J(this,e,t)),options:ue(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=J(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:ue(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return he(F(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=he(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||F(r,t),he(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:(0,s.oB)({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=(0,s.oB)(e)}t.currentTime+=n.duration+n.delay;const a=this.visitStyle(i,t);a.isEmptyStep=o,r=a}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==s.l3?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(ce(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=H(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(ce(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(ce(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:J(this,z(e.animation),t),options:ue(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ue(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ue(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(se,"")),[e=e.replace(/@\*/g,O).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,D),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,p(t.collectedStyles,t.currentQuerySelector,{});const o=J(this,z(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:ue(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:F(e.timings,t.errors,!0);return{type:12,animation:J(this,z(e.animation),t),timings:n,options:null}}}class le{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ce(e){return!Array.isArray(e)&&"object"==typeof e}function ue(e){var t;return e?(e=M(e)).params&&(e.params=(t=e.params)?M(t):null):e={},e}function he(e,t,n){return{duration:e,delay:t,easing:n}}function de(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pe{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const fe=new RegExp(":enter","g"),me=new RegExp(":leave","g");function ge(e,t,n,r,i,s={},o={},a,l,c=[]){return(new _e).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class _e{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new pe;const u=new ve(e,t,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),J(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[de(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?N(n.duration):null,s=null!=n.delay?N(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),J(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ye);const e=N(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>J(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?N(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),J(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return F(t.params?$(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?N(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ye);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),J(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;J(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const ye={};class ve{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ye,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new be(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=N(n.duration)),null!=n.delay&&(r.delay=N(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=$(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new ve(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=ye,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(fe,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class be{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new be(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||s.l3,this._currentKeyframe[e]=s.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=s.l3})):V(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=$(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:s.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const a=V(i,!0);Object.keys(a).forEach(n=>{const r=a[n];r==s.k1?e.add(n):r==s.l3&&t.add(n)}),n||(a.offset=o/this.duration),r.push(a)});const i=e.size?Z(e.values()):[],o=t.size?Z(t.values()):[];if(n){const e=r[0],t=M(e);e.offset=0,t.offset=1,r=[e,t]}return de(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class we extends be{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=V(e[0],!1);a.offset=0,i.push(a);const l=V(e[0],!1);l.offset=Ce(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=V(e[r],!1);o.offset=Ce((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return de(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Ce(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Se{}class Ee extends Se{normalizePropertyName(e,t){return Y(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(Ie[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const Ie=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Te(e,t,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const xe={};class ke{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||xe,d=this.buildStyles(n,o&&o.params||xe,u),f=a&&a.params||xe,m=this.buildStyles(r,f,u),g=new Set,_=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:ge(e,t,this.ast.animation,i,s,d,m,b,l,u);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return Te(t,this._triggerName,n,r,v,d,m,[],[],_,y,C,u);w.forEach(e=>{const n=e.element,r=p(_,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=p(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const S=Z(g.values());return Te(t,this._triggerName,n,r,v,d,m,w,S,_,y,C)}}class Ae{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=M(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=$(s,r,t)),n[e]=s})}}),n}}class Re{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Ae(e.style,e.options&&e.options.params||{})}),Oe(this.states,"true","1"),Oe(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new ke(e,t,this.states))}),this.fallbackTransition=new ke(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Oe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Pe=new pe;class De{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=oe(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=c(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const a=new Map;if(i?(o=ge(this._driver,t,i,k,A,{},{},n,Pe,r),o.forEach(e=>{const t=p(a,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,s.l3)})});const c=l(o.map(e=>{const t=a.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=d(t,"","","");return u(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ne="ng-animate-queued",Le="ng-animate-disabled",Fe=".ng-animate-disabled",Me=[],Ve={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ue={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Be{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=M(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const je="void",qe=new Be(je);class ze{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,We(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=p(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=p(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(We(e,R),We(e,"ng-trigger-"+t),a[t]=qe),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new He(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(We(e,R),We(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Be(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=qe),l.value!==je&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{q(e,n),j(e,r)})}return}const c=p(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(We(e,Ne),s.onStart(()=>{Qe(e,Ne)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,O,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,je,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&l(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||qe,a=new Be(je),l=new He(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==Ve||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){We(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=d(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,u(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Ge{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new ze(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if($e(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!$e(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),We(e,Le)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Qe(e,Le))}removeNode(e,t,n,r){if($e(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return $e(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,O,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,D,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return l(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Ve,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Fe)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Fe,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)We(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?l(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new pe,r=[],i=new Map,o=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(e=>{h.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)h.add(t[n])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=Ye(f,this.collectedEnterElements),g=new Map;let _=0;m.forEach((e,t)=>{const n=k+_++;g.set(t,n),e.forEach(e=>We(e,n))});const y=[],v=new Set,b=new Set;for(let s=0;s<this.collectedLeaveElements.length;s++){const e=this.collectedLeaveElements[s],t=e.__ng_removed;t&&t.setForRemoval&&(y.push(e),v.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>v.add(e)):b.add(e))}const w=new Map,C=Ye(f,Array.from(v));C.forEach((e,t)=>{const n=A+_++;w.set(t,n),e.forEach(e=>We(e,n))}),e.push(()=>{m.forEach((e,t)=>{const n=g.get(t);e.forEach(e=>Qe(e,n))}),C.forEach((e,t)=>{const n=w.get(t);e.forEach(e=>Qe(e,n))}),y.forEach(e=>{this.processLeaveNode(e)})});const S=[],E=[];for(let s=this._namespaceList.length-1;s>=0;s--)this._namespaceList[s].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(S.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const s=!d||!this.driver.containsElement(d,i),l=w.get(i),h=g.get(i),f=this._buildInstruction(e,n,h,l,s);if(f.errors&&f.errors.length)E.push(f);else{if(s)return t.onStart(()=>q(i,f.fromStyles)),t.onDestroy(()=>j(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>q(i,f.fromStyles)),t.onDestroy(()=>j(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>p(a,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=c.get(t);e||c.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=u.get(t);r||u.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(E.length){const e=[];E.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),S.forEach(e=>e.destroy()),this.reportError(e)}const I=new Map,T=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(T.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,I))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{p(I,t,[]).push(e),e.destroy()})});const x=y.filter(e=>et(e,c,u)),R=new Map;Ke(R,this.driver,b,u,s.l3).forEach(e=>{et(e,c,u)&&x.push(e)});const O=new Map;m.forEach((e,t)=>{Ke(O,this.driver,new Set(e),c,s.k1)}),x.forEach(e=>{const t=R.get(e),n=O.get(e);R.set(e,Object.assign(Object.assign({},t),n))});const P=[],N=[],L={};o.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(h.has(t))return s.onDestroy(()=>j(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=L;if(T.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=T.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>T.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,I,i,O,R);if(s.setRealPlayer(n),e===L)P.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=l(t)),r.push(s)}}else q(t,o.fromStyles),s.onDestroy(()=>j(t,o.toStyles)),N.push(s),h.has(t)&&r.push(s)}),N.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=l(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let s=0;s<y.length;s++){const e=y[s],t=e.__ng_removed;if(Qe(e,A),t&&t.hasAnimation)continue;let n=[];if(a.size){let t=a.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,D,!0);for(let e=0;e<r.length;e++){let t=a.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?Je(this,e,r):this.processLeaveNode(e)}return y.length=0,P.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),P}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==je;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=p(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}q(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const a=t.triggerName,u=t.element,h=[],d=new Set,f=new Set,m=t.timelines.map(t=>{const l=t.element;d.add(l);const p=l.__ng_removed;if(p&&p.removedBeforeQueried)return new s.ZN(t.duration,t.delay);const m=l!==u,g=function(e){const t=[];return Xe(e,t),t}((n.get(l)||Me).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===l),_=i.get(l),y=o.get(l),v=c(0,this._normalizer,0,t.keyframes,_,y),b=this._buildPlayer(t,v,g);if(t.subTimeline&&r&&f.add(l),m){const t=new He(e,a,l);t.setRealPlayer(b),h.push(t)}return b});h.forEach(e=>{p(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),d.forEach(e=>We(e,P));const g=l(m);return g.onDestroy(()=>{d.forEach(e=>Qe(e,P)),j(u,t.toStyles)}),f.forEach(e=>{p(r,e,[]).push(g)}),g}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new s.ZN(e.duration,e.delay)}}class He{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new s.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>u(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){p(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $e(e){return e&&1===e.nodeType}function Ze(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Ke(e,t,n,r,i){const s=[];n.forEach(e=>s.push(Ze(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Ue,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>Ze(e,s[a++])),o}function Ye(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function We(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Qe(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Je(e,t,n){l(n).onDone(()=>e.processLeaveNode(t))}function Xe(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof s.ZE?Xe(r.players,t):t.push(r)}}function et(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class tt{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Ge(e,t,n),this._timelineEngine=new De(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=oe(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Re(e,t)}(r,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=f(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=f(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nt(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=it(t[0]),t.length>1&&(r=it(t[t.length-1]))):t&&(n=it(t)),n||r?new rt(e,n,r):null}let rt=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&j(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(j(this._element,this._initialStyles),this._endStyles&&(j(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(q(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(q(this._element,this._endStyles),this._endStyles=null),j(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function it(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];st(i)&&(t=t||{},t[i]=e[i])}return t}function st(e){return"display"===e||"position"===e}const ot="animation",at="animationend";class lt{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=ft(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),pt(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ct(this._element,this._name,"paused")}resume(){ct(this._element,this._name,"running")}setPosition(e){const t=ut(this._element,this._name);this._position=e*this._duration,pt(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=ft(e,"").split(","),r=ht(n,t);r>=0&&(n.splice(r,1),pt(e,"",n.join(",")))}(this._element,this._name))}}function ct(e,t,n){pt(e,"PlayState",n,ut(e,t))}function ut(e,t){const n=ft(e,"");return n.indexOf(",")>0?ht(n.split(","),t):ht([n],t)}function ht(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function dt(e,t,n){n?e.removeEventListener(at,t):e.addEventListener(at,t)}function pt(e,t,n,r){const i=ot+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function ft(e,t){return e.style[ot+t]||""}class mt{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new lt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:X(this.element,n))})}this.currentSnapshot=e}}class gt extends s.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=I(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class _t{constructor(){this._count=0}validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return E(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>I(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof mt),l={};W(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Q(e,t,l));if(0==n)return new gt(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=nt(e,t),p=new mt(e,t,u,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class yt{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:X(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class vt{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(bt().toString()),this._cssKeyframesDriver=new _t}validateStyleProperty(e){return w(e)}matchesElement(e,t){return C(e,t)}containsElement(e,t){return S(e,t)}query(e,t,n){return E(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof yt);W(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=nt(e,t=Q(e,t=t.map(e=>V(e,!1)),l));return new yt(e,t,a,u)}}function bt(){return o()&&Element.prototype.animate||{}}var wt=n(1116);let Ct=(()=>{class e extends s._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?(0,s.vP)(e):e;return It(this._renderer,null,t,"register",[n]),new St(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(wt.K0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class St extends s.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Et(this._id,e,t||{},this._renderer)}}class Et{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return It(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function It(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Tt="@",xt="@.disabled";let kt=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new At("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Rt(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(tt),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class At{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Tt&&t==xt?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rt extends At{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Tt?"."==t.charAt(1)&&t==xt?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Tt){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=Tt&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Ot=(()=>{class e extends tt{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(wt.K0),r.LFG(x),r.LFG(Se))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Pt=new r.OlP("AnimationModuleType"),Dt=[{provide:s._j,useClass:Ct},{provide:Se,useFactory:function(){return new Ee}},{provide:tt,useClass:Ot},{provide:r.FYo,useFactory:function(e,t,n){return new kt(e,t,n)},deps:[i.se,tt,r.R0b]}],Nt=[{provide:x,useFactory:function(){return"function"==typeof bt()?new vt:new _t}},{provide:Pt,useValue:"BrowserAnimations"},...Dt],Lt=[{provide:x,useClass:T},{provide:Pt,useValue:"NoopAnimations"},...Dt];let Ft=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Lt:Nt}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Nt,imports:[i.b2]}),e})()},9624:(e,t,n)=>{"use strict";n.d(t,{b2:()=>V,H7:()=>D,Dx:()=>B,q6:()=>F,se:()=>S});var r=n(1116),i=n(5366);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(l=l||document.querySelector("base"),l?l.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,l=null;const c=new i.OlP("TRANSITION_ID"),u=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const p=new i.OlP("EventManagerPlugins");let f=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(y),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(y))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function y(e){(0,r.q)().remove(e)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?w(e,i,n):(i=i.replace(b,e),n.push(i))}return n}function C(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let S=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new I(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new T(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=w(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f),i.LFG(_),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class E{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(v[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=v[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=v[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}class I extends E{constructor(e,t,n,r){super(e),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class T extends E{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let x=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const k=["alt","control","meta","shift"],A={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},O={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let P=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(k.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&R.hasOwnProperty(t)&&(t=R[t]))}return A[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),k.forEach(r=>{r!=n&&(0,O[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(L)},token:e,providedIn:"root"}),e})();function N(e){return new L(e.get(r.K0))}let L=(()=>{class e extends D{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case i.q3G.NONE:return t;case i.q3G.HTML:return(0,i.qzn)(t,"HTML")?(0,i.z3N)(t):(0,i.EiD)(this._doc,String(t)).toString();case i.q3G.STYLE:return(0,i.qzn)(t,"Style")?(0,i.z3N)(t):t;case i.q3G.SCRIPT:if((0,i.qzn)(t,"Script"))return(0,i.z3N)(t);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(t),(0,i.qzn)(t,"URL")?(0,i.z3N)(t):(0,i.mCW)(String(t));case i.q3G.RESOURCE_URL:if((0,i.qzn)(t,"ResourceURL"))return(0,i.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,i.JVY)(e)}bypassSecurityTrustStyle(e){return(0,i.L6k)(e)}bypassSecurityTrustScript(e){return(0,i.eBb)(e)}bypassSecurityTrustUrl(e){return(0,i.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,i.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=(0,i.Yz7)({factory:function(){return N((0,i.LFG)(i.gxx))},token:e,providedIn:"root"}),e})();const F=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),M=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:p,useClass:x,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:p,useClass:P,multi:!0,deps:[r.K0]},[],{provide:S,useClass:S,deps:[f,_,i.AFp]},{provide:i.FYo,useExisting:S},{provide:g,useExisting:_},{provide:_,useClass:_,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:f,useClass:f,deps:[p,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let V=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:c,useExisting:i.AFp},u]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:M,imports:[r.ez,i.hGG]}),e})();function U(){return new B((0,i.LFG)(r.K0))}let B=(()=>{class e{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=(0,i.Yz7)({factory:U,token:e,providedIn:"root"}),e})();"undefined"!=typeof window&&window},2852:(e,t,n)=>{"use strict";n.d(t,{jw:()=>ie,F0:()=>vn,rH:()=>bn,Bz:()=>Pn,lC:()=>Cn,fw:()=>It});var r=n(1116),i=n(5366);const s=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var o=n(9764),a=n(878),l=n(8512),c=n(1305),u=n(1784),h=n(7930),d=n(1450),p=n(653),f=n(2875),m=n(5959),g=n(3835),_=n(6673),y=n(8402);function v(e){return function(t){return 0===e?(0,p.c)():t.lift(new b(e))}}class b{constructor(e){if(this.total=e,this.total<0)throw new y.W}call(e,t){return t.subscribe(new w(e,this.total))}}class w extends _.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function C(e=I){return t=>t.lift(new S(e))}class S{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new E(e,this.errorFactory))}}class E extends _.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function I(){return new s}function T(e=null){return t=>t.lift(new x(e))}class x{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new k(e,this.defaultValue))}}class k extends _.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var A=n(3392),R=n(611);function O(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,g.h)((t,n)=>e(t,n,r)):A.y,(0,R.q)(1),n?T(t):C(()=>new s))}var P=n(9996),D=n(4689),N=n(6238),L=n(2023),F=n(7727),M=n(436),V=n(3982),U=n(6599),B=n(1564),j=n(1520),q=n(7471);class z{constructor(e,t){this.id=e,this.url=t}}class G extends z{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class H extends z{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $ extends z{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Z extends z{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class K extends z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends z{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q extends z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends z{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ee{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class te{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class re{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ie{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class se{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const oe="primary";class ae{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function le(e){return new ae(e)}function ce(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function ue(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function he(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!de(e[i],t[i]))return!1;return!0}function de(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function pe(e){return Array.prototype.concat.apply([],e)}function fe(e){return e.length>0?e[e.length-1]:null}function me(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ge(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,o.D)(Promise.resolve(e)):(0,a.of)(e)}const _e={exact:function e(t,n,r){if(!Te(t.segments,n.segments))return!1;if(!Ce(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:be},ye={exact:function(e,t){return he(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>de(e[n],t[n]))},ignored:()=>!0};function ve(e,t,n){return _e[n.paths](e.root,t.root,n.matrixParams)&&ye[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function be(e,t,n){return we(e,t,t.segments,n)}function we(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Te(i,n)&&!t.hasChildren()&&!!Ce(i,n,r)}if(e.segments.length===n.length){if(!Te(e.segments,n))return!1;if(!Ce(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!be(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Te(e.segments,i)&&!!Ce(e.segments,i,r)&&!!e.children.primary&&we(e.children.primary,t,s,r)}}function Ce(e,t,n){return t.every((t,r)=>ye[n](e[r].parameters,t.parameters))}class Se{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=le(this.queryParams)),this._queryParamMap}toString(){return Ae.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,me(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Re(this)}}class Ie{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=le(this.parameters)),this._parameterMap}toString(){return Me(this)}}function Te(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class xe{}class ke{parse(e){const t=new qe(e);return new Se(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Oe(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${De(t)}=${De(e)}`).join("&"):`${De(t)}=${De(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Ae=new ke;function Re(e){return e.segments.map(e=>Me(e)).join("/")}function Oe(e,t){if(!e.hasChildren())return Re(e);if(t){const t=e.children.primary?Oe(e.children.primary,!1):"",n=[];return me(e.children,(e,t)=>{t!==oe&&n.push(`${t}:${Oe(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return me(e.children,(e,r)=>{r===oe&&(n=n.concat(t(e,r)))}),me(e.children,(e,r)=>{r!==oe&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===oe?[Oe(e.children.primary,!1)]:[`${n}:${Oe(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Re(e)}/${t[0]}`:`${Re(e)}/(${t.join("//")})`}}function Pe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(e){return Pe(e).replace(/%3B/gi,";")}function Ne(e){return Pe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Le(e){return decodeURIComponent(e)}function Fe(e){return Le(e.replace(/\+/g,"%20"))}function Me(e){return`${Ne(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Ne(e)}=${Ne(t[e])}`).join("")}`;var t}const Ve=/^[^\/()?;=#]+/;function Ue(e){const t=e.match(Ve);return t?t[0]:""}const Be=/^[^=?&#]+/,je=/^[^?&#]+/;class qe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ee(e,t)),n}parseSegment(){const e=Ue(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ie(Le(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ue(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ue(this.remaining);e&&(n=e,this.capture(n))}e[Le(t)]=Le(n)}parseQueryParam(e){const t=function(e){const t=e.match(Be);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(je);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=Fe(t),i=Fe(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ue(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=oe);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ze{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ge(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ge(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=He(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return He(e,this._root).map(e=>e.value)}}function Ge(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ge(e,n);if(t)return t}return null}function He(e,t){if(e===t.value)return[t];for(const n of t.children){const r=He(e,n);if(r.length)return r.unshift(t),r}return[]}class $e{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ze(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ke extends ze{constructor(e,t){super(e),this.snapshot=t,et(this,e)}toString(){return this.snapshot.toString()}}function Ye(e,t){const n=function(e,t){const n=new Je([],{},{},"",{},oe,t,null,e.root,-1,{});return new Xe("",new $e(n,[]))}(e,t),r=new l.X([new Ie("",{})]),i=new l.X({}),s=new l.X({}),o=new l.X({}),a=new l.X(""),c=new We(r,i,o,a,s,oe,t,n.root);return c.snapshot=n.root,new Ke(new $e(c,[]),n)}class We{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,P.U)(e=>le(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,P.U)(e=>le(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qe(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Je{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=le(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=le(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xe extends ze{constructor(e,t){super(t),this.url=e,et(this,t)}toString(){return tt(this._root)}}function et(e,t){t.value._routerState=e,t.children.forEach(t=>et(e,t))}function tt(e){const t=e.children.length>0?` { ${e.children.map(tt).join(", ")} } `:"";return`${e.value}${t}`}function nt(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,he(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),he(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!he(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),he(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function rt(e,t){var n,r;return he(e.params,t.params)&&Te(n=e.url,r=t.url)&&n.every((e,t)=>he(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||rt(e.parent,t.parent))}function it(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return it(e,t,r);return it(e,t)})}(e,t,n);return new $e(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return st(t,e),e}}const n=new We(new l.X((r=t.value).url),new l.X(r.params),new l.X(r.queryParams),new l.X(r.fragment),new l.X(r.data),r.outlet,r.component,r),i=t.children.map(t=>it(e,t));return new $e(n,i)}var r}function st(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)st(e.children[n],t.children[n])}function ot(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function at(e){return"object"==typeof e&&null!=e&&e.outlets}function lt(e,t,n,r,i){let s={};return r&&me(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Se(n.root===e?t:ct(n.root,e,t),s,i)}function ct(e,t,n){const r={};return me(e.children,(e,i)=>{r[i]=e===t?n:ct(e,t,n)}),new Ee(e.segments,r)}class ut{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&ot(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(at);if(r&&r!==fe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ht{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function dt(e,t,n){if(e||(e=new Ee([],{})),0===e.segments.length&&e.hasChildren())return pt(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(at(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!_t(a,l,t))return s;r+=2}else{if(!_t(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Ee(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Ee(e.segments.slice(r.pathIndex),e.children),pt(t,0,i)}return r.match&&0===i.length?new Ee(e.segments,{}):r.match&&!e.hasChildren()?ft(e,t,n):r.match?pt(e,0,i):ft(e,t,n)}function pt(e,t,n){if(0===n.length)return new Ee(e.segments,{});{const r=function(e){return at(e[0])?e[0].outlets:{[oe]:e}}(n),i={};return me(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=dt(e.children[r],t,n))}),me(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Ee(e.segments,i)}}function ft(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(at(s)){const e=mt(s.outlets);return new Ee(r,e)}if(0===i&&ot(n[0])){r.push(new Ie(e.segments[t].path,gt(n[0]))),i++;continue}const o=at(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ot(a)?(r.push(new Ie(o,gt(a))),i+=2):(r.push(new Ie(o,{})),i++)}return new Ee(r,{})}function mt(e){const t={};return me(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=ft(new Ee([],{}),0,e))}),t}function gt(e){const t={};return me(e,(e,n)=>t[n]=`${e}`),t}function _t(e,t,n){return e==n.path&&he(t,n.parameters)}class yt{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),nt(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Ze(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),me(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Ze(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Ze(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new ie(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ne(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(nt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),vt(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function vt(e){nt(e.value),e.children.forEach(vt)}class bt{constructor(e,t){this.routes=e,this.module=t}}function wt(e){return"function"==typeof e}function Ct(e){return e instanceof Se}const St=Symbol("INITIAL_VALUE");function Et(){return(0,D.w)(e=>(0,c.aj)(e.map(e=>e.pipe((0,R.q)(1),(0,N.O)(St)))).pipe((0,L.R)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==St)return e;if(r===St&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Ct(r))return r}return e},e)},St),(0,g.h)(e=>e!==St),(0,P.U)(e=>Ct(e)?e:!0===e),(0,R.q)(1)))}let It=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[Cn]},encapsulation:2}),e})();function Tt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];xt(r,kt(t,r))}}function xt(e,t){e.children&&Tt(e.children,t)}function kt(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function At(e){const t=e.children&&e.children.map(At),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=It),n}function Rt(e){return e.outlet||oe}function Ot(e,t){const n=e.filter(e=>Rt(e)===t);return n.push(...e.filter(e=>Rt(e)!==t)),n}const Pt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Pt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||ue)(n,e,t);if(!i)return Object.assign({},Pt);const s={};me(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Nt(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Lt(e,t,n)&&Rt(n)!==oe)}(e,n,r)){const i=new Ee(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Rt(s)!==oe){const n=new Ee([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Rt(s)]=n}return i}(e,t,r,new Ee(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Lt(e,t,n))}(e,n,r)){const s=new Ee(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(Lt(e,n,a)&&!i[Rt(a)]){const n=new Ee([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Rt(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ee(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Lt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ft(e,t,n,r){return!!(Rt(e)===r||r!==oe&&Lt(t,n,e))&&("**"===e.path||Dt(t,e,n).matched)}function Mt(e,t,n){return 0===t.length&&!e.children[n]}class Vt{constructor(e){this.segmentGroup=e||null}}class Ut{constructor(e){this.urlTree=e}}function Bt(e){return new u.y(t=>t.error(new Vt(e)))}function jt(e){return new u.y(t=>t.error(new Ut(e)))}function qt(e){return new u.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class zt{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Nt(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ee(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,oe).pipe((0,P.U)(e=>this.createUrlTree(Gt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,F.K)(e=>{if(e instanceof Ut)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Vt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,oe).pipe((0,P.U)(t=>this.createUrlTree(Gt(t),e.queryParams,e.fragment))).pipe((0,F.K)(e=>{if(e instanceof Vt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Ee([],{[oe]:e}):e;return new Se(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,P.U)(e=>new Ee([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,o.D)(r).pipe((0,M.b)(r=>{const i=n.children[r],s=Ot(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,P.U)(e=>({segment:e,outlet:r})))}),(0,L.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,g.h)((t,n)=>e(t,n,r)):A.y,v(1),n?T(t):C(()=>new s))}())}expandSegment(e,t,n,r,i,l){return(0,o.D)(n).pipe((0,M.b)(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,l).pipe((0,F.K)(e=>{if(e instanceof Vt)return(0,a.of)(null);throw e}))),O(e=>!!e),(0,F.K)((e,n)=>{if(e instanceof s||"EmptyError"===e.name){if(Mt(t,r,i))return(0,a.of)(new Ee([],{}));throw new Vt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return Ft(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Bt(t):Bt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jt(i):this.lineralizeSegments(n,i).pipe((0,V.zg)(n=>{const i=new Ee(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Dt(t,r,i);if(!o)return Bt(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?jt(u):this.lineralizeSegments(r,u).pipe((0,V.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,a.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,P.U)(e=>(n._loadedConfig=e,new Ee(r,{})))):(0,a.of)(new Ee(r,{}));const{matched:s,consumedSegments:o,lastChild:l}=Dt(t,n,r);if(!s)return Bt(t);const c=r.slice(l);return this.getChildConfig(e,n,r).pipe((0,V.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:l,slicedSegments:u}=Nt(t,o,c,s),h=new Ee(l.segments,l.children);if(0===u.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe((0,P.U)(e=>new Ee(o,e)));if(0===s.length&&0===u.length)return(0,a.of)(new Ee(o,{}));const d=Rt(n)===i;return this.expandSegment(r,h,s,u,d?oe:i,!0).pipe((0,P.U)(e=>new Ee(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,a.of)(new bt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,a.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,V.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,P.U)(e=>(t._loadedConfig=e,e))):function(e){return new u.y(t=>t.error(ce(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,a.of)(new bt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,a.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&wt(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!wt(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return ge(s)});return(0,a.of)(i).pipe(Et(),(0,U.b)(e=>{if(!Ct(e))return;const t=ce(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,P.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,a.of)(n);if(r.numberOfChildren>1||!r.children.primary)return qt(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Se(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return me(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return me(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new Ee(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Gt(e){const t={};for(const n of Object.keys(e.children)){const r=Gt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ee(e.segments.concat(t.segments),t.children)}return e}(new Ee(e.segments,t))}class Ht{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class $t{constructor(e,t){this.component=e,this.route=t}}function Zt(e,t,n){const r=e._root;return Yt(r,t?t._root:null,n,[r.value])}function Kt(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Yt(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ze(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Te(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Te(e.url,t.url)||!he(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rt(e,t)||!he(e.queryParams,t.queryParams);case"paramsChange":default:return!rt(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ht(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Yt(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $t(a.outlet.component,o))}else o&&Wt(t,a,i),i.canActivateChecks.push(new Ht(r)),Yt(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),me(s,(e,t)=>Wt(e,n.getContext(t),i)),i}function Wt(e,t,n){const r=Ze(e),i=e.value;me(r,(e,r)=>{Wt(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new $t(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Qt{}function Jt(e){return new u.y(t=>t.error(e))}class Xt{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Nt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,oe);if(null===t)return null;const n=new Je([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},oe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new $e(n,t),i=new Xe(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Qe(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Ot(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=tn(n);return r.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Mt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ft(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?fe(n).parameters:{};i=new Je(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(e),Rt(e),e.component,e,nn(t),rn(t)+n.length,on(e))}else{const r=Dt(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Je(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(e),Rt(e),e.component,e,nn(t),rn(t)+s.length,on(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Nt(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new $e(i,e)]}if(0===a.length&&0===c.length)return[new $e(i,[])];const u=Rt(e)===r,h=this.processSegment(a,l,c,u?oe:r);return null===h?null:[new $e(i,h)]}}function en(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function tn(e){const t=[],n=new Set;for(const r of e){if(!en(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=tn(r.children);t.push(new $e(r.value,e))}return t.filter(e=>!n.has(e))}function nn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function rn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function sn(e){return e.data||{}}function on(e){return e.resolve||{}}function an(e){return(0,D.w)(t=>{const n=e(t);return n?(0,o.D)(n).pipe((0,P.U)(()=>t)):(0,a.of)(t)})}class ln extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const cn=new i.OlP("ROUTES");class un{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,P.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new bt(pe(r.injector.get(cn,void 0,i.XFs.Self|i.XFs.Optional)).map(At),r)}),(0,F.K)(e=>{throw t._loader$=void 0,e}));return t._loader$=new f.c(n,()=>new m.xQ).pipe((0,B.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,o.D)(this.loader.load(e)):ge(e()).pipe((0,V.zg)(e=>e instanceof i.YKP?(0,a.of)(e):(0,o.D)(this.compiler.compileModuleAsync(e))))}}class hn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dn,this.attachRef=null}}class dn{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hn,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class pn{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function fn(e){throw e}function mn(e,t,n){return t.parse("/")}function gn(e,t){return(0,a.of)(null)}const _n={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vn=(()=>{class e{constructor(e,t,n,r,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new m.xQ,this.errorHandler=fn,this.malformedUriErrorHandler=mn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gn,afterPreactivation:gn},this.urlHandlingStrategy=new pn,this.routeReuseStrategy=new ln,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const u=s.get(i.R0b);this.isNgZoneEnabled=u instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Se(new Ee([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new un(o,a,e=>this.triggerEvent(new X(e)),e=>this.triggerEvent(new ee(e))),this.routerState=Ye(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe((0,g.h)(e=>0!==e.id),(0,P.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,D.w)(e=>{let n=!1,r=!1;return(0,a.of)(e).pipe((0,U.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,D.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,a.of)(e).pipe((0,D.w)(e=>{const n=this.transitions.getValue();return t.next(new G(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?p.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,(0,D.w)(e=>function(e,t,n,r,i){return new zt(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,P.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,U.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,V.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new Xt(e,t,n,r,i,s).recognize();return null===o?Jt(new Qt):(0,a.of)(o)}catch(o){return Jt(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,P.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,U.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects);const n=new K(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,l=new G(n,this.serializeUrl(r),i,s);t.next(l);const c=Ye(r,this.rootComponentType).snapshot;return(0,a.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),p.E}),an(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,U.b)(e=>{const t=new Y(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,P.U)(e=>Object.assign(Object.assign({},e),{guards:Zt(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,V.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return 0===l.length&&0===s.length?(0,a.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,o.D)(e).pipe((0,V.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,a.of)(!0);const o=s.map(s=>{const o=Kt(s,t,i);let a;if(function(e){return e&&wt(e.canDeactivate)}(o))a=ge(o.canDeactivate(e,t,n,r));else{if(!wt(o))throw new Error("Invalid CanDeactivate guard");a=ge(o(e,t,n,r))}return a.pipe(O())});return(0,a.of)(o).pipe(Et())}(e.component,e.route,n,t,r)),O(e=>!0!==e,!0))}(l,r,i,e).pipe((0,V.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,o.D)(t).pipe((0,M.b)(t=>(0,h.z)(function(e,t){return null!==e&&t&&t(new te(e)),(0,a.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new re(e)),(0,a.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>(0,d.P)(()=>{const i=t.guards.map(i=>{const s=Kt(i,t.node,n);let o;if(function(e){return e&&wt(e.canActivateChild)}(s))o=ge(s.canActivateChild(r,e));else{if(!wt(s))throw new Error("Invalid CanActivateChild guard");o=ge(s(r,e))}return o.pipe(O())});return(0,a.of)(i).pipe(Et())}));return(0,a.of)(i).pipe(Et())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,a.of)(!0);const i=r.map(r=>(0,d.P)(()=>{const i=Kt(r,t,n);let s;if(function(e){return e&&wt(e.canActivate)}(i))s=ge(i.canActivate(t,e));else{if(!wt(i))throw new Error("Invalid CanActivate guard");s=ge(i(t,e))}return s.pipe(O())}));return(0,a.of)(i).pipe(Et())}(e,t.route,n))),O(e=>!0!==e,!0))}(r,s,e,t):(0,a.of)(n)),(0,P.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,U.b)(e=>{if(Ct(e.guardsResult)){const t=ce(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new W(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,g.h)(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),an(e=>{if(e.guards.canActivateChecks.length)return(0,a.of)(e).pipe((0,U.b)(e=>{const t=new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,D.w)(e=>{let n=!1;return(0,a.of)(e).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,V.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return(0,a.of)(e);let s=0;return(0,o.D)(n).pipe((0,M.b)(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,a.of)({});const s={};return(0,o.D)(i).pipe((0,V.zg)(i=>function(e,t,n,r){const i=Kt(e,t,r);return ge(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,U.b)(e=>{s[i]=e}))),v(1),(0,V.zg)(()=>Object.keys(s).length===i.length?(0,a.of)(s):p.E))}(e._resolve,e,t,r).pipe((0,P.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Qe(e,n).resolve),null)))}(e.route,t,r,i)),(0,U.b)(()=>s++),v(1),(0,V.zg)(t=>s===n.length?(0,a.of)(e):p.E))})),(0,U.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new $(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var r,i}),(0,U.b)(e=>{const t=new J(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),an(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,P.U)(e=>{const t=function(e,t,n){const r=it(e,t._root,n?n._root:void 0);return new Ke(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,U.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,l=e=>this.triggerEvent(e),(0,P.U)(e=>(new yt(s,e.targetRouterState,e.currentRouterState,l).activate(i),e))),(0,U.b)({next(){n=!0},complete(){n=!0}}),(0,j.x)(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),(0,F.K)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ct(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new $(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Z(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return p.E}));var i,s,l}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Tt(e),this.config=e.map(At),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return lt(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ut(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return me(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new ut(n,t,r)}(n);if(s.toRoot())return lt(t.root,new Ee([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new ht(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new ht(e,e===t.root,0)}const r=ot(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ht(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?pt(o.segmentGroup,o.index,s.commands):dt(o.segmentGroup,o.index,s.commands);return lt(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Ct(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},_n):!1===t?Object.assign({},yn):t,Ct(e))return ve(this.currentUrlTree,e,n);const r=this.parseUrl(e);return ve(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new H(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((e,t)=>{l=e,c=t});const h=++this.navigationId;return this.setTransition({id:h,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(xe),i.LFG(dn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),bn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new m.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:wn(this.skipLocationChange),replaceUrl:wn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(vn),i.Y36(We),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function wn(e){return""===e||!!e}let Cn=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||oe,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Sn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(dn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Sn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===We?this.route:e===dn?this.childContexts:this.parent.get(e,t)}}class En{}class In{preload(e,t){return(0,a.of)(null)}}let Tn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new un(t,n,t=>e.triggerEvent(new X(t)),t=>e.triggerEvent(new ee(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,g.h)(e=>e instanceof H),(0,M.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,o.D)(n).pipe((0,q.J)(),(0,P.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,a.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,V.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(vn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(En))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),xn=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof G?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof H&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof se&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new se(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(vn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const kn=new i.OlP("ROUTER_CONFIGURATION"),An=new i.OlP("ROUTER_FORROOT_GUARD"),Rn=[r.Ye,{provide:xe,useClass:ke},{provide:vn,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new vn(null,e,t,n,r,i,s,pe(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[xe,dn,r.Ye,i.zs3,i.v3s,i.Sil,cn,kn,[class{},new i.FiY],[class{},new i.FiY]]},dn,{provide:We,useFactory:function(e){return e.routerState.root},deps:[vn]},{provide:i.v3s,useClass:i.EAV},Tn,In,class{preload(e,t){return t().pipe((0,F.K)(()=>(0,a.of)(null)))}},{provide:kn,useValue:{enableTracing:!1}}];function On(){return new i.PXZ("Router",vn)}let Pn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Rn,Fn(t),{provide:An,useFactory:Ln,deps:[[vn,new i.FiY,new i.tp0]]},{provide:kn,useValue:n||{}},{provide:r.S$,useFactory:Nn,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],kn]},{provide:xn,useFactory:Dn,deps:[vn,r.EM,kn]},{provide:En,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:In},{provide:i.PXZ,multi:!0,useFactory:On},[Mn,{provide:i.ip1,multi:!0,useFactory:Vn,deps:[Mn]},{provide:Bn,useFactory:Un,deps:[Mn]},{provide:i.tb,multi:!0,useExisting:Bn}]]}}static forChild(t){return{ngModule:e,providers:[Fn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(An,8),i.LFG(vn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function Dn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new xn(e,t,n)}function Nn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Ln(e){return"guarded"}function Fn(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:cn,multi:!0,useValue:e}]}let Mn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new m.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(vn),r=this.injector.get(kn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,a.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(kn),n=this.injector.get(Tn),r=this.injector.get(xn),s=this.injector.get(vn),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function Vn(e){return e.appInitializer.bind(e)}function Un(e){return e.bootstrapListener.bind(e)}const Bn=new i.OlP("Router Initializer")},6986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5725),i=n(1947),s=n(7964),o=n(8678);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.35",void 0)},7964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>E,_DEFAULT_ENTRY_NAME:()=>d,_addComponent:()=>g,_addOrOverwriteComponent:()=>_,_apps:()=>f,_clearComponents:()=>w,_components:()=>m,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>b,deleteApp:()=>k,getApp:()=>T,getApps:()=>x,initializeApp:()=>I,onLog:()=>O,registerVersion:()=>R,setLogLevel:()=>P});var r=n(6304),i=n(1947),s=n(8678),o=n(5725),a=n(4890);class l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const c="@firebase/app",u="0.8.0",h=new s.Yd("@firebase/app"),d="[DEFAULT]",p={[c]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,m=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){h.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(m.has(t))return h.debug(`There were multiple attempts to register component ${t}.`),!1;m.set(t,e);for(const n of f.values())g(n,e);return!0}function v(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function b(e,t,n=d){v(e,t).clearInstance(n)}function w(){m.clear()}const C=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class S{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})}}const E="9.11.0";function I(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!=typeof s||!s)throw C.create("bad-app-name",{appName:String(s)});if(n||(n=(0,o.aH)()),!n)throw C.create("no-options");const a=f.get(s);if(a){if((0,o.vZ)(n,a.options)&&(0,o.vZ)(r,a.config))return a;throw C.create("duplicate-app",{appName:s})}const l=new i.H0(s);for(const i of m.values())l.addComponent(i);const c=new S(n,r,l);return f.set(s,c),c}function T(e=d){const t=f.get(e);if(!t&&e===d)return I();if(!t)throw C.create("no-app",{appName:e});return t}function x(){return Array.from(f.values())}function k(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;f.has(t)&&(f.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function R(e,t,n){var r;let s=null!==(r=p[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void h.warn(e.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function O(e,t){if(null!==e&&"function"!=typeof e)throw C.create("invalid-log-argument");(0,s.Am)(e,t)}function P(e){(0,s.Ub)(e)}const D="firebase-heartbeat-store";let N=null;function L(){return N||(N=(0,a.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}}).catch(e=>{throw C.create("idb-open",{originalErrorMessage:e.message})})),N}function F(){return(F=(0,r.Z)(function*(e){var t;try{return(yield L()).transaction(D).objectStore(D).get(U(e))}catch(n){if(n instanceof o.ZR)h.warn(n.message);else{const e=C.create("idb-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message});h.warn(e.message)}}})).apply(this,arguments)}function M(e,t){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t){var n;try{const n=(yield L()).transaction(D,"readwrite"),r=n.objectStore(D);return yield r.put(t,U(e)),n.done}catch(r){if(r instanceof o.ZR)h.warn(r.message);else{const e=C.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});h.warn(e.message)}}})).apply(this,arguments)}function U(e){return`${e.name}!${e.options.appId}`}class B{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new q(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){var e=this;return(0,r.Z)(function*(){const t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=j();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==n&&!e._heartbeatsCache.heartbeats.some(e=>e.date===n))return e._heartbeatsCache.heartbeats.push({date:n,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,r.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=j(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),z(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:n}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function j(){return(new Date).toISOString().substring(0,10)}class q{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,o.hl)()&&(0,o.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,r.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(e){return F.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return M(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return M(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}})()}}function z(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}y(new i.wA("platform-logger",e=>new l(e),"PRIVATE")),y(new i.wA("heartbeat",e=>new B(e),"PRIVATE")),R(c,u,""),R(c,u,"esm2017"),R("fire-js","")},3976:(e,t,n)=>{"use strict";n.d(t,{$:()=>en,A:()=>u,B:()=>h,E:()=>I,G:()=>Le,H:()=>Ve,J:()=>at,L:()=>ge,M:()=>_t,N:()=>wt,P:()=>ti,Q:()=>Ct,R:()=>zr,T:()=>St,U:()=>bt,V:()=>It,W:()=>Tt,X:()=>Ot,Y:()=>$t,Z:()=>Kt,_:()=>Wt,a:()=>dr,a0:()=>on,a1:()=>ln,a2:()=>un,a3:()=>dn,a4:()=>fn,a5:()=>gn,a6:()=>yn,a7:()=>vn,a8:()=>wn,a9:()=>Cn,aA:()=>Vi,aB:()=>Ni,aC:()=>Si,aD:()=>Ci,aE:()=>De,aI:()=>fr,aL:()=>Et,aa:()=>Tn,ab:()=>kn,ac:()=>Rn,ae:()=>gt,af:()=>Nn,ag:()=>Fn,ah:()=>Mn,ai:()=>W,aj:()=>Q,ak:()=>Ft,al:()=>$n,am:()=>le,an:()=>ir,ao:()=>lr,ap:()=>ke,aq:()=>C,ar:()=>xe,as:()=>Ee,at:()=>m,au:()=>is,av:()=>ji,aw:()=>g,ax:()=>b,ay:()=>E,az:()=>_e,b:()=>hr,c:()=>ui,d:()=>fi,e:()=>di,f:()=>Ti,g:()=>Ri,h:()=>ki,i:()=>Ar,j:()=>Pi,k:()=>os,l:()=>Zr,m:()=>ls,n:()=>ms,o:()=>c,p:()=>Zn,q:()=>Kn,r:()=>Yr,s:()=>Hr,t:()=>Yn,u:()=>Xr,v:()=>Wn,w:()=>Qn,x:()=>Jn,y:()=>Xn,z:()=>er});var r=n(6304),i=n(5725),s=n(7964),o=n(8678),a=n(4762),l=n(1947);const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new o.Yd("@firebase/auth");function f(e,...t){p.logLevel<=o.in.ERROR&&p.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function m(e,...t){throw v(e,...t)}function g(e,...t){return v(e,...t)}function _(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&m(e,"argument-error"),_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return d.create(e,...t)}function b(e,t,...n){if(!e)throw v(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function C(e,t){e||w(t)}const S=new Map;function E(e){C(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}function I(e,t){const n=(0,s._getProvider)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=t?t:{}))return e;m(e,"already-initialized")}return n.initialize({options:t})}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function x(){return"http:"===k()||"https:"===k()}function k(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class A{constructor(e,t){this.shortDelay=e,this.longDelay=t,C(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(x()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){C(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class O{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D=new A(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function L(e,t,n,r){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n,s,o={}){return M(e,o,(0,r.Z)(function*(){let r={},o={};s&&("GET"===t?o=s:r={body:JSON.stringify(s)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),O.fetch()(j(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function M(e,t,n){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw z(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw z(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw z(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _(e,a,o);m(e,a)}}catch(s){if(s instanceof i.ZR)throw s;m(e,"network-request-failed")}})).apply(this,arguments)}function U(e,t,n,r){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield L(e,t,n,r,i);return"mfaPendingCredential"in s&&m(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function j(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?R(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"network-request-failed")),D.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function G(){return(G=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Z(e,t){return K.apply(this,arguments)}function K(){return(K=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Y(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(e,t=!1){return(0,i.m9)(e).getIdToken(t)}function Q(e){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t=!1){const n=(0,i.m9)(e),r=yield n.getIdToken(t),s=ee(r);b(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Y(X(s.auth_time)),issuedAtTime:Y(X(s.iat)),expirationTime:Y(X(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function X(e){return 1e3*Number(e)}function ee(e){var t;const[n,r,s]=e.split(".");if(void 0===n||void 0===r||void 0===s)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(r);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(o){return f("Caught error parsing JWT payload as JSON",null===(t=o)||void 0===t?void 0:t.toString()),null}}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof i.ZR&&re(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function re({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===(null===(t=n)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class se{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Y(this.lastLoginAt),this.creationTime=Y(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(e){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield te(e,Z(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?he(s.providerUserInfo):[],a=ue(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new se(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function le(e){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)(function*(e){const t=(0,i.m9)(e);yield oe(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function ue(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function he(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function de(){return(de=(0,r.Z)(function*(e,t){const n=yield M(e,{},(0,r.Z)(function*(){const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=j(e,r,"/v1/token",`key=${s}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=ee(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return de.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pe;return n&&(b("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return w("not implemented")}}function fe(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class me{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new se(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield te(t,t.stsTokenManager.getToken(t.auth,e));return b(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return Q(this,e)}reload(){return le(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new me(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield oe(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield te(e,function(e,t){return G.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,_=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:v,isAnonymous:w,providerData:C,stsTokenManager:S}=t;b(y&&S,e,"internal-error");const E=pe.fromJSON(this.name,S);b("string"==typeof y,e,"internal-error"),fe(u,e.name),fe(h,e.name),b("boolean"==typeof v,e,"internal-error"),b("boolean"==typeof w,e,"internal-error"),fe(d,e.name),fe(p,e.name),fe(f,e.name),fe(m,e.name),fe(g,e.name),fe(_,e.name);const I=new me({uid:y,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:_});return C&&Array.isArray(C)&&(I.providerData=C.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new pe;r.updateFromServerResponse(t);const i=new me({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield oe(i),i})()}}const ge=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function _e(e,t,n){return`firebase:${e}:${t}:${n}`}class ye{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_e(this.userKey,r.apiKey,i),this.fullPersistenceKey=_e("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?me._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new ye(E(ge),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||E(ge);const o=_e(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=me._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new ye(s,e,n)):new ye(s,e,n)})()}}function ve(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Se(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(be(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ie(t))return"Blackberry";if(Te(t))return"Webos";if(we(t))return"Safari";if((t.includes("chrome/")||Ce(t))&&!t.includes("edge/"))return"Chrome";if(Ee(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function be(e=(0,i.z$)()){return/firefox\//i.test(e)}function we(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ce(e=(0,i.z$)()){return/crios\//i.test(e)}function Se(e=(0,i.z$)()){return/iemobile/i.test(e)}function Ee(e=(0,i.z$)()){return/android/i.test(e)}function Ie(e=(0,i.z$)()){return/blackberry/i.test(e)}function Te(e=(0,i.z$)()){return/webos/i.test(e)}function xe(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ke(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ae(e=(0,i.z$)()){return xe(e)||Ee(e)||Te(e)||Ie(e)||/windows phone/i.test(e)||Se(e)}function Re(e,t=[]){let n;switch(e){case"Browser":n=ve((0,i.z$)());break;case"Worker":n=`${ve((0,i.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class Oe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,r.Z)(function*(){var n;if(t.auth.currentUser===e)return;const r=[];try{for(const n of t.queue)yield n(e),n.onAbort&&r.push(n.onAbort)}catch(i){r.reverse();for(const e of r)try{e()}catch(s){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=i)||void 0===n?void 0:n.message})}})()}}class Pe{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ne(this),this.idTokenSubscription=new Ne(this),this.beforeStateQueue=new Oe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield ye.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t,!0)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;const r=yield t.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const r=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);r&&r!==o||!(null==a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return t.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(i)}catch(o){i=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(o))}return i?t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)}return b(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){var n;try{yield oe(e)}catch(r){if("auth/network-request-failed"!==(null===(n=r)||void 0===n?void 0:n.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,i.m9)(e):null;return n&&b(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,r.Z)(function*(){if(!n._deleted)return e&&b(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,r.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&E(e)||t._popupRedirectResolver;b(n,t,"argument-error"),t.redirectPersistenceManager=yield ye.create(t,[E(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(n["X-Firebase-Client"]=r),n})()}}function De(e){return(0,i.m9)(e)}class Ne{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Le(e,t,n){const r=De(e);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Fe(t),{host:o,port:a}=function(e){const t=Fe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Me(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Me(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Me(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ve{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}function Ue(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:resetPassword",N(e,t))})).apply(this,arguments)}function je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function ze(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:update",N(e,t))})).apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPassword",N(e,t))})).apply(this,arguments)}function $e(e,t){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:sendOobCode",N(e,t))})).apply(this,arguments)}function Ke(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return $e(e,t)})).apply(this,arguments)}function We(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return $e(e,t)})).apply(this,arguments)}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return $e(e,t)})).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return $e(e,t)})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))})).apply(this,arguments)}class it extends Ve{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new it(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new it(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return He.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return nt.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:m(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return rt.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:m(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function st(e,t){return ot.apply(this,arguments)}function ot(){return(ot=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithIdp",N(e,t))})).apply(this,arguments)}class at extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new at(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):m("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new at(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return st(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,st(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,st(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}function lt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))})).apply(this,arguments)}function ut(){return(ut=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))})).apply(this,arguments)}function ht(){return(ht=(0,r.Z)(function*(e,t){const n=yield U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw z(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const dt={USER_NOT_FOUND:"user-not-found"};function pt(){return(pt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),dt)})).apply(this,arguments)}class ft extends Ve{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ft({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ft({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return ut.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return ht.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return pt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ft({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class mt{constructor(e){var t,n,r,s,o,a;const l=(0,i.zd)((0,i.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);b(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new mt(t)}catch(n){return null}}}function gt(e){return mt.parseLink(e)}let _t=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return it._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=mt.parseLink(t);return b(n,"argument-error"),it._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class yt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vt extends yt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bt extends vt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),at._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),at._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return bt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new bt(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let wt=(()=>{class e extends vt{constructor(){super("facebook.com")}static credential(t){return at._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),Ct=(()=>{class e extends vt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return at._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),St=(()=>{class e extends vt{constructor(){super("github.com")}static credential(t){return at._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class Et extends Ve{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return st(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,st(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,st(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Et(n,i):null}static _create(e,t){return new Et(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class It extends yt{constructor(e){b(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return It.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return It.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Et.fromJSON(e);return b(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Et._create(n,t)}catch(r){return null}}}let Tt=(()=>{class e extends vt{constructor(){super("twitter.com")}static credential(t,n){return at._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function xt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signUp",N(e,t))})).apply(this,arguments)}class At{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield me._fromIdTokenResponse(e,n,i),s=Rt(n);return new At({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Rt(n);return new At({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Rt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ot(e){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e){var t;const n=De(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new At({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield xt(n,{returnSecureToken:!0}),i=yield At._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Dt extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Dt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Dt(e,t,n,r)}}function Nt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Dt._fromErrorAndOperation(e,n,t,r);throw n})}function Lt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e);yield Bt(!0,n,t);const{providerUserInfo:r}=yield H(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),s=Lt(r||[]);return n.providerData=n.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Vt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(e,t,n=!1){const r=yield te(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return At._forOperation(e,"link",r)})).apply(this,arguments)}function Bt(e,t,n){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t,n){yield oe(t);const r=!1===e?"provider-already-linked":"no-such-provider";b(Lt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function qt(e,t){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t,n=!1){var r;const{auth:i}=e,s="reauthenticate";try{const r=yield te(e,Nt(i,s,t,e),n);b(r.idToken,i,"internal-error");const o=ee(r.idToken);b(o,i,"internal-error");const{sub:a}=o;return b(e.uid===a,i,"user-mismatch"),At._forOperation(e,s,r)}catch(o){throw"auth/user-not-found"===(null===(r=o)||void 0===r?void 0:r.code)&&m(i,"user-mismatch"),o}})).apply(this,arguments)}function Gt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Nt(e,r,t),s=yield At._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function $t(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){return Gt(De(e),t)})).apply(this,arguments)}function Kt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e);return yield Bt(!1,n,t.providerId),Vt(n,t)})).apply(this,arguments)}function Wt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){return qt((0,i.m9)(e),t)})).apply(this,arguments)}function Jt(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t){return U(e,"POST","/v1/accounts:signInWithCustomToken",N(e,t))})).apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t){const n=De(e),r=yield Jt(n,{token:t,returnSecureToken:!0}),i=yield At._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class nn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?rn._fromServerResponse(e,t):m(e,"internal-error")}}class rn extends nn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new rn(t)}}function sn(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function on(e,t,n){return an.apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&sn(r,s,n),yield We(r,s)})).apply(this,arguments)}function ln(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){yield Ue((0,i.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function un(e,t){return hn.apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,t){yield ze((0,i.m9)(e),{oobCode:t})})).apply(this,arguments)}function dn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e),r=yield Ue(n,{oobCode:t}),s=r.requestType;switch(b(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=nn._fromServerResponse(De(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}})).apply(this,arguments)}function fn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=(0,r.Z)(function*(e,t){const{data:n}=yield dn((0,i.m9)(e),t);return n.email})).apply(this,arguments)}function gn(e,t,n){return _n.apply(this,arguments)}function _n(){return(_n=(0,r.Z)(function*(e,t,n){const r=De(e),i=yield xt(r,{returnSecureToken:!0,email:t,password:n}),s=yield At._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function yn(e,t,n){return $t((0,i.m9)(e),_t.credential(t,n))}function vn(e,t,n){return bn.apply(this,arguments)}function bn(){return(bn=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,r,"argument-error"),n&&sn(r,s,n),yield Je(r,s)})).apply(this,arguments)}function wn(e,t){const n=mt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}function Cn(e,t,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s=_t.credentialWithLink(t,n||T());return b(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$t(r,s)})).apply(this,arguments)}function En(e,t){return In.apply(this,arguments)}function In(){return(In=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:createAuthUri",N(e,t))})).apply(this,arguments)}function Tn(e,t){return xn.apply(this,arguments)}function xn(){return(xn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:x()?T():"http://localhost"},{signinMethods:r}=yield En((0,i.m9)(e),n);return r||[]})).apply(this,arguments)}function kn(e,t){return An.apply(this,arguments)}function An(){return(An=(0,r.Z)(function*(e,t){const n=(0,i.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&sn(n.auth,r,t);const{email:s}=yield Ke(n.auth,r);s!==e.email&&(yield e.reload())})).apply(this,arguments)}function Rn(e,t,n){return On.apply(this,arguments)}function On(){return(On=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&sn(r.auth,s,n);const{email:o}=yield et(r.auth,s);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function Pn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Nn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),s={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield te(r,Pn(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function Fn(e,t){return Vn((0,i.m9)(e),t,null)}function Mn(e,t){return Vn((0,i.m9)(e),null,t)}function Vn(e,t,n){return Un.apply(this,arguments)}function Un(){return(Un=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield te(e,je(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class Bn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class jn extends Bn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class qn extends Bn{constructor(e,t){super(e,"facebook.com",t)}}class zn extends jn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class Gn extends Bn{constructor(e,t){super(e,"google.com",t)}}class Hn extends jn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function $n(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=ee(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Bn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new qn(s,i);case"github.com":return new zn(s,i);case"google.com":return new Gn(s,i);case"twitter.com":return new Hn(s,i,e.screenName||null);case"custom":case"anonymous":return new Bn(s,null);default:return new Bn(s,r,i)}}(n)}function Zn(e,t){return(0,i.m9)(e).setPersistence(t)}function Kn(e,t,n,r){return(0,i.m9)(e).onIdTokenChanged(t,n,r)}function Yn(e,t,n){return(0,i.m9)(e).beforeAuthStateChanged(t,n)}function Wn(e,t,n,r){return(0,i.m9)(e).onAuthStateChanged(t,n,r)}function Qn(e){(0,i.m9)(e).useDeviceLanguage()}function Jn(e,t){return(0,i.m9)(e).updateCurrentUser(t)}function Xn(e){return(0,i.m9)(e).signOut()}function er(e){return tr.apply(this,arguments)}function tr(){return(tr=(0,r.Z)(function*(e){return(0,i.m9)(e).delete()})).apply(this,arguments)}class nr{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new nr("enroll",e,t)}static _fromMfaPendingCredential(e){return new nr("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return nr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return nr._fromIdtoken(e.multiFactorSession.idToken)}return null}}class rr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=De(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>nn._fromServerResponse(n,e));b(i.mfaPendingCredential,n,"internal-error");const o=nr._fromMfaPendingCredential(i.mfaPendingCredential);return new rr(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield At._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),At._forOperation(t.user,t.operationType,s);default:m(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function ir(e,t){var n;const r=(0,i.m9)(e),s=t;return b(t.customData.operationType,r,"argument-error"),b(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rr._fromError(r,s)}function sr(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}class or{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>nn._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new or(e)}getSession(){var e=this;return(0,r.Z)(function*(){return nr._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield te(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){var n;const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken(),s=yield te(t.user,(o=t.user.auth,a={idToken:i,mfaEnrollmentId:r},L(o,"POST","/v2/accounts/mfaEnrollment:withdraw",N(o,a))));var o,a;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==r),yield t.user._updateTokensIfNecessary(s);try{yield t.user.reload()}catch(l){if("auth/user-token-expired"!==(null===(n=l)||void 0===n?void 0:n.code))throw l}})()}}const ar=new WeakMap;function lr(e){const t=(0,i.m9)(e);return ar.has(t)||ar.set(t,or._fromUser(t)),ar.get(t)}const cr="__sak";class ur{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cr,"1"),this.storage.removeItem(cr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hr=(()=>{class e extends ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.z$)();return we(e)||xe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),dr=(()=>{class e extends ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let pr=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function fr(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class mr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=fr("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function gr(){return window}function _r(){return void 0!==gr().WorkerGlobalScope&&"function"==typeof gr().importScripts}function yr(){return(yr=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const vr="firebaseLocalStorageDb",br="firebaseLocalStorage",wr="fbase_key";class Cr{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sr(e,t){return e.transaction([br],t?"readwrite":"readonly").objectStore(br)}function Er(){const e=indexedDB.open(vr,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(br,{keyPath:wr})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(br)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(vr);return new Cr(e).toPromise()}(),t(yield Er()))}))})}function Ir(e,t,n){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=Sr(e,!0).put({[wr]:t,value:n});return new Cr(r).toPromise()})).apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t){const n=Sr(e,!1).get(t),r=yield new Cr(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kr(e,t){const n=Sr(e,!0).delete(t);return new Cr(n).toPromise()}const Ar=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Er()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return _r()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=pr._getInstance(_r()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return yr.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new mr(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Er();return yield Ir(e,cr,"1"),yield kr(e,cr),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Ir(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return xr.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>kr(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Sr(e,!1).getAll();return new Cr(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Rr(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}function Or(){return(Or=(0,r.Z)(function*(e){return(yield L(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pr(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Dr(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Nr=1e12;class Lr{constructor(e){this.auth=e,this.counter=Nr,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Fr(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Nr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Nr))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Nr))||void 0===n||n.execute(),""})()}}class Fr{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;b(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mr=Dr("rcb"),Vr=new A(3e4,6e4);class Ur{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=gr().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return b(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(gr().grecaptcha):new Promise((n,r)=>{const s=gr().setTimeout(()=>{r(g(e,"network-request-failed"))},Vr.get());gr()[Mr]=()=>{gr().clearTimeout(s),delete gr()[Mr];const i=gr().grecaptcha;if(!i)return void r(g(e,"internal-error"));const o=i.render;i.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(i)},Pr(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:Mr,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=gr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Br{load(e){return(0,r.Z)(function*(){return new Lr(e)})()}clearedOneInstance(){}}const jr="recaptcha",qr={theme:"light",type:"image"};class zr{constructor(e,t=Object.assign({},qr),n){this.parameters=t,this.type=jr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=De(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Br:new Ur,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=gr()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){b(x()&&!_r(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Or.apply(this,arguments)}(e.auth);b(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Gr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ft._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function Hr(e,t,n){return $r.apply(this,arguments)}function $r(){return($r=(0,r.Z)(function*(e,t,n){const r=De(e),s=yield Qr(r,t,(0,i.m9)(n));return new Gr(s,e=>$t(r,e))})).apply(this,arguments)}function Zr(e,t,n){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);yield Bt(!1,r,"phone");const s=yield Qr(r.auth,t,(0,i.m9)(n));return new Gr(s,e=>Kt(r,e))})).apply(this,arguments)}function Yr(e,t,n){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e),s=yield Qr(r.auth,t,(0,i.m9)(n));return new Gr(s,e=>Wt(r,e))})).apply(this,arguments)}function Qr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,e,"argument-error"),b(n.type===jr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return b("enroll"===t.type,e,"internal-error"),(yield sr(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,e,"missing-multi-factor-info"),(yield Rr(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield lt(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function Xr(e,t){return ei.apply(this,arguments)}function ei(){return(ei=(0,r.Z)(function*(e,t){yield Vt((0,i.m9)(e),t)})).apply(this,arguments)}let ti=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=De(t)}verifyPhoneNumber(e,t){return Qr(this.auth,e,(0,i.m9)(t))}static credential(e,t){return ft._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ft._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function ni(e,t){return t?E(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class ri extends Ve{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return st(e,this._buildIdpRequest())}_linkToIdToken(e,t){return st(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return st(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ii(e){return Gt(e.auth,new ri(e),e.bypassAuthState)}function si(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),qt(n,new ri(e),e.bypassAuthState)}function oi(e){return ai.apply(this,arguments)}function ai(){return(ai=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),Vt(n,new ri(e),e.bypassAuthState)})).apply(this,arguments)}class li{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ii;case"linkViaPopup":case"linkViaRedirect":return oi;case"reauthViaPopup":case"reauthViaRedirect":return si;default:m(this.auth,"internal-error")}}resolve(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ci=new A(2e3,1e4);function ui(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(e,t,n){const r=De(e);y(e,t,yt);const i=ni(r,n);return new gi(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function di(e,t,n){return pi.apply(this,arguments)}function pi(){return(pi=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);y(r.auth,t,yt);const s=ni(r.auth,n);return new gi(r.auth,"reauthViaPopup",t,s,r).executeNotNull()})).apply(this,arguments)}function fi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);y(r.auth,t,yt);const s=ni(r.auth,n);return new gi(r.auth,"linkViaPopup",t,s,r).executeNotNull()})).apply(this,arguments)}let gi=(()=>{class e extends li{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return b(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){C(1===e.filter.length,"Popup operations only handle one event");const t=fr();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,ci.get())};e()}}return e.currentPopupAction=null,e})();const _i=new Map;class yi extends li{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=_i.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return vi.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}_i.set(t.auth._key(),n)}return t.bypassAuthState||_i.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function vi(){return(vi=(0,r.Z)(function*(e,t){const n=Ii(t),r=Ei(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e,t){return Ei(e)._set(Ii(t),"true")})).apply(this,arguments)}function Ci(){_i.clear()}function Si(e,t){_i.set(e._key(),t)}function Ei(e){return E(e._redirectPersistence)}function Ii(e){return _e("pendingRedirect",e.config.apiKey,e.name)}function Ti(e,t,n){return function(e,t,n){return xi.apply(this,arguments)}(e,t,n)}function xi(){return(xi=(0,r.Z)(function*(e,t,n){const r=De(e);y(e,t,yt);const i=ni(r,n);return yield bi(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function ki(e,t,n){return function(e,t,n){return Ai.apply(this,arguments)}(e,t,n)}function Ai(){return(Ai=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);y(r.auth,t,yt);const s=ni(r.auth,n);yield bi(s,r.auth);const o=yield Fi(r);return s._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Ri(e,t,n){return function(e,t,n){return Oi.apply(this,arguments)}(e,t,n)}function Oi(){return(Oi=(0,r.Z)(function*(e,t,n){const r=(0,i.m9)(e);y(r.auth,t,yt);const s=ni(r.auth,n);yield Bt(!1,r,t.providerId),yield bi(s,r.auth);const o=yield Fi(r);return s._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Pi(e,t){return Di.apply(this,arguments)}function Di(){return(Di=(0,r.Z)(function*(e,t){return yield De(e)._initializationPromise,Ni(e,t,!1)})).apply(this,arguments)}function Ni(e,t){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(e,t,n=!1){const r=De(e),i=ni(r,t),s=new yi(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Fi(e){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,r.Z)(function*(e){const t=fr(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Vi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Bi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ui(e))}saveEventToCache(e){this.cachedEventUids.add(Ui(e)),this.lastProcessedEventTime=Date.now()}}function Ui(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Bi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function ji(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,r.Z)(function*(e,t={}){return L(e,"GET","/v1/projects",t)})).apply(this,arguments)}const zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gi=/^https?/;function Hi(){return(Hi=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield ji(e);for(const r of t)try{if($i(r))return}catch(n){}m(e,"unauthorized-domain")})).apply(this,arguments)}function $i(e){const t=T(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gi.test(n))return!1;if(zi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zi=new A(3e4,6e4);function Ki(){const e=gr().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Yi=null;function Wi(e){return Yi=Yi||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Ki(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ki(),n(g(e,"network-request-failed"))},timeout:Zi.get()})}if(null===(i=null===(r=gr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=gr().gapi)||void 0===s?void 0:s.load)){const t=Dr("iframefcb");return gr()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Pr(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Yi=null,e})}(e),Yi}const Qi=new A(5e3,15e3),Ji={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function es(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},o=Xi.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}function ts(){return(ts=(0,r.Z)(function*(e){const t=yield Wi(e),n=gr().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:es(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ji,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=gr().setTimeout(()=>{r(i)},Qi.get());function o(){gr().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ns={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rs{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function is(e,t,n,r,o,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(t instanceof yt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof vt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${function({config:e}){return e.emulator?R(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(c).slice(1)}`}const ss="webStorageSupport",os=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dr,this._completeRedirectFn=Ni,this._overrideRedirectResult=Si}_openPopup(e,t,n,s){var o=this;return(0,r.Z)(function*(){var r;C(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=is(e,t,n,T(),s);return function(e,t,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ns),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=Ce(u)?"_blank":n),be(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return xe(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new rs(null);const d=window.open(t||"",l,h);b(d,e,"popup-blocked");try{d.focus()}catch(p){}return new rs(d)}(e,a,fr())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=is(e,t,n,T(),i),gr().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(C(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ts.apply(this,arguments)}(e),r=new Vi(e);return n.register("authEvent",t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ss,{type:ss},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),m(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hi.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ae()||we()||xe()}};class as extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new as(e)}_finalizeEnroll(e,t,n){return function(e,t){return L(e,"POST","/v2/accounts/mfaEnrollment:finalize",N(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return L(e,"POST","/v2/accounts/mfaSignIn:finalize",N(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ls=(()=>{class e{constructor(){}static assertion(e){return as._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var cs="@firebase/auth",us="0.20.8";class hs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ds=(0,i.Pz)("authIdTokenMaxAge")||300;let ps=null;const fs=e=>function(){var t=(0,r.Z)(function*(t){const n=t&&(yield t.getIdTokenResult()),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ds)return;const i=null==n?void 0:n.token;ps!==i&&(ps=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function ms(e=(0,s.getApp)()){const t=(0,s._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=I(e,{popupRedirectResolver:os,persistence:[Ar,hr,dr]}),r=(0,i.Pz)("authTokenSyncURL");if(r){const e=fs(r);Yn(n,e,()=>e(n.currentUser)),Kn(n,t=>e(t))}const o=(0,i.q4)("auth");return o&&Le(n,`http://${o}`),n}var gs;gs="Browser",(0,s._registerComponent)(new l.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=n.options;return((e,n)=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:s,clientPlatform:gs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(gs)},o=new Pe(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new l.wA("auth-internal",e=>{return t=De(e.getProvider("auth").getImmediate()),new hs(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(cs,us,void 0),(0,s.registerVersion)(cs,us,"esm2017")},1947:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l});var r=n(6304),i=n(5725);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},5930:(e,t,n)=>{"use strict";n.d(t,{u7:()=>Xf,Jj:()=>Jp,IX:()=>Lp,my:()=>np,xU:()=>rm,Lz:()=>Xp,WA:()=>Sr,F8:()=>nf,$q:()=>im,W:()=>sm,EK:()=>Vr,PU:()=>Em,l7:()=>Mi,Ky:()=>Gr,Xb:()=>zr,Cf:()=>Wd,K9:()=>br,Me:()=>xi,yq:()=>gr,Wi:()=>$d,ET:()=>ym,Ab:()=>Om,vr:()=>Rm,Fc:()=>Gp,hJ:()=>sp,B$:()=>op,at:()=>tp,oe:()=>_m,AK:()=>km,TF:()=>Zp,JU:()=>ap,Jm:()=>ef,ST:()=>jp,fH:()=>qp,Ix:()=>$p,Wu:()=>Kf,Lx:()=>Zf,qY:()=>Up,GL:()=>wm,QT:()=>lm,kl:()=>um,Xk:()=>hm,PL:()=>dm,UQ:()=>pm,zN:()=>fm,ad:()=>Vp,nP:()=>Pm,LV:()=>Mp,b9:()=>jf,vh:()=>qf,Pb:()=>Yp,L$:()=>Wp,cf:()=>vm,sc:()=>bm,Xo:()=>Uf,IO:()=>Lf,iE:()=>cp,Eo:()=>lp,i3:()=>xm,Bt:()=>Am,pl:()=>mm,Ub:()=>pr,qK:()=>am,TQ:()=>Hf,e0:()=>Gf,RA:()=>Kp,r7:()=>gm,Mx:()=>Hp,ar:()=>Mf,qs:()=>Dm});var r,i=n(6304),s=n(7964),o=n(1947),a=n(8678),l=n(5725),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u={},h=h||{},d=c||self;function p(){}function f(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),_=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function S(){this.s=this.s,this.o=this.o}var E={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++_)}(this);delete E[e]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function T(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function x(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(f(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function k(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{d.addEventListener("test",p,t),d.removeEventListener("test",p,t)}catch(n){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}var O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return e<t?-1:e>t?1:0}function D(){var e=d.navigator;return e&&(e=e.userAgent)?e:""}function N(e){return-1!=D().indexOf(e)}function L(e){return L[" "](e),e}L[" "]=p;var F,M,V=N("Opera"),U=N("Trident")||N("MSIE"),B=N("Edge"),j=B||U,q=N("Gecko")&&!(-1!=D().toLowerCase().indexOf("webkit")&&!N("Edge"))&&!(N("Trident")||N("MSIE"))&&!N("Edge"),z=-1!=D().toLowerCase().indexOf("webkit")&&!N("Edge");function G(){var e=d.document;return e?e.documentMode:void 0}e:{var H="",$=(M=D(),q?/rv:([^\);]+)(\)|;)/.exec(M):B?/Edge\/([\d\.]+)/.exec(M):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(M):z?/WebKit\/(\S+)/.exec(M):V?/(?:Version)[ \/]?(\S+)/.exec(M):void 0);if($&&(H=$?$[1]:""),U){var Z=G();if(null!=Z&&Z>parseFloat(H)){F=String(Z);break e}}F=H}var K={};var Y=d.document&&U&&(G()||parseInt(F,10))||void 0;function W(e,t){if(k.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(q){e:{try{L(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&W.X.h.call(this)}}C(W,k);var Q={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),X=0;function ee(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++X,this.ba=this.ea=!1}function te(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function ne(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function re(e){const t={};for(const n in e)t[n]=e[n];return t}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ie.length;t++)n=ie[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oe(e){this.src=e,this.g={},this.h=0}function ae(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=I(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(te(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function le(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ba&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}oe.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=le(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new ee(t,this.src,s,!!r,i)).ea=n,e.push(t)),t};var ce="closure_lm_"+(1e6*Math.random()|0),ue={};function he(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)he(e,t[s],n,r,i);return null}return n=be(n),e&&e[J]?e.N(t,n,m(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=m(i)?!!i.capture:!!i,a=ye(e);if(a||(e[ce]=a=new oe(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){const e=_e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)A||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ge(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pe(e,t[s],n,r,i);return null}return n=be(n),e&&e[J]?e.O(t,n,m(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function fe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fe(e,t[s],n,r,i);else r=m(r)?!!r.capture:!!r,n=be(n),e&&e[J]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=le(s=e.g[t],n,r,i))&&(te(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=ye(e))&&(t=e.g[t.toString()],e=-1,t&&(e=le(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!=typeof e&&e&&!e.ba){var t=e.src;if(t&&t[J])ae(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ge(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ye(t))?(ae(n,e),0==n.h&&(n.src=null,t[ce]=null)):te(e)}}}function ge(e){return e in ue?ue[e]:ue[e]="on"+e}function _e(e,t){if(e.ba)e=!0;else{t=new W(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&me(e),e=n.call(r,t)}return e}function ye(e){return(e=e[ce])instanceof oe?e:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(e){return"function"==typeof e?e:(e[ve]||(e[ve]=function(t){return e.handleEvent(t)}),e[ve])}function we(){S.call(this),this.i=new oe(this),this.P=this,this.I=null}function Ce(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new k(t,e);else if(t instanceof k)t.target=t.target||e;else{var i=t;se(t=new k(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Se(o,r,!0,t)&&i}if(i=Se(o=t.g=e,r,!0,t)&&i,i=Se(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Se(o=t.g=n[s],r,!1,t)&&i}function Se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ae(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}C(we,S),we.prototype[J]=!0,we.prototype.removeEventListener=function(e,t,n,r){fe(this,e,t,n,r)},we.prototype.M=function(){if(we.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)te(n[r]);delete t.g[e],t.h--}}this.I=null},we.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},we.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ee=d.JSON.stringify;function Ie(){var e=Pe;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Te,xe=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ke,e=>e.reset());class ke{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ae(e){d.setTimeout(()=>{throw e},0)}function Re(e,t){Te||function(){var e=d.Promise.resolve(void 0);Te=function(){e.then(De)}}(),Oe||(Te(),Oe=!0),Pe.add(e,t)}var Oe=!1,Pe=new class{constructor(){this.h=this.g=null}add(e,t){const n=xe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function De(){for(var e;e=Ie();){try{e.h.call(e.g)}catch(n){Ae(n)}var t=xe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oe=!1}function Ne(e,t){we.call(this),this.h=e||1,this.g=t||d,this.j=b(this.kb,this),this.l=Date.now()}function Le(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Fe(e,t,n){if("function"==typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:d.setTimeout(e,t||0)}function Me(e){e.g=Fe(()=>{e.g=null,e.i&&(e.i=!1,Me(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}C(Ne,we),(r=Ne.prototype).ca=!1,r.R=null,r.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ce(this,"tick"),this.ca&&(Le(this),this.start()))}},r.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ne.X.M.call(this),Le(this),delete this.g};class Ve extends S{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Me(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(e){S.call(this),this.h=e,this.g={}}C(Ue,S);var Be=[];function je(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var s=he(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function qe(e){ne(e.g,function(e,t){this.g.hasOwnProperty(t)&&me(e)},e),e.g={}}function ze(){this.g=!0}function Ge(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ee(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Ue.prototype.M=function(){Ue.X.M.call(this),qe(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ze.prototype.Aa=function(){this.g=!1},ze.prototype.info=function(){};var He={},$e=null;function Ze(){return $e=$e||new we}function Ke(e){k.call(this,He.Oa,e)}function Ye(e){const t=Ze();Ce(t,new Ke(t,e))}function We(e,t){k.call(this,He.STAT_EVENT,e),this.stat=t}function Qe(e){const t=Ze();Ce(t,new We(t,e))}function Je(e,t){k.call(this,He.Pa,e),this.size=t}function Xe(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){e()},t)}He.Oa="serverreachability",C(Ke,k),He.STAT_EVENT="statevent",C(We,k),He.Pa="timingevent",C(Je,k);var et={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},tt={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nt(){}function rt(){}nt.prototype.h=null;var it,st={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function ot(){k.call(this,"d")}function at(){k.call(this,"c")}function lt(){}function ct(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ue(this),this.O=ht,this.T=new Ne(e=j?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}C(ot,k),C(at,k),C(lt,nt),lt.prototype.g=function(){return new XMLHttpRequest},lt.prototype.i=function(){return{}},it=new lt;var ht=45e3,dt={},pt={};function ft(e,t,n){e.K=1,e.v=Dt(kt(t)),e.s=n,e.P=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),vt(e),e.A=kt(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$t(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ut,e.g=$n(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Ve(b(e.Ka,e,e.g),e.N)),je(e.S,e.g,"readystatechange",e.hb),t=e.H?re(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Ye(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.U,e.s)}function gt(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Da}function _t(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=yt(e,n),r==pt){4==t&&(e.o=4,Qe(14),i=!1),Ge(e.j,e.m,null,"[Incomplete Response]");break}if(r==dt){e.o=4,Qe(15),Ge(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ge(e.j,e.m,r,null),Et(e,r)}gt(e)&&r!=pt&&r!=dt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qe(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(t),t.K=!0,Qe(11))):(Ge(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),Ct(e))}function yt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pt:(n=Number(t.substring(n,r)),isNaN(n)?dt:(r+=1)+n>t.length?pt:(t=t.substr(r,n),e.C=r+n,t))}function vt(e){e.V=Date.now()+e.O,bt(e,e.O)}function bt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xe(b(e.fb,e),t)}function wt(e){e.B&&(d.clearTimeout(e.B),e.B=null)}function Ct(e){0==e.l.G||e.I||jn(e.l,e)}function St(e){wt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Le(e.T),qe(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Et(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Jt(n.h,e)))if(!e.J&&Jt(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bn(n),Rn(n)}Mn(n),Qe(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Xe(b(n.bb,n),6e3));if(1>=Qt(n.h)&&n.ja){try{n.ja()}catch(c){}n.ja=void 0}}else zn(n,11)}else if((e.J||n.g==e)&&Bn(n),!R(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const t=c[3];null!=t&&(n.ma=t,n.j.info("VER="+n.ma));const i=c[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.J=r=1.5*u,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Xt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.za=e,Pt(r.F,r.D,e))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=e;if((r=n).sa=Hn(r,r.H?r.ka:null,r.V),o.J){en(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(wt(a),vt(a)),r.g=o}else Fn(r);0<n.i.length&&Pn(n)}else"stop"!=c[0]&&"close"!=c[0]||zn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zn(n,7):An(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Ye(4)}catch(c){}}function It(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(r=ct.prototype).setTimeout=function(e){this.O=e},r.hb=function(e){e=e.target;const t=this.L;t&&3==Sn(e)?t.l():this.Ka(e)},r.Ka=function(e){try{if(e==this.g)e:{const u=Sn(this.g);var t=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(3!=u||j||this.g&&(this.h.h||this.g.fa()||En(this.g)))){this.I||4!=u||7==t||Ye(8==t||0>=h?3:2),wt(this);var n=this.g.aa();this.Y=n;t:if(gt(this)){var r=En(this.g);e="";var i=r.length,s=4==Sn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){St(this),Ct(this);var o="";break t}this.h.i=new d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Qe(12),St(this),Ct(this);break e}Ge(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Et(this,n)}this.P?(_t(this,u,o),j&&this.i&&3==u&&(je(this.S,this.T,"tick",this.gb),this.T.start())):(Ge(this.j,this.m,o,null),Et(this,o)),4==u&&St(this),this.i&&!this.I&&(4==u?jn(this.l,this):(this.i=!1,vt(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Qe(12)):(this.o=0,Qe(13)),St(this),Ct(this)}}}catch(u){}},r.gb=function(){if(this.g){var e=Sn(this.g),t=this.g.fa();this.C<t.length&&(wt(this),_t(this,e,t),this.i&&4!=e&&vt(this))}},r.cancel=function(){this.I=!0,St(this)},r.fb=function(){this.B=null;const e=Date.now();0<=e-this.V?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Ye(3),Qe(17)),St(this),this.o=2,Ct(this)):bt(this,this.V-e)};var Tt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xt(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xt){this.h=void 0!==t?t:e.h,At(this,e.j),this.s=e.s,this.g=e.g,Rt(this,e.m),this.l=e.l,t=e.i;var n=new qt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ot(this,n),this.o=e.o}else e&&(n=String(e).match(Tt))?(this.h=!!t,At(this,n[1]||"",!0),this.s=Nt(n[2]||""),this.g=Nt(n[3]||"",!0),Rt(this,n[4]),this.l=Nt(n[5]||"",!0),Ot(this,n[6]||"",!0),this.o=Nt(n[7]||"")):(this.h=!!t,this.i=new qt(null,this.h))}function kt(e){return new xt(e)}function At(e,t,n){e.j=n?Nt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ot(e,t,n){t instanceof qt?(e.i=t,function(e,t){t&&!e.j&&(zt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Gt(this,t),$t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Lt(t,Bt)),e.i=new qt(t,e.h))}function Pt(e,t,n){e.i.set(t,n)}function Dt(e){return Pt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lt(t,Mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lt(t,Mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lt(n,"/"==n.charAt(0)?Ut:Vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lt(n,jt)),e.join("")};var Mt=/[#\/\?@]/g,Vt=/[#\?:]/g,Ut=/[#\?]/g,Bt=/[#\?@]/g,jt=/#/g;function qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Gt(e,t){zt(e),t=Zt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ht(e,t){return zt(e),t=Zt(e,t),e.g.has(t)}function $t(e,t,n){Gt(e,t),0<n.length&&(e.i=null,e.g.set(Zt(e,t),T(n)),e.h+=n.length)}function Zt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Kt(e){this.l=e||Yt,e=d.PerformanceNavigationTiming?0<(e=d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(d.g&&d.g.Ga&&d.g.Ga()&&d.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=qt.prototype).add=function(e,t){zt(this),this.i=null,e=Zt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){zt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},r.oa=function(){zt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},r.W=function(e){zt(this);let t=[];if("string"==typeof e)Ht(this,e)&&(t=t.concat(this.g.get(Zt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},r.set=function(e,t){return zt(this),this.i=null,Ht(this,e=Zt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Yt=10;function Wt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qt(e){return e.h?1:e.g?e.g.size:0}function Jt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xt(e,t){e.g?e.g.add(t):e.h=t}function en(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return T(e.i)}function nn(){}function rn(){this.g=new nn}function sn(e,t,n){const r=n||"";try{It(e,function(e,n){let i=e;m(e)&&(i=Ee(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function on(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function an(e){this.l=e.$b||null,this.j=e.ib||!1}function ln(e,t){we.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=cn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kt.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},nn.prototype.stringify=function(e){return d.JSON.stringify(e,void 0)},nn.prototype.parse=function(e){return d.JSON.parse(e,void 0)},C(an,nt),an.prototype.g=function(){return new ln(this.l,this.j)},an.prototype.i=function(e){return function(){return e}}({}),C(ln,we);var cn=0;function un(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function hn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,dn(e)}function dn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=ln.prototype).open=function(e,t){if(this.readyState!=cn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,dn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||d).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hn(this)),this.readyState=cn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,dn(this)),this.g&&(this.readyState=3,dn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;un(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hn(this):dn(this),3==this.readyState&&un(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,hn(this))},r.Ta=function(e){this.g&&(this.response=e,hn(this))},r.ga=function(){this.g&&hn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var pn=d.JSON.parse;function fn(e){we.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mn,this.K=this.L=!1}C(fn,we);var mn="",gn=/^https?$/i,_n=["POST","PUT"];function yn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vn(e),wn(e)}function vn(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function bn(e){if(e.h&&void 0!==h&&(!e.C[1]||4!=Sn(e)||2!=e.aa()))if(e.v&&4==Sn(e))Fe(e.Ha,0,e);else if(Ce(e,"readystatechange"),4==Sn(e)){e.h=!1;try{const l=e.aa();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Tt)[1]||null;if(!i&&d.self&&d.self.location){var s=d.self.location.protocol;i=s.substr(0,s.length-1)}r=!gn.test(i?i.toLowerCase():"")}n=r}if(n)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var o=2<Sn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.aa()+"]",vn(e)}}finally{wn(e)}}}function wn(e,t){if(e.g){Cn(e);const r=e.g,i=e.C[0]?p:null;e.g=null,e.C=null,t||Ce(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Cn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(d.clearTimeout(e.A),e.A=null)}function Sn(e){return e.g?e.g.readyState:0}function En(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case mn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(lr){return null}}function In(e){let t="";return ne(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Tn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=In(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Pt(e,t,n))}function xn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kn(e){this.Ca=0,this.i=[],this.j=new ze,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=xn("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=xn("baseRetryDelayMs",5e3,e),this.ab=xn("retryDelaySeedMs",1e4,e),this.Za=xn("forwardChannelMaxRetries",2,e),this.ta=xn("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Kt(e&&e.concurrentRequestLimit),this.Fa=new rn,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function An(e){if(On(e),3==e.G){var t=e.U++,n=kt(e.F);Pt(n,"SID",e.I),Pt(n,"RID",t),Pt(n,"TYPE","terminate"),Nn(e,n),(t=new ct(e,e.j,t,void 0)).K=2,t.v=Dt(kt(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(t.v.toString(),"")),!n&&d.Image&&((new Image).src=t.v,n=!0),n||(t.g=$n(t.l,null),t.g.da(t.v)),t.F=Date.now(),vt(t)}Gn(e)}function Rn(e){e.g&&(Vn(e),e.g.cancel(),e.g=null)}function On(e){Rn(e),e.u&&(d.clearTimeout(e.u),e.u=null),Bn(e),e.h.cancel(),e.m&&("number"==typeof e.m&&d.clearTimeout(e.m),e.m=null)}function Pn(e){Wt(e.h)||e.m||(e.m=!0,Re(e.Ja,e),e.C=0)}function Dn(e,t){var n;n=t?t.m:e.U++;const r=kt(e.F);Pt(r,"SID",e.I),Pt(r,"RID",n),Pt(r,"AID",e.T),Nn(e,r),e.o&&e.s&&Tn(r,e.o,e.s),n=new ct(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Ln(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Xt(e.h,n),ft(n,r,t)}function Nn(e,t){e.ia&&ne(e.ia,function(e,n){Pt(t,n,e)}),e.l&&It({},function(e,n){Pt(t,n,e)})}function Ln(e,t,n){n=Math.min(e.i.length,n);var r=e.l?b(e.l.Qa,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{sn(a,e,"req"+n+"_")}catch(br){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Fn(e){e.g||e.u||(e.Z=1,Re(e.Ia,e),e.A=0)}function Mn(e){return!(e.g||e.u||3<=e.A||(e.Z++,e.u=Xe(b(e.Ia,e),qn(e,e.A)),e.A++,0))}function Vn(e){null!=e.B&&(d.clearTimeout(e.B),e.B=null)}function Un(e){e.g=new ct(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=kt(e.sa);Pt(t,"RID","rpc"),Pt(t,"SID",e.I),Pt(t,"CI",e.L?"0":"1"),Pt(t,"AID",e.T),Pt(t,"TYPE","xmlhttp"),Nn(e,t),e.o&&e.s&&Tn(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Dt(kt(t)),n.s=null,n.P=!0,mt(n,e)}function Bn(e){null!=e.v&&(d.clearTimeout(e.v),e.v=null)}function jn(e,t){var n=null;if(e.g==t){Bn(e),Vn(e),e.g=null;var r=2}else{if(!Jt(e.h,t))return;n=t.D,en(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ce(r=Ze(),new Je(r,n,t,i)),Pn(e)}else Fn(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Qt(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za)||(e.m=Xe(b(e.Ja,e,t),qn(e,e.C)),e.C++,0)))}(e,t)||2==r&&Mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}function qn(e,t){let n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function zn(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=b(e.jb,e);n||(n=new xt("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||At(n,"https"),Dt(n)),function(e,t){const n=new ze;if(d.Image){const r=new Image;r.onload=w(on,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(on,n,r,"TestLoadImage: error",!1,t),r.onabort=w(on,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(on,n,r,"TestLoadImage: timeout",!1,t),d.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qe(2);e.G=0,e.l&&e.l.va(t),Gn(e),On(e)}function Gn(e){if(e.G=0,e.la=[],e.l){const t=tn(e.h);0==t.length&&0==e.i.length||(x(e.la,t),x(e.la,e.i),e.h.i.length=0,T(e.i),e.i.length=0),e.l.ua()}}function Hn(e,t,n){var r=n instanceof xt?kt(n):new xt(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Rt(r,r.m);else{var i=d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new xt(null,void 0);r&&At(s,r),t&&(s.g=t),i&&Rt(s,i),n&&(s.l=n),r=s}return t=e.za,(n=e.D)&&t&&Pt(r,n,t),Pt(r,"VER",e.ma),Nn(e,r),r}function $n(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fn(n&&e.Da&&!e.ra?new an({ib:!0}):e.ra)).L=e.H,t}function Zn(){}function Kn(){if(U&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Yn(e,t){we.call(this),this.g=new kn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Jn(this)}function Wn(e){ot.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qn(){at.call(this),this.status=1}function Jn(e){this.g=e}(r=fn.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():it.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:it),this.g.onreadystatechange=b(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void yn(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=d.FormData&&e instanceof d.FormData,!(0<=I(_n,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cn(this),0<this.B&&((this.K=function(e){return U&&function(e){var t=K;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=O(String(F)).split("."),n=O("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=P(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||P(0==i[2].length,0==s[2].length)||P(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}()}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.qa,this)):this.A=Fe(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){yn(this,s)}},r.qa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),wn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wn(this,!0)),fn.X.M.call(this)},r.Ha=function(){this.s||(this.F||this.v||this.l?bn(this):this.eb())},r.eb=function(){bn(this)},r.aa=function(){try{return 2<Sn(this)?this.g.status:-1}catch(M){return-1}},r.fa=function(){try{return this.g?this.g.responseText:""}catch(M){return""}},r.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pn(t)}},r.Ea=function(){return this.m},r.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=kn.prototype).ma=8,r.G=1,r.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new ct(this,this.j,e,void 0);let s=this.s;if(this.S&&(s?(s=re(s),se(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ln(this,i,t),Pt(n=kt(this.F),"RID",e),Pt(n,"CVER",22),this.D&&Pt(n,"X-HTTP-Session-Id",this.D),Nn(this,n),s&&(this.N?t="headers="+encodeURIComponent(String(In(s)))+"&"+t:this.o&&Tn(n,this.o,s)),Xt(this.h,i),this.Xa&&Pt(n,"TYPE","init"),this.O?(Pt(n,"$req",t),Pt(n,"SID","null"),i.Z=!0,ft(i,n,null)):ft(i,n,t),this.G=2}}else 3==this.G&&(e?Dn(this,e):0==this.i.length||Wt(this.h)||Dn(this))},r.Ia=function(){if(this.u=null,Un(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Xe(b(this.cb,this),e)}},r.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qe(10),Rn(this),Un(this))},r.bb=function(){null!=this.v&&(this.v=null,Rn(this),Mn(this),Qe(19))},r.jb=function(e){e?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))},(r=Zn.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Qa=function(){},Kn.prototype.g=function(e,t){return new Yn(e,t)},C(Yn,we),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Qe(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Hn(e,null,e.V),Pn(e)},Yn.prototype.close=function(){An(this.g)},Yn.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ee(e),e=n);t.i.push(new class{constructor(e,t){this.h=e,this.g=t}}(t.$a++,e)),3==t.G&&Pn(t)},Yn.prototype.M=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Yn.X.M.call(this)},C(Wn,ot),C(Qn,at),C(Jn,Zn),Jn.prototype.xa=function(){Ce(this.g,"a")},Jn.prototype.wa=function(e){Ce(this.g,new Wn(e))},Jn.prototype.va=function(e){Ce(this.g,new Qn(e))},Jn.prototype.ua=function(){Ce(this.g,"b")},Kn.prototype.createWebChannel=Kn.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,tt.COMPLETE="complete",rt.EventType=st,st.OPEN="a",st.CLOSE="b",st.ERROR="c",st.MESSAGE="d",we.prototype.listen=we.prototype.N,fn.prototype.listenOnce=fn.prototype.O,fn.prototype.getLastError=fn.prototype.Na,fn.prototype.getLastErrorCode=fn.prototype.Ea,fn.prototype.getStatus=fn.prototype.aa,fn.prototype.getResponseJson=fn.prototype.Ra,fn.prototype.getResponseText=fn.prototype.fa,fn.prototype.send=fn.prototype.da;var Xn=u.createWebChannelTransport=function(){return new Kn},er=u.getStatEventTarget=function(){return Ze()},tr=u.ErrorCode=et,nr=u.EventType=tt,rr=u.Event=He,ir=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sr=u.FetchXmlHttpFactory=an,or=u.WebChannel=rt,ar=u.XhrIo=fn;const lr="@firebase/firestore";class cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");let ur="9.11.0";const hr=new a.Yd("@firebase/firestore");function dr(){return hr.logLevel}function pr(e){hr.setLogLevel(e)}function fr(e,...t){if(hr.logLevel<=a.in.DEBUG){const n=t.map(_r);hr.debug(`Firestore (${ur}): ${e}`,...n)}}function mr(e,...t){if(hr.logLevel<=a.in.ERROR){const n=t.map(_r);hr.error(`Firestore (${ur}): ${e}`,...n)}}function gr(e,...t){if(hr.logLevel<=a.in.WARN){const n=t.map(_r);hr.warn(`Firestore (${ur}): ${e}`,...n)}}function _r(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function yr(e="Unexpected state"){const t=`FIRESTORE (${ur}) INTERNAL ASSERTION FAILED: `+e;throw mr(t),new Error(t)}function vr(e,t){e||yr()}function br(e,t){e||yr()}function wr(e,t){return e}const Cr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Sr extends l.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ir{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cr.UNAUTHENTICATED))}shutdown(){}}class xr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kr{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const s=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const t=o;e.enqueueRetryable((0,i.Z)(function*(){yield t.promise,yield s(n.currentUser)}))},l=e=>{fr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(e=>l(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?l(e):(fr("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(fr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(vr("string"==typeof t.accessToken),new Ir(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vr(null===e||"string"==typeof e),new cr(e)}}class Ar{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Rr{constructor(e,t,n,r){this.h=e,this.l=t,this.m=n,this.g=r}getToken(){return Promise.resolve(new Ar(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Or{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const n=e=>{null!=e.error&&fr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.A;return this.A=e.token,fr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{fr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.T.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.T.getImmediate({optional:!0});e?r(e):fr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(vr("string"==typeof e.token),this.A=e.token,new Or(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Dr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Nr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Dr(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Lr(e,t){return e<t?-1:e>t?1:0}function Fr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Mr(e){return e+"\0"}class Vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Sr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Sr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Sr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Sr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vr(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lr(this.nanoseconds,e.nanoseconds):Lr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ur{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ur(e)}static min(){return new Ur(new Vr(0,0))}static max(){return new Ur(new Vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Br{constructor(e,t,n){void 0===t?t=0:t>e.length&&yr(),void 0===n?n=e.length-t:n>e.length-t&&yr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Br.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jr extends Br{construct(e,t,n){return new jr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new jr(t)}static emptyPath(){return new jr([])}}const qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Br{construct(e,t,n){return new zr(e,t,n)}static isValidIdentifier(e){return qr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Sr(Cr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Sr(Cr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Sr(Cr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class Gr{constructor(e){this.path=e}static fromPath(e){return new Gr(jr.fromString(e))}static fromName(e){return new Gr(jr.fromString(e).popFirst(5))}static empty(){return new Gr(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gr(new jr(e.slice()))}}class Hr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function $r(e){return e.fields.find(e=>2===e.kind)}function Zr(e){return e.fields.filter(e=>2!==e.kind)}Hr.UNKNOWN_ID=-1;class Kr{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yr(0,Jr.min())}}function Wr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ur.fromTimestamp(1e9===r?new Vr(n+1,0):new Vr(n,r));return new Jr(i,Gr.empty(),t)}function Qr(e){return new Jr(e.readTime,e.key,-1)}class Jr{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Jr(Ur.min(),Gr.empty(),-1)}static max(){return new Jr(Ur.max(),Gr.empty(),-1)}}function Xr(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Gr.comparator(e.documentKey,t.documentKey),0!==n?n:Lr(e.largestBatchId,t.largestBatchId))}const ei="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ti{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ni(e){return ri.apply(this,arguments)}function ri(){return(ri=(0,i.Z)(function*(e){if(e.code!==Cr.FAILED_PRECONDITION||e.message!==ei)throw e;fr("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ii{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ii((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ii?t:ii.resolve(t)}catch(e){return ii.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ii.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ii.reject(t)}static resolve(e){return new ii((t,n)=>{t(e)})}static reject(e){return new ii((t,n)=>{n(e)})}static waitFor(e){return new ii((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ii.resolve(!1);for(const n of e)t=t.next(e=>e?ii.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ii((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ii((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}class si{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Er,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new li(e,t.error)):this.P.resolve()},this.transaction.onerror=t=>{const n=pi(t.target.error);this.P.reject(new li(e,n))}}static open(e,t,n,r){try{return new si(t,e.transaction(r,n))}catch(e){throw new li(t,e)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(fr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ui(t)}}class oi{constructor(e,t,n){this.name=e,this.version=t,this.S=n,12.2===oi.D((0,l.z$)())&&mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return fr("SimpleDb","Removing database:",e),hi(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,l.hl)())return!1;if(oi.N())return!0;const e=(0,l.z$)(),t=oi.D(e),n=0<t&&t<10,r=oi.k(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}F(e){var t=this;return(0,i.Z)(function*(){return t.db||(fr("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new li(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Sr(Cr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Sr(Cr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new li(e,n))},i.onupgradeneeded=e=>{fr("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.S.$(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{fr("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=e=>t.B(e)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var s=this;return(0,i.Z)(function*(){const i="readonly"===t;let o=0;for(;;){++o;try{s.db=yield s.F(e);const t=si.open(s.db,e,i?"readonly":"readwrite",n),o=r(t).next(e=>(t.V(),e)).catch(e=>(t.abort(e),ii.reject(e))).toPromise();return o.catch(()=>{}),yield t.v,o}catch(e){const n=e,r="FirebaseError"!==n.name&&o<3;if(fr("SimpleDb","Transaction failed with error:",n.message,"Retrying:",r),s.close(),!r)return Promise.reject(n)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ai{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return hi(this.U.delete())}}class li extends Sr{constructor(e,t){super(Cr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ci(e){return"IndexedDbTransactionError"===e.name}class ui{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(fr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hi(n)}add(e){return fr("SimpleDb","ADD",this.store.name,e,e),hi(this.store.add(e))}get(e){return hi(this.store.get(e)).next(t=>(void 0===t&&(t=null),fr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return fr("SimpleDb","DELETE",this.store.name,e),hi(this.store.delete(e))}count(){return fr("SimpleDb","COUNT",this.store.name),hi(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new ii((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}J(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ii((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Y(e,t){fr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const r=this.cursor(n);return this.H(r,(e,t,n)=>n.delete())}Z(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.H(r,t)}tt(e){const t=this.cursor({});return new ii((n,r)=>{t.onerror=e=>{const t=pi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}H(e,t){const n=[];return new ii((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ai(i),o=t(i.primaryKey,i.value,s);if(o instanceof ii){const e=o.catch(e=>(s.done(),ii.reject(e)));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}}).next(()=>ii.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function hi(e){return new ii((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=pi(e.target.error);n(t)}})}let di=!1;function pi(e){const t=oi.D((0,l.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Sr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return di||(di=!0,setTimeout(()=>{throw e},0)),e}}return e}class fi{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;fr("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,i.Z)(function*(){t.task=null;try{fr("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(e){ci(e)?fr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):yield ni(e)}yield t.nt(6e4)}))}}class mi{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,i.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>t.it(n,e))})()}it(e,t){const n=new Set;let r=t,i=!0;return ii.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return fr("IndexBackiller",`Processing collection: ${t}`),this.rt(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}rt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.ot(r,n)).next(n=>(fr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}ot(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Qr(t);Xr(r,n)>0&&(n=r)}),new Jr(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class gi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ut(e),this.ct=e=>t.writeSequenceNumber(e))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function _i(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}gi.at=-1;class bi{constructor(e,t){this.comparator=e,this.root=t||Ci.EMPTY}insert(e,t){return new bi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ci.BLACK,null,null))}remove(e){return new bi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wi(this.root,e,this.comparator,!0)}}class wi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ci{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ci.RED,this.left=null!=r?r:Ci.EMPTY,this.right=null!=i?i:Ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ci(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ci.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yr();if(this.right.isRed())throw yr();const e=this.left.check();if(e!==this.right.check())throw yr();return e+(this.isRed()?0:1)}}Ci.EMPTY=null,Ci.RED=!0,Ci.BLACK=!1,Ci.EMPTY=new class{constructor(){this.size=0}get key(){throw yr()}get value(){throw yr()}get color(){throw yr()}get left(){throw yr()}get right(){throw yr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Si{constructor(e){this.comparator=e,this.data=new bi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ei(this.data.getIterator())}getIteratorFrom(e){return new Ei(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Si))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Si(this.comparator);return t.data=e,t}}class Ei{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ii(e){return e.hasNext()?e.getNext():void 0}class Ti{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new Ti([])}unionWith(e){let t=new Si(zr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}function xi(){return"undefined"!=typeof atob}let ki=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Ai=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(e){if(vr(!!e),"string"==typeof e){let t=0;const n=Ai.exec(e);if(vr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Oi(e.seconds),nanos:Oi(e.nanos)}}function Oi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pi(e){return"string"==typeof e?ki.fromBase64String(e):ki.fromUint8Array(e)}function Di(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ni(e){const t=e.mapValue.fields.__previous_value__;return Di(t)?Ni(t):t}function Li(e){const t=Ri(e.mapValue.fields.__local_write_time__.timestampValue);return new Vr(t.seconds,t.nanos)}class Fi{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Mi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mi&&e.projectId===this.projectId&&e.database===this.database}}function Vi(e){return null==e}function Ui(e){return 0===e&&1/e==-1/0}function Bi(e){return"number"==typeof e&&Number.isInteger(e)&&!Ui(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ji={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qi={nullValue:"NULL_VALUE"};function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Di(e)?4:rs(e)?9007199254740991:10:yr()}function Gi(e,t){if(e===t)return!0;const n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Li(e).isEqual(Li(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ri(e.timestampValue),r=Ri(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pi(e.bytesValue).isEqual(Pi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Oi(e.geoPointValue.latitude)===Oi(t.geoPointValue.latitude)&&Oi(e.geoPointValue.longitude)===Oi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Oi(e.integerValue)===Oi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Oi(e.doubleValue),r=Oi(t.doubleValue);return n===r?Ui(n)===Ui(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fr(e.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_i(n)!==_i(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gi(n[i],r[i])))return!1;return!0}(e,t);default:return yr()}}function Hi(e,t){return void 0!==(e.values||[]).find(e=>Gi(e,t))}function $i(e,t){if(e===t)return 0;const n=zi(e),r=zi(t);if(n!==r)return Lr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Oi(e.integerValue||e.doubleValue),r=Oi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zi(e.timestampValue,t.timestampValue);case 4:return Zi(Li(e),Li(t));case 5:return Lr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pi(e),r=Pi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Lr(n[i],r[i]);if(0!==e)return e}return Lr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lr(Oi(e.latitude),Oi(t.latitude));return 0!==n?n:Lr(Oi(e.longitude),Oi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$i(n[i],r[i]);if(e)return e}return Lr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ji.mapValue&&t===ji.mapValue)return 0;if(e===ji.mapValue)return 1;if(t===ji.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Lr(r[o],s[o]);if(0!==e)return e;const t=$i(n[r[o]],i[s[o]]);if(0!==t)return t}return Lr(r.length,s.length)}(e.mapValue,t.mapValue);default:throw yr()}}function Zi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lr(e,t);const n=Ri(e),r=Ri(t),i=Lr(n.seconds,r.seconds);return 0!==i?i:Lr(n.nanos,r.nanos)}function Ki(e){return Yi(e)}function Yi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ri(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pi(e.bytesValue).toBase64():"referenceValue"in e?Gr.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Yi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Yi(e.fields[i])}`;return n+"}"}(e.mapValue):yr();var t}function Wi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qi(e){return!!e&&"integerValue"in e}function Ji(e){return!!e&&"arrayValue"in e}function Xi(e){return!!e&&"nullValue"in e}function es(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ts(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ns(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function is(e){return"nullValue"in e?qi:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Wi(Mi.empty(),Gr.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:yr()}function ss(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Wi(Mi.empty(),Gr.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ji:yr()}function os(e,t){const n=$i(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function as(e,t){const n=$i(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ts(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(t)}setAll(e){let t=zr.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ns(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ts(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ts(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ls(ns(this.value))}}function cs(e){const t=[];return yi(e.fields,(e,n)=>{const r=new zr([e]);if(ts(n)){const e=cs(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Ti(t)}class us{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new us(e,0,Ur.min(),Ur.min(),ls.empty(),0)}static newFoundDocument(e,t,n){return new us(e,1,t,Ur.min(),n,0)}static newNoDocument(e,t){return new us(e,2,t,Ur.min(),ls.empty(),0)}static newUnknownDocument(e,t){return new us(e,3,t,Ur.min(),ls.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ur.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hs{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ht=null}}function ds(e,t=null,n=[],r=[],i=null,s=null,o=null){return new hs(e,t,n,r,i,s,o)}function ps(e){const t=wr(e);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+Ki(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Vi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ki(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ki(e)).join(",")),t.ht=e}return t.ht}function fs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Rs(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Gi(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ps(e.startAt,t.startAt)&&Ps(e.endAt,t.endAt)}function ms(e){return Gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gs(e,t){return e.filters.filter(e=>e instanceof vs&&e.field.isEqual(t))}function _s(e,t,n){let r=qi,i=!0;for(const s of gs(e,t)){let e=qi,t=!0;switch(s.op){case"<":case"<=":e=is(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=qi}os({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];os({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function ys(e,t,n){let r=ji,i=!0;for(const s of gs(e,t)){let e=ji,t=!0;switch(s.op){case">=":case">":e=ss(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=ji}as({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];as({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class vs extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,n):new bs(e,t,n):"array-contains"===t?new Es(e,n):"in"===t?new Is(e,n):"not-in"===t?new Ts(e,n):"array-contains-any"===t?new xs(e,n):new vs(e,t,n)}static lt(e,t,n){return"in"===t?new ws(e,n):new Cs(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft($i(t,this.value)):null!==t&&zi(this.value)===zi(t)&&this.ft($i(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yr()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bs extends vs{constructor(e,t,n){super(e,t,n),this.key=Gr.fromName(n.referenceValue)}matches(e){const t=Gr.comparator(e.key,this.key);return this.ft(t)}}class ws extends vs{constructor(e,t){super(e,"in",t),this.keys=Ss(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cs extends vs{constructor(e,t){super(e,"not-in",t),this.keys=Ss(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ss(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Gr.fromName(e.referenceValue))}class Es extends vs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ji(t)&&Hi(t.arrayValue,this.value)}}class Is extends vs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hi(this.value.arrayValue,t)}}class Ts extends vs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hi(this.value.arrayValue,t)}}class xs extends vs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ji(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Hi(this.value.arrayValue,e))}}class ks{constructor(e,t){this.position=e,this.inclusive=t}}class As{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rs(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Os(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Gr.comparator(Gr.fromName(o.referenceValue),n.key):$i(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ps(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gi(e.position[n],t.position[n]))return!1;return!0}class Ds{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this._t=null,this.wt=null}}function Ns(e,t,n,r,i,s,o,a){return new Ds(e,t,n,r,i,s,o,a)}function Ls(e){return new Ds(e)}function Fs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ms(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vs(e){for(const t of e.filters)if(t.dt())return t.field;return null}function Us(e){return null!==e.collectionGroup}function Bs(e){const t=wr(e);if(null===t._t){t._t=[];const e=Vs(t),n=Ms(t);if(null!==e&&null===n)e.isKeyField()||t._t.push(new As(e)),t._t.push(new As(zr.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t._t.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new As(zr.keyField(),e))}}}return t._t}function js(e){const t=wr(e);if(!t.wt)if("F"===t.limitType)t.wt=ds(t.path,t.collectionGroup,Bs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Bs(t))e.push(new As(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ks(t.startAt.position,t.startAt.inclusive):null;t.wt=ds(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.wt}function qs(e,t,n){return new Ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zs(e,t){return fs(js(e),js(t))&&e.limitType===t.limitType}function Gs(e){return`${ps(js(e))}|lt:${e.limitType}`}function Hs(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Ki(t.value)}`;var t}).join(", ")}]`),Vi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ki(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ki(e)).join(",")),`Target(${t})`}(js(e))}; limitType=${e.limitType})`}function $s(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Os(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bs(e),t)||e.endAt&&!function(e,t,n){const r=Os(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bs(e),t))}(e,t)}function Zs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ks(e){return(t,n)=>{let r=!1;for(const i of Bs(e)){const e=Ys(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ys(e,t,n){const r=e.field.isKeyField()?Gr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$i(r,i):yr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yr()}}function Ws(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ui(t)?"-0":t}}function Qs(e){return{integerValue:""+e}}function Js(e,t){return Bi(t)?Qs(t):Ws(e,t)}class Xs{constructor(){this._=void 0}}function eo(e,t,n){return e instanceof ro?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof io?so(e,t):e instanceof oo?ao(e,t):function(e,t){const n=no(e,t),r=co(n)+co(e.yt);return Qi(n)&&Qi(e.yt)?Qs(r):Ws(e.It,r)}(e,t)}function to(e,t,n){return e instanceof io?so(e,t):e instanceof oo?ao(e,t):n}function no(e,t){return e instanceof lo?Qi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ro extends Xs{}class io extends Xs{constructor(e){super(),this.elements=e}}function so(e,t){const n=uo(t);for(const r of e.elements)n.some(e=>Gi(e,r))||n.push(r);return{arrayValue:{values:n}}}class oo extends Xs{constructor(e){super(),this.elements=e}}function ao(e,t){let n=uo(t);for(const r of e.elements)n=n.filter(e=>!Gi(e,r));return{arrayValue:{values:n}}}class lo extends Xs{constructor(e,t){super(),this.It=e,this.yt=t}}function co(e){return Oi(e.integerValue||e.doubleValue)}function uo(e){return Ji(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ho{constructor(e,t){this.field=e,this.transform=t}}class po{constructor(e,t){this.version=e,this.transformResults=t}}class fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fo}static exists(e){return new fo(void 0,e)}static updateTime(e){return new fo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class go{}function _o(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xo(e.key,fo.none()):new Co(e.key,e.data,fo.none());{const n=e.data,r=ls.empty();let i=new Si(zr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new So(e.key,r,new Ti(i.toArray()),fo.none())}}function yo(e,t,n){e instanceof Co?function(e,t,n){const r=e.value.clone(),i=Io(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof So?function(e,t,n){if(!mo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Io(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Eo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vo(e,t,n,r){return e instanceof Co?function(e,t,n,r){if(!mo(e.precondition,t))return n;const i=e.value.clone(),s=To(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof So?function(e,t,n,r){if(!mo(e.precondition,t))return n;const i=To(e.fieldTransforms,r,t),s=t.data;return s.setAll(Eo(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return mo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bo(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=no(r.transform,e||null);null!=i&&(null===n&&(n=ls.empty()),n.set(r.field,i))}return n||null}function wo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof io&&t instanceof io||e instanceof oo&&t instanceof oo?Fr(e.elements,t.elements,Gi):e instanceof lo&&t instanceof lo?Gi(e.yt,t.yt):e instanceof ro&&t instanceof ro}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Co extends go{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class So extends go{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Eo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Io(e,t,n){const r=new Map;vr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,to(o,a,n[i]))}return r}function To(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,eo(e,s,t))}return r}class xo extends go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ko extends go{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ao{constructor(e){this.count=e}}var Ro,Oo;function Po(e){switch(e){default:return yr();case Cr.CANCELLED:case Cr.UNKNOWN:case Cr.DEADLINE_EXCEEDED:case Cr.RESOURCE_EXHAUSTED:case Cr.INTERNAL:case Cr.UNAVAILABLE:case Cr.UNAUTHENTICATED:return!1;case Cr.INVALID_ARGUMENT:case Cr.NOT_FOUND:case Cr.ALREADY_EXISTS:case Cr.PERMISSION_DENIED:case Cr.FAILED_PRECONDITION:case Cr.ABORTED:case Cr.OUT_OF_RANGE:case Cr.UNIMPLEMENTED:case Cr.DATA_LOSS:return!0}}function Do(e){if(void 0===e)return mr("GRPC error has no .code"),Cr.UNKNOWN;switch(e){case Ro.OK:return Cr.OK;case Ro.CANCELLED:return Cr.CANCELLED;case Ro.UNKNOWN:return Cr.UNKNOWN;case Ro.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case Ro.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case Ro.INTERNAL:return Cr.INTERNAL;case Ro.UNAVAILABLE:return Cr.UNAVAILABLE;case Ro.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case Ro.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case Ro.NOT_FOUND:return Cr.NOT_FOUND;case Ro.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case Ro.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case Ro.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case Ro.ABORTED:return Cr.ABORTED;case Ro.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case Ro.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case Ro.DATA_LOSS:return Cr.DATA_LOSS;default:return yr()}}(Oo=Ro||(Ro={}))[Oo.OK=0]="OK",Oo[Oo.CANCELLED=1]="CANCELLED",Oo[Oo.UNKNOWN=2]="UNKNOWN",Oo[Oo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oo[Oo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oo[Oo.NOT_FOUND=5]="NOT_FOUND",Oo[Oo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oo[Oo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oo[Oo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oo[Oo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oo[Oo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oo[Oo.ABORTED=10]="ABORTED",Oo[Oo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oo[Oo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oo[Oo.INTERNAL=13]="INTERNAL",Oo[Oo.UNAVAILABLE=14]="UNAVAILABLE",Oo[Oo.DATA_LOSS=15]="DATA_LOSS";class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return vi(this.inner)}size(){return this.innerSize}}const Lo=new bi(Gr.comparator);function Fo(){return Lo}const Mo=new bi(Gr.comparator);function Vo(...e){let t=Mo;for(const n of e)t=t.insert(n.key,n);return t}function Uo(e){let t=Mo;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bo(){return qo()}function jo(){return qo()}function qo(){return new No(e=>e.toString(),(e,t)=>e.isEqual(t))}const zo=new bi(Gr.comparator),Go=new Si(Gr.comparator);function Ho(...e){let t=Go;for(const n of e)t=t.add(n);return t}const $o=new Si(Lr);function Zo(){return $o}class Ko{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Yo.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ko(Ur.min(),n,Zo(),Fo(),Ho())}}class Yo{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Yo(ki.EMPTY_BYTE_STRING,t,Ho(),Ho(),Ho())}}class Wo{constructor(e,t,n,r){this.Tt=e,this.removedTargetIds=t,this.key=n,this.Et=r}}class Qo{constructor(e,t){this.targetId=e,this.At=t}}class Jo{constructor(e,t,n=ki.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xo{constructor(){this.Rt=0,this.bt=na(),this.Pt=ki.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ho(),t=Ho(),n=Ho();return this.bt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yr()}}),new Yo(this.Pt,this.vt,e,t,n)}Nt(){this.Vt=!1,this.bt=na()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ea{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Fo(),this.qt=ta(),this.Kt=new Si(Lr)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const n=this.zt(t);switch(e.state){case 0:this.Ht(t)&&n.Ct(e.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(e.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(n.$t(),n.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),n.Ct(e.resumeToken));break;default:yr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((e,n)=>{this.Ht(n)&&t(n)})}Yt(e){const t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){const e=r.target;if(ms(e))if(0===n){const n=new Gr(e.path);this.jt(t,n,us.newNoDocument(n,Ur.min()))}else vr(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((n,r)=>{const i=this.Xt(r);if(i){if(n.current&&ms(i.target)){const t=new Gr(i.target.path);null!==this.Ut.get(t)||this.ee(r,t)||this.jt(r,t,us.newNoDocument(t,e))}n.Dt&&(t.set(r,n.xt()),n.Nt())}});let n=Ho();this.qt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Xt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.Ut.forEach((t,n)=>n.setReadTime(e));const r=new Ko(e,t,this.Kt,this.Ut,n);return this.Ut=Fo(),this.qt=ta(),this.Kt=new Si(Lr),r}Qt(e,t){if(!this.Ht(e))return;const n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,n){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Xo,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Si(Lr),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||fr("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Xo),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ta(){return new bi(Gr.comparator)}function na(){return new bi(Gr.comparator)}const ra={asc:"ASCENDING",desc:"DESCENDING"},ia={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sa{constructor(e,t){this.databaseId=e,this.gt=t}}function oa(e,t){return e.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aa(e,t){return e.gt?t.toBase64():t.toUint8Array()}function la(e,t){return oa(e,t.toTimestamp())}function ca(e){return vr(!!e),Ur.fromTimestamp(function(e){const t=Ri(e);return new Vr(t.seconds,t.nanos)}(e))}function ua(e,t){return function(e){return new jr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ha(e){const t=jr.fromString(e);return vr(Da(t)),t}function da(e,t){return ua(e.databaseId,t.path)}function pa(e,t){const n=ha(t);if(n.get(1)!==e.databaseId.projectId)throw new Sr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Sr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gr(_a(n))}function fa(e,t){return ua(e.databaseId,t)}function ma(e){const t=ha(e);return 4===t.length?jr.emptyPath():_a(t)}function ga(e){return new jr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _a(e){return vr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ya(e,t,n){return{name:da(e,t),fields:n.value.mapValue.fields}}function va(e,t,n){const r=pa(e,t.name),i=ca(t.updateTime),s=new ls({mapValue:{fields:t.fields}}),o=us.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ba(e,t){let n;if(t instanceof Co)n={update:ya(e,t.key,t.value)};else if(t instanceof xo)n={delete:da(e,t.key)};else if(t instanceof So)n={update:ya(e,t.key,t.data),updateMask:Pa(t.fieldMask)};else{if(!(t instanceof ko))return yr();n={verify:da(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ro)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof io)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof oo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lo)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw yr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:la(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yr()}(e,t.precondition)),n}function wa(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?fo.updateTime(ca(e.updateTime)):void 0!==e.exists?fo.exists(e.exists):fo.none()}(t.currentDocument):fo.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(vr("REQUEST_TIME"===t.setToServerValue),n=new ro):"appendMissingElements"in t?n=new io(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new oo(t.removeAllFromArray.values||[]):"increment"in t?n=new lo(e,t.increment):yr();const r=zr.fromServerFormat(t.fieldPath);return new ho(r,n)}(e,t)):[];if(t.update){const i=pa(e,t.update.name),s=new ls({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Ti((e.fieldPaths||[]).map(e=>zr.fromServerFormat(e)))}(t.updateMask);return new So(i,s,e,n,r)}return new Co(i,s,n,r)}if(t.delete){const r=pa(e,t.delete);return new xo(r,n)}if(t.verify){const r=pa(e,t.verify);return new ko(r,n)}return yr()}function Ca(e,t){return{documents:[fa(e,t.path)]}}function Sa(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(es(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NAN"}};if(Xi(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(es(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NOT_NAN"}};if(Xi(e.value))return{unaryFilter:{field:ka(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(e.field),op:xa(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ka(e.field),direction:Ta(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.gt||Vi(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ea(e){let t=ma(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Ia(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new As(Aa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){return new ks(e.values||[],!!e.before)}(n.startAt));let c=null;return n.endAt&&(c=function(e){return new ks(e.values||[],!e.before)}(n.endAt)),Ns(t,i,o,s,a,"F",l,c)}function Ia(e){return e?void 0!==e.unaryFilter?[Oa(e)]:void 0!==e.fieldFilter?[Ra(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Ia(e)).reduce((e,t)=>e.concat(t)):yr():[]}function Ta(e){return ra[e]}function xa(e){return ia[e]}function ka(e){return{fieldPath:e.canonicalString()}}function Aa(e){return zr.fromServerFormat(e.fieldPath)}function Ra(e){return vs.create(Aa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Oa(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Aa(e.unaryFilter.field);return vs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Aa(e.unaryFilter.field);return vs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Aa(e.unaryFilter.field);return vs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Aa(e.unaryFilter.field);return vs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yr()}}function Pa(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Da(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Na(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fa(t)),t=La(e.get(n),t);return Fa(t)}function La(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Fa(e){return e+"\x01\x01"}function Ma(e){const t=e.length;if(vr(t>=2),2===t)return vr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jr.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&yr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:yr()}s=t+2}return new jr(r)}const Va=["userId","batchId"];function Ua(e,t){return[e,Na(t)]}function Ba(e,t,n){return[e,Na(t),n]}const ja={},qa=["prefixPath","collectionGroup","readTime","documentId"],za=["prefixPath","collectionGroup","documentId"],Ga=["collectionGroup","readTime","prefixPath","documentId"],Ha=["canonicalId","targetId"],$a=["targetId","path"],Za=["path","targetId"],Ka=["collectionId","parent"],Ya=["indexId","uid"],Wa=["uid","sequenceNumber"],Qa=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ja=["indexId","uid","orderedDocumentKey"],Xa=["userId","collectionPath","documentId"],el=["userId","collectionPath","largestBatchId"],tl=["userId","collectionGroup","largestBatchId"],nl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rl=[...nl,"documentOverlays"],il=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sl=il,ol=[...sl,"indexConfiguration","indexState","indexEntries"];class al extends ti{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function ll(e,t){const n=wr(e);return oi.M(n.ie,t)}class cl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jo();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_o(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Ur.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ho())}isEqual(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(e,t)=>wo(e,t))&&Fr(this.baseMutations,e.baseMutations,(e,t)=>wo(e,t))}}class ul{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){vr(e.mutations.length===n.length);let r=zo;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ul(e,t,n,r)}}class hl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dl{constructor(e,t,n,r,i=Ur.min(),s=Ur.min(),o=ki.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class pl{constructor(e){this.re=e}}function fl(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ml(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:da(e,t.key),fields:t.data.value.mapValue.fields,updateTime:oa(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gl(t.version)};else{if(!t.isUnknownDocument())return yr();r.unknownDocument={path:n.path.toArray(),version:gl(t.version)}}return r}function ml(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _l(e){const t=new Vr(e.seconds,e.nanoseconds);return Ur.fromTimestamp(t)}function yl(e,t){const n=(t.baseMutations||[]).map(t=>wa(e.re,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>wa(e.re,t)),i=Vr.fromMillis(t.localWriteTimeMs);return new cl(t.batchId,i,n,r)}function vl(e){const t=_l(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?_l(e.lastLimboFreeSnapshotVersion):Ur.min();let r;var i;return void 0!==e.query.documents?(vr(1===(i=e.query).documents.length),r=js(Ls(ma(i.documents[0])))):r=function(e){return js(Ea(e))}(e.query),new dl(r,e.targetId,0,e.lastListenSequenceNumber,t,n,ki.fromBase64String(e.resumeToken))}function bl(e,t){const n=gl(t.snapshotVersion),r=gl(t.lastLimboFreeSnapshotVersion);let i;i=ms(t.target)?Ca(e.re,t.target):Sa(e.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ps(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wl(e){const t=Ea({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qs(t,t.limit,"L"):t}function Cl(e,t){return new hl(t.largestBatchId,wa(e.re,t.overlayMutation))}function Sl(e,t){const n=t.path.lastSegment();return[e,Na(t.path.popLast()),n]}function El(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gl(r.readTime),documentKey:Na(r.documentKey.path),largestBatchId:r.largestBatchId}}class Il{getBundleMetadata(e,t){return Tl(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:_l(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Tl(e).put({bundleId:(n=t).id,createTime:gl(ca(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return xl(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:wl(t.bundledQuery),readTime:_l(t.readTime)};var t})}saveNamedQuery(e,t){return xl(e).put(function(e){return{name:e.name,readTime:gl(ca(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Tl(e){return ll(e,"bundles")}function xl(e){return ll(e,"namedQueries")}class kl{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kl(e,t.uid||"")}getOverlay(e,t){return Al(e).get(Sl(this.userId,t)).next(e=>e?Cl(this.It,e):null)}getOverlays(e,t){const n=Bo();return ii.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const s=new hl(t,i);r.push(this.ue(e,s))}),ii.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Na(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Al(e).Y("collectionPathOverlayIndex",r))}),ii.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Bo(),i=Na(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Al(e).W("collectionPathOverlayIndex",s).next(e=>{for(const t of e){const e=Cl(this.It,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Bo();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Al(e).Z({index:"collectionGroupOverlayIndex",range:o},(e,t,n)=>{const o=Cl(this.It,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}ue(e,t){return Al(e).put(function(e,t,n){const[r,i,s]=Sl(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:ba(e.re,n.mutation)}}(this.It,this.userId,t))}}function Al(e){return ll(e,"documentOverlays")}let Rl=(()=>{class e{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Oi(e.integerValue));else if("doubleValue"in e){const n=Oi(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Ui(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.le(t,20),"string"==typeof n?t.de(n):(t.de(`${n.seconds||""}`),t.fe(n.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Pi(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.le(t,45),t.fe(n.latitude||0),t.fe(n.longitude||0)}else"mapValue"in e?rs(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):yr()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const n=e.fields||{};this.le(t,55);for(const r of Object.keys(n))this._e(r,t),this.ae(n[r],t)}pe(e,t){const n=e.values||[];this.le(t,50);for(const r of n)this.ae(r,t)}ge(e,t){this.le(t,37),Gr.fromName(e).path.forEach(e=>{this.le(t,60),this.Ie(e,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}return e.Te=new e,e})();function Ol(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Pl(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ol(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class Dl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Pe(n.value),n=t.next();this.ve()}Ve(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}Se(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Pe(e);else if(e<2048)this.Pe(960|e>>>6),this.Pe(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e);else{const e=t.codePointAt(0);this.Pe(240|e>>>18),this.Pe(128|63&e>>>12),this.Pe(128|63&e>>>6),this.Pe(128|63&e)}}this.ve()}De(e){const t=this.Ce(e),n=Pl(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),n=Pl(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Nl{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Ll{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Fl{constructor(){this.Be=new Dl,this.Le=new Nl(this.Be),this.Ue=new Ll(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Ml{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Ml(this.indexId,this.documentKey,this.arrayValue,n)}}function Vl(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Ul(e.arrayValue,t.arrayValue),0!==n?n:(n=Ul(e.directionalValue,t.directionalValue),0!==n?n:Gr.comparator(e.documentKey,t.documentKey)))}function Ul(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Bl{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const e=t;e.dt()?this.je=e:this.Qe.push(e)}}We(e){const t=$r(e);if(void 0!==t&&!this.ze(t))return!1;const n=Zr(e);let r=0,i=0;for(;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){const e=n[r];if(!this.He(this.je,e)||!this.Je(this.Ge[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],e))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jl{constructor(){this.Ye=new ql}addToCollectionParentIndex(e,t){return this.Ye.add(t),ii.resolve()}getCollectionParents(e,t){return ii.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ii.resolve()}deleteFieldIndex(e,t){return ii.resolve()}getDocumentsMatchingTarget(e,t){return ii.resolve(null)}getIndexType(e,t){return ii.resolve(0)}getFieldIndexes(e,t){return ii.resolve([])}getNextCollectionGroupToUpdate(e){return ii.resolve(null)}getMinOffset(e,t){return ii.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return ii.resolve(Jr.min())}updateCollectionGroup(e,t,n){return ii.resolve()}updateIndexEntries(e,t){return ii.resolve()}}class ql{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Si(jr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Si(jr.comparator)).toArray()}}const zl=new Uint8Array(0);class Gl{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new ql,this.Ze=new No(e=>ps(e),(e,t)=>fs(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const i={collectionId:n,parent:Na(r)};return Hl(e).put(i)}return ii.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Mr(t),""],!1,!0);return Hl(e).W(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ma(r.parent))}return n})}addFieldIndex(e,t){const n=Zl(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Kl(e);return i.next(e=>{n.put(El(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=Zl(e),r=Kl(e),i=$l(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=$l(e);let r=!0;const i=new Map;return ii.forEach(this.tn(t),t=>this.en(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=Ho();const r=[];return ii.forEach(i,(i,s)=>{var o;fr("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${ps(t)}`);const a=function(e,t){const n=$r(t);if(void 0===n)return null;for(const r of gs(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of Zr(t))for(const t of gs(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Zr(t)){const t=0===i.kind?_s(e,i.fieldPath,e.startAt):ys(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ks(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of Zr(t)){const t=0===i.kind?ys(e,i.fieldPath,e.endAt):_s(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ks(n,r)}(s,i),h=this.nn(i,s,c),d=this.nn(i,s,u),p=this.sn(i,s,l),f=this.rn(i.indexId,a,h,c.inclusive,d,u.inclusive,p);return ii.forEach(f,i=>n.J(i,t.limit).next(t=>{t.forEach(t=>{const n=Gr.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return ii.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.on(t[u/l]):zl,h=this.un(e,a,n[u%l],r),d=this.cn(e,a,i[u%l],s),p=o.map(t=>this.un(e,a,t,!0));c.push(...this.createRange(h,d,p))}return c}un(e,t,n,r){const i=new Ml(e,Gr.empty(),t,n);return r?i:i.Ke()}cn(e,t,n,r){const i=new Ml(e,Gr.empty(),t,n);return r?i.Ke():i}en(e,t){const n=new Bl(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.We(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;return ii.forEach(this.tn(t),t=>this.en(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new Si(zr.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>n)}an(e,t){const n=new Fl;for(const r of Zr(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.qe(r.kind);Rl.Te.ce(e,i)}return n.$e()}on(e){const t=new Fl;return Rl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const n=new Fl;return Rl.Te.ce(Wi(this.databaseId,t),n.qe(function(e){const t=Zr(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}sn(e,t,n){if(null===n)return[];let r=[];r.push(new Fl);let i=0;for(const s of Zr(e)){const e=n[i++];for(const n of r)if(this.ln(t,s.fieldPath)&&Ji(e))r=this.fn(r,s,e);else{const t=n.qe(s.kind);Rl.Te.ce(e,t)}}return this.dn(r)}nn(e,t,n){return this.sn(e,t,n.position)}dn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].$e();return t}fn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Fl;n.seed(e.$e()),Rl.Te.ce(s,n.qe(t.kind)),i.push(n)}return i}ln(e,t){return!!e.filters.find(e=>e instanceof vs&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Zl(e),r=Kl(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next(e=>{const t=[];return ii.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Yr(t.sequenceNumber,new Jr(_l(t.readTime),new Gr(Ma(t.documentKey)),t.largestBatchId)):Yr.empty(),r=e.fields.map(([e,t])=>new Kr(zr.fromServerFormat(e),t));return new Hr(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Lr(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=Zl(e),i=Kl(e);return this._n(e).next(e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>ii.forEach(t,t=>i.put(El(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return ii.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?ii.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),ii.forEach(i,n=>this.wn(e,t,n).next(t=>{const i=this.mn(r,n);return t.isEqual(i)?ii.resolve():this.gn(e,r,n,t,i)}))))})}yn(e,t,n,r){return $l(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}pn(e,t,n,r){return $l(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const r=$l(e);let i=new Si(Vl);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(e,r)=>{i=i.add(new Ml(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}mn(e,t){let n=new Si(Vl);const r=this.an(t,e);if(null==r)return n;const i=$r(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Ji(s))for(const i of s.arrayValue.values||[])n=n.add(new Ml(t.indexId,e.key,this.on(i),r))}else n=n.add(new Ml(t.indexId,e.key,zl,r));return n}gn(e,t,n,r,i){fr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Ii(s),l=Ii(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Ii(o)):t?(i(a),a=Ii(s)):(a=Ii(s),l=Ii(o))}}(r,i,Vl,r=>{s.push(this.yn(e,t,n,r))},r=>{s.push(this.pn(e,t,n,r))}),ii.waitFor(s)}_n(e){let t=1;return Kl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Vl(e,t)).filter((e,t,n)=>!t||0!==Vl(e,n[t-1]));const r=[];r.push(e);for(const s of n){const n=Vl(s,e),i=Vl(s,t);if(0===n)r[0]=e.Ke();else if(n>0&&i<0)r.push(s),r.push(s.Ke());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2)i.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,zl,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,zl,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Yl)}getMinOffset(e,t){return ii.mapArray(this.tn(t),t=>this.en(e,t).next(e=>e||yr())).next(Yl)}}function Hl(e){return ll(e,"collectionParents")}function $l(e){return ll(e,"indexEntries")}function Zl(e){return ll(e,"indexConfiguration")}function Kl(e){return ll(e,"indexState")}function Yl(e){vr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Xr(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jr(t.readTime,t.documentKey,n)}const Wl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ql{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ql(e,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jl(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{vr(1===a)}));const c=[];for(const u of n.mutations){const e=Ba(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return ii.waitFor(s).next(()=>c)}function Xl(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yr();t=e.noDocument}return JSON.stringify(t).length}Ql.DEFAULT_COLLECTION_PERCENTILE=10,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ql.DEFAULT=new Ql(41943040,Ql.DEFAULT_COLLECTION_PERCENTILE,Ql.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ql.DISABLED=new Ql(-1,0,0);class ec{constructor(e,t,n,r){this.userId=e,this.It=t,this.indexManager=n,this.referenceDelegate=r,this.In={}}static oe(e,t,n,r){vr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ec(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nc(e).Z({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=rc(e),s=nc(e);return s.add({}).next(o=>{vr("number"==typeof o);const a=new cl(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>ba(e.re,t)),i=n.mutations.map(t=>ba(e.re,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.It,this.userId,a),c=[];let u=new Si((e,t)=>Lr(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Ba(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,ja))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.In[o]=a.keys()}),ii.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return nc(e).get(t).next(e=>e?(vr(e.userId===this.userId),yl(this.It,e)):null)}Tn(e,t){return this.In[t]?ii.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.In[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return nc(e).Z({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(vr(t.batchId>=n),i=yl(this.It,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return nc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nc(e).W("userMutationsIndex",t).next(e=>e.map(e=>yl(this.It,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ua(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return rc(e).Z({range:r},(n,r,s)=>{const[o,a,l]=n,c=Ma(a);if(o===this.userId&&t.path.isEqual(c))return nc(e).get(l).next(e=>{if(!e)throw yr();vr(e.userId===this.userId),i.push(yl(this.It,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Si(Lr);const r=[];return t.forEach(t=>{const i=Ua(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=rc(e).Z({range:s},(e,r,i)=>{const[s,o,a]=e,l=Ma(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),ii.waitFor(r).next(()=>this.En(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ua(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Si(Lr);return rc(e).Z({range:s},(e,t,i)=>{const[s,a,l]=e,c=Ma(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.En(e,o))}En(e,t){const n=[],r=[];return t.forEach(t=>{r.push(nc(e).get(t).next(e=>{if(null===e)throw yr();vr(e.userId===this.userId),n.push(yl(this.It,e))}))}),ii.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Jl(e.ie,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ii.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ii.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return rc(e).Z({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ma(e[1]);r.push(t)}else n.done()}).next(()=>{vr(0===r.length)})})}containsKey(e,t){return tc(e,this.userId,t)}Rn(e){return ic(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tc(e,t,n){const r=Ua(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return rc(e).Z({range:s,X:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function nc(e){return ll(e,"mutations")}function rc(e){return ll(e,"documentMutations")}function ic(e){return ll(e,"mutationQueues")}class sc{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new sc(0)}static vn(){return new sc(-1)}}class oc{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const n=new sc(t.highestTargetId);return t.highestTargetId=n.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(e=>Ur.fromTimestamp(new Vr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(n=>(n.targetCount+=1,this.Cn(t,n),this.Sn(e,n))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ac(e).delete(t.targetId)).next(()=>this.Vn(e)).next(t=>(vr(t.targetCount>0),t.targetCount-=1,this.Sn(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return ac(e).Z((s,o)=>{const a=vl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>ii.waitFor(i)).next(()=>r)}forEachTarget(e,t){return ac(e).Z((e,n)=>{const r=vl(n);t(r)})}Vn(e){return lc(e).get("targetGlobalKey").next(e=>(vr(null!==e),e))}Sn(e,t){return lc(e).put("targetGlobalKey",t)}Dn(e,t){return ac(e).put(bl(this.It,t))}Cn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Vn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=ps(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return ac(e).Z({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const s=vl(n);fs(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=cc(e);return t.forEach(t=>{const s=Na(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),ii.waitFor(r)}removeMatchingKeys(e,t,n){const r=cc(e);return ii.forEach(t,t=>{const i=Na(t.path);return ii.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=cc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cc(e);let i=Ho();return r.Z({range:n,X:!0},(e,t,n)=>{const r=Ma(e[1]),s=new Gr(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Na(t.path),r=IDBKeyRange.bound([n],[Mr(n)],!1,!0);let i=0;return cc(e).Z({index:"documentTargetsIndex",X:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}se(e,t){return ac(e).get(t).next(e=>e?vl(e):null)}}function ac(e){return ll(e,"targets")}function lc(e){return ll(e,"targetGlobal")}function cc(e){return ll(e,"targetDocuments")}function uc([e,t],[n,r]){const i=Lr(e,n);return 0===i?Lr(t,r):i}class hc{constructor(e){this.xn=e,this.buffer=new Si(uc),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();uc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dc{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;fr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,i.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(e){ci(e)?fr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield ni(e)}yield t.Fn(3e5)}))}}class pc{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ii.resolve(gi.at);const n=new hc(t);return this.$n.forEachTarget(e,e=>n.On(e.sequenceNumber)).next(()=>this.$n.Ln(e,e=>n.On(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.$n.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(fr("LruGarbageCollector","Garbage collection skipped; disabled"),ii.resolve(Wl)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(fr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let n,r,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(fr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),dr()<=a.in.DEBUG&&fr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),ii.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class fc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new pc(e,t)}(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}qn(e){let t=0;return this.Ln(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(e,n)=>t(n))}addReference(e,t,n){return mc(e,n)}removeReference(e,t,n){return mc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return mc(e,t)}Gn(e,t){return function(e,t){let n=!1;return ic(e).tt(r=>tc(e,r,t).next(e=>(e&&(n=!0),ii.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Kn(e,(s,o)=>{if(o<=t){const t=this.Gn(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,Ur.min()),cc(e).delete([0,Na(s.path)])))});r.push(t)}}).next(()=>ii.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return mc(e,t)}Kn(e,t){const n=cc(e);let r,i=gi.at;return n.Z({index:"documentTargetsIndex"},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==gi.at&&t(new Gr(Ma(r)),i),i=o,r=s):i=gi.at}).next(()=>{i!==gi.at&&t(new Gr(Ma(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mc(e,t){return cc(e).put(function(e,t){return{targetId:0,path:Na(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class gc{constructor(){this.changes=new No(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ii.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _c{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return wc(e).put(n)}removeEntry(e,t,n){return wc(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ml(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Qn(e,n)))}getEntry(e,t){let n=us.newInvalidDocument(t);return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(t))},(e,r)=>{n=this.jn(t,r)}).next(()=>n)}Wn(e,t){let n={size:0,document:us.newInvalidDocument(t)};return wc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cc(t))},(e,r)=>{n={document:this.jn(t,r),size:Xl(r)}}).next(()=>n)}getEntries(e,t){let n=Fo();return this.zn(e,t,(e,t)=>{const r=this.jn(e,t);n=n.insert(e,r)}).next(()=>n)}Hn(e,t){let n=Fo(),r=new bi(Gr.comparator);return this.zn(e,t,(e,t)=>{const i=this.jn(e,t);n=n.insert(e,i),r=r.insert(e,Xl(t))}).next(()=>({documents:n,Jn:r}))}zn(e,t,n){if(t.isEmpty())return ii.resolve();let r=new Si(Ec);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(Cc(r.first()),Cc(r.last())),s=r.getIterator();let o=s.getNext();return wc(e).Z({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=Gr.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ec(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.j(Cc(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),ml(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wc(e).W(IDBKeyRange.bound(r,i,!0)).next(e=>{let t=Fo();for(const n of e){const e=this.jn(Gr.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,r){let i=Fo();const s=Sc(t,n),o=Sc(t,Jr.max());return wc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.jn(Gr.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new vc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return bc(e).get("remoteDocumentGlobalKey").next(e=>(vr(!!e),e))}Qn(e,t){return bc(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=va(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Gr.fromSegments(t.noDocument.path),r=_l(t.noDocument.readTime);n=us.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yr();{const e=Gr.fromSegments(t.unknownDocument.path),r=_l(t.unknownDocument.version);n=us.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Vr(e[0],e[1]);return Ur.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!e.isNoDocument()||!e.version.isEqual(Ur.min()))return e}return us.newInvalidDocument(e)}}function yc(e){return new _c(e)}class vc extends gc{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new No(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Si((e,t)=>Lr(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Xn.get(i);if(t.push(this.Yn.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=fl(this.Yn.It,s);r=r.add(i.path.popLast());const l=Xl(a);n+=l-o.size,t.push(this.Yn.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=fl(this.Yn.It,s.convertToNoDocument(Ur.min()));t.push(this.Yn.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Yn.updateMetadata(e,n)),ii.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(e=>(this.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:e,Jn:t})=>(t.forEach((t,n)=>{this.Xn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function bc(e){return ll(e,"remoteDocumentGlobal")}function wc(e){return ll(e,"remoteDocumentsV14")}function Cc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Sc(e,t){const n=t.documentKey.path.toArray();return[e,ml(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ec(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Lr(n[s],r[s]),i)return i;return i=Lr(n.length,r.length),i||(i=Lr(n[n.length-2],r[r.length-2]),i||Lr(n[n.length-1],r[r.length-1]))}class Ic{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.getBaseDocument(e,t,n))).next(e=>(null!==n&&vo(n.mutation,e,Ti.empty(),Vr.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ho()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Ho()){const r=Bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Vo();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ho()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Fo();const s=qo(),o=qo();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof So)?i=i.insert(t.key,t):void 0!==o&&(s.set(t.key,o.mutation.getFieldMask()),vo(o.mutation,t,o.mutation.getFieldMask(),Vr.now()))}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Ic(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=qo();let r=new bi((e,t)=>e-t),i=Ho();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ti.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Ho()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=jo();l.forEach(e=>{if(!i.has(e)){const r=_o(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ii.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return Gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Us(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ii.resolve(Bo());let o=-1,a=i;return s.next(t=>ii.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ii.resolve():this.getBaseDocument(e,t,n).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Ho())).next(e=>({batchId:o,changes:Uo(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gr(t)).next(e=>{let t=Vo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Vo();return this.indexManager.getCollectionParents(e,r).next(s=>ii.forEach(s,s=>{const o=function(e,t){return new Ds(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId))).next(e=>{e.forEach((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,us.newInvalidDocument(n)))});let n=Vo();return r.forEach((r,i)=>{const s=e.get(r);void 0!==s&&vo(s.mutation,i,Ti.empty(),Vr.now()),$s(t,i)&&(n=n.insert(r,i))}),n})}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ii.resolve(us.newInvalidDocument(t))}}class xc{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ii.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:ca(n.createTime)}),ii.resolve()}getNamedQuery(e,t){return ii.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:wl(e.bundledQuery),readTime:ca(e.readTime)}}(t)),ii.resolve()}}class kc{constructor(){this.overlays=new bi(Gr.comparator),this.es=new Map}getOverlay(e,t){return ii.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bo();return ii.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ue(e,t,r)}),ii.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.es.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.es.delete(n)),ii.resolve()}getOverlaysForCollection(e,t,n){const r=Bo(),i=t.length+1,s=new Gr(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ii.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bi((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bo(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Bo(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ii.resolve(o)}ue(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hl(t,n));let i=this.es.get(t);void 0===i&&(i=Ho(),this.es.set(t,i)),this.es.set(t,i.add(n.key))}}class Ac{constructor(){this.ns=new Si(Rc.ss),this.rs=new Si(Rc.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const n=new Rc(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.cs(new Rc(e,t))}hs(e,t){e.forEach(e=>this.removeReference(e,t))}ls(e){const t=new Gr(new jr([])),n=new Rc(t,e),r=new Rc(t,e+1),i=[];return this.rs.forEachInRange([n,r],e=>{this.cs(e),i.push(e.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Gr(new jr([])),n=new Rc(t,e),r=new Rc(t,e+1);let i=Ho();return this.rs.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Rc(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rc{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Gr.comparator(e.key,t.key)||Lr(e._s,t._s)}static os(e,t){return Lr(e._s,t._s)||Gr.comparator(e.key,t.key)}}class Oc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Si(Rc.ss)}checkEmpty(e){return ii.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.ws;this.ws++;const s=new cl(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.gs=this.gs.add(new Rc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ii.resolve(s)}lookupMutationBatch(e,t){return ii.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.ps(t+1),r=n<0?0:n;return ii.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return ii.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ii.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rc(t,0),r=new Rc(t,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],e=>{const t=this.ys(e._s);i.push(t)}),ii.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Si(Lr);return t.forEach(e=>{const t=new Rc(e,0),r=new Rc(e,Number.POSITIVE_INFINITY);this.gs.forEachInRange([t,r],e=>{n=n.add(e._s)})}),ii.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Gr.isDocumentKey(i)||(i=i.child(""));const s=new Rc(new Gr(i),0);let o=new Si(Lr);return this.gs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)},s),ii.resolve(this.Is(o))}Is(e){const t=[];return e.forEach(e=>{const n=this.ys(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){vr(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return ii.forEach(t.mutations,r=>{const i=new Rc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=n})}An(e){}containsKey(e,t){const n=new Rc(t,0),r=this.gs.firstAfterOrEqual(n);return ii.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ii.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pc{constructor(e){this.Es=e,this.docs=new bi(Gr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ii.resolve(n?n.document.mutableCopy():us.newInvalidDocument(t))}getEntries(e,t){let n=Fo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():us.newInvalidDocument(e))}),ii.resolve(n)}getAllFromCollection(e,t,n){let r=Fo();const i=new Gr(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||Xr(Qr(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return ii.resolve(r)}getAllFromCollectionGroup(e,t,n,r){yr()}As(e,t){return ii.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Dc(this)}getSize(e){return ii.resolve(this.size)}}class Dc extends gc{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(n)}),ii.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Nc{constructor(e){this.persistence=e,this.Rs=new No(e=>ps(e),fs),this.lastRemoteSnapshotVersion=Ur.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ac,this.targetCount=0,this.vs=sc.Pn()}forEachTarget(e,t){return this.Rs.forEach((e,n)=>t(n)),ii.resolve()}getLastRemoteSnapshotVersion(e){return ii.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ii.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ii.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ii.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new sc(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ii.resolve()}updateTargetData(e,t){return this.Dn(t),ii.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ii.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Rs.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Rs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ii.waitFor(i).next(()=>r)}getTargetCount(e){return ii.resolve(this.targetCount)}getTargetData(e,t){const n=this.Rs.get(t)||null;return ii.resolve(n)}addMatchingKeys(e,t,n){return this.Ps.us(t,n),ii.resolve()}removeMatchingKeys(e,t,n){this.Ps.hs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ii.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ii.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ps.ds(t);return ii.resolve(n)}containsKey(e,t){return ii.resolve(this.Ps.containsKey(t))}}class Lc{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new gi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Nc(this),this.indexManager=new jl,this.remoteDocumentCache=function(e){return new Pc(e)}(e=>this.referenceDelegate.xs(e)),this.It=new pl(t),this.Ns=new xc(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Vs[e.toKey()];return n||(n=new Oc(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,n){fr("MemoryPersistence","Starting transaction:",e);const r=new Fc(this.Ss.next());return this.referenceDelegate.ks(),n(r).next(e=>this.referenceDelegate.Os(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ms(e,t){return ii.or(Object.values(this.Vs).map(n=>()=>n.containsKey(e,t)))}}class Fc extends ti{constructor(e){super(),this.currentSequenceNumber=e}}class Mc{constructor(e){this.persistence=e,this.Fs=new Ac,this.$s=null}static Bs(e){return new Mc(e)}get Ls(){if(this.$s)return this.$s;throw yr()}addReference(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ii.resolve()}removeReference(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ii.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ii.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(e=>this.Ls.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ls.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ii.forEach(this.Ls,n=>{const r=Gr.fromPath(n);return this.Us(e,r).next(e=>{e||t.removeEntry(r,Ur.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(e=>{e?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ii.or([()=>ii.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class Vc{constructor(e){this.It=e}$(e,t,n,r){const i=new si("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Va,{unique:!0}),e.createObjectStore("documentMutations")}(e),Uc(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ii.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Uc(e)),s=s.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ur.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store("mutations").W().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Va,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return ii.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.qs(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(i)))),n<7&&r>=7&&(s=s.next(()=>this.Gs(i))),n<8&&r>=8&&(s=s.next(()=>this.Qs(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(s=s.next(()=>this.js(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Xa});t.createIndex("collectionPathOverlayIndex",el,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",tl,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:qa});t.createIndex("documentKeyIndex",za),t.createIndex("collectionGroupIndex",Ga)}(e)).next(()=>this.Ws(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>this.zs(e,i))),n<15&&r>=15&&(s=s.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ya}).createIndex("sequenceNumberIndex",Wa,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qa}).createIndex("documentKeyIndex",Ja,{unique:!1})}(e))),s}Ks(e){let t=0;return e.store("remoteDocuments").Z((e,n)=>{t+=Xl(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}qs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next(t=>ii.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next(n=>ii.forEach(n,n=>{vr(n.userId===t.userId);const r=yl(this.It,n);return Jl(e,t.userId,r).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.Z((n,i)=>{const s=new jr(n),o=function(e){return[0,Na(e)]}(s);r.push(t.get(o).next(n=>n?ii.resolve():(n=>t.put({targetId:0,path:Na(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>ii.waitFor(r))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Ka});const n=t.store("collectionParents"),r=new ql,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Na(r)})}};return t.store("remoteDocuments").Z({X:!0},(e,t)=>{const n=new jr(e);return i(n.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([e,t,n],r)=>{const s=Ma(t);return i(s.popLast())}))}js(e){const t=e.store("targets");return t.Z((e,n)=>{const r=vl(n),i=bl(this.It,r);return t.put(i)})}Ws(e,t){const n=t.store("remoteDocuments"),r=[];return n.Z((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new Gr(jr.fromString(o.document.name).popFirst(5)):o.noDocument?Gr.fromSegments(o.noDocument.path):o.unknownDocument?Gr.fromSegments(o.unknownDocument.path):yr()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>ii.waitFor(r))}zs(e,t){const n=t.store("mutations"),r=yc(this.It),i=new Lc(Mc.Bs,this.It.re);return n.W().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ho();yl(this.It,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),ii.forEach(n,(e,n)=>{const s=new cr(n),o=kl.oe(this.It,s),a=i.getIndexManager(s),l=ec.oe(s,this.It,a,i.referenceDelegate);return new Tc(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new al(t,gi.at),e).next()})})}}function Uc(e){e.createObjectStore("targetDocuments",{keyPath:$a}).createIndex("documentTargetsIndex",Za,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ha,{unique:!0}),e.createObjectStore("targetGlobal")}const Bc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jc{constructor(e,t,n,r,i,s,o,a,l,c,u=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Hs=i,this.window=s,this.document=o,this.Js=l,this.Ys=c,this.Xs=u,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=e=>Promise.resolve(),!jc.C())throw new Sr(Cr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fc(this,r),this.ii=t+"main",this.It=new pl(a),this.ri=new oi(this.ii,this.Xs,new Vc(this.It)),this.Cs=new oc(this.referenceDelegate,this.It),this.remoteDocumentCache=yc(this.It),this.Ns=new Il,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Sr(Cr.FAILED_PRECONDITION,Bc);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new gi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var n=(0,i.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,i.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,i.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ci(e))return fr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return fr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return qc(e).get("owner").next(e=>ii.resolve(this.mi(e)))}gi(e){return zc(e).delete(this.clientId)}yi(){var e=this;return(0,i.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=ll(t,"clientMetadata");return n.W().next(t=>{const r=e.Ii(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return ii.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.oi)for(const n of t)e.oi.removeItem(e.Ti(n.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ii.resolve(!0):qc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Sr(Cr.FAILED_PRECONDITION,Bc);return!1}}return!(!this.networkEnabled||!this.inForeground)||zc(e).W().next(e=>void 0===this.Ii(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&fr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,i.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new al(t,gi.at);return e._i(n).next(()=>e.gi(n))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(e=>this.pi(e.updateTimeMs,t)&&!this.Ei(e.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>zc(e).W().next(e=>this.Ii(e,18e5).map(e=>e.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return ec.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Gl(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kl.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,n){fr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.Xs)?ol:14===s?sl:13===s?il:12===s?rl:11===s?nl:void yr();var s;let o;return this.ri.runTransaction(e,r,i,r=>(o=new al(r,this.Ss?this.Ss.next():gi.at),"readwrite-primary"===t?this.fi(o).next(e=>!!e||this.di(o)).next(t=>{if(!t)throw mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Sr(Cr.FAILED_PRECONDITION,ei);return n(o)}).next(e=>this.wi(o).next(()=>e)):this.Vi(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}Vi(e){return qc(e).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Sr(Cr.FAILED_PRECONDITION,Bc)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put("owner",t)}static C(){return oi.C()}_i(e){const t=qc(e);return t.get("owner").next(e=>this.mi(e)?(fr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ii.resolve())}pi(e,t){const n=Date.now();return!(e<n-t||e>n&&(mr(`Detected an update time that is in the future: ${e} > ${n}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,l.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return fr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return mr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(C){mr("Failed to set zombie client id.",C)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(C){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(e){return ll(e,"owner")}function zc(e){return ll(e,"clientMetadata")}function Gc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Hc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Si=n,this.Di=r}static Ci(e,t){let n=Ho(),r=Ho();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hc(e,t.fromCache,n,r)}}class $c{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.ki(e,t).next(i=>i||this.Oi(e,t,r,n)).next(n=>n||this.Mi(e,t))}ki(e,t){if(Fs(t))return ii.resolve(null);let n=js(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qs(t,null,"F"),n=js(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ho(...r);return this.Ni.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Fi(t,r);return this.$i(t,s,i,n.readTime)?this.ki(e,qs(t,null,"F")):this.Bi(e,s,t,n)}))})))}Oi(e,t,n,r){return Fs(t)||r.isEqual(Ur.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next(i=>{const s=this.Fi(t,i);return this.$i(t,s,n,r)?this.Mi(e,t):(dr()<=a.in.DEBUG&&fr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hs(t)),this.Bi(e,s,t,Wr(r,-1)))})}Fi(e,t){let n=new Si(Ks(e));return t.forEach((t,r)=>{$s(e,r)&&(n=n.add(r))}),n}$i(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,t){return dr()<=a.in.DEBUG&&fr("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jr.min())}Bi(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Zc{constructor(e,t,n,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new bi(Lr),this.qi=new No(e=>ps(e),fs),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(n)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tc(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Kc(e,t,n,r){return new Zc(e,t,n,r)}function Yc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,i.Z)(function*(e,t){const n=wr(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Qi(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=Ho();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({ji:e,removedBatchIds:i,addedBatchIds:s}))})})})).apply(this,arguments)}function Qc(e,t){const n=wr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ii.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);vr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ho();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function Jc(e){const t=wr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function Xc(e,t){const n=wr(e),r=t.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Cs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Cs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(ki.EMPTY_BYTE_STRING,Ur.min()).withLastLimboFreeSnapshotVersion(Ur.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Cs.updateTargetData(e,c))});let a=Fo(),l=Ho();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(eu(e,s,t.documentUpdates).next(e=>{a=e.Wi,l=e.zi})),!r.isEqual(Ur.min())){const t=n.Cs.getLastRemoteSnapshotVersion(e).next(t=>n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return ii.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ui=i,e))}function eu(e,t,n){let r=Ho(),i=Ho();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Fo();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ur.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):fr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{Wi:r,zi:i}})}function tu(e,t){const n=wr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function nu(e,t){const n=wr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Cs.getTargetData(e,t).next(i=>i?(r=i,ii.resolve(r)):n.Cs.allocateTargetId(e).next(i=>(r=new dl(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e})}function ru(e,t,n){return iu.apply(this,arguments)}function iu(){return(iu=(0,i.Z)(function*(e,t,n){const r=wr(e),i=r.Ui.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!ci(e))throw e;fr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ui=r.Ui.remove(t),r.qi.delete(i.target)})).apply(this,arguments)}function su(e,t,n){const r=wr(e);let i=Ur.min(),s=Ho();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=wr(e),i=r.qi.get(n);return void 0!==i?ii.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,js(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Li.getDocumentsMatchingQuery(e,t,n?i:Ur.min(),n?s:Ho())).next(e=>(lu(r,Zs(t),e),{documents:e,Hi:s})))}function ou(e,t){const n=wr(e),r=wr(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.se(e,t).next(e=>e?e.target:null))}function au(e,t){const n=wr(e),r=n.Ki.get(t)||Ur.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Gi.getAllFromCollectionGroup(e,t,Wr(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(lu(n,t,e),e))}function lu(e,t,n){let r=e.Ki.get(t)||Ur.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ki.set(t,r)}function cu(){return(cu=(0,i.Z)(function*(e,t,n,r){const i=wr(e);let s=Ho(),o=Fo();for(const c of n){const e=t.Ji(c.metadata.name);c.document&&(s=s.add(e));const n=t.Yi(c);n.setReadTime(t.Xi(c.metadata.readTime)),o=o.insert(e,n)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),l=yield nu(i,function(e){return js(Ls(jr.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>eu(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.Cs.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.Cs.addMatchingKeys(e,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)).next(()=>t.Wi)))})).apply(this,arguments)}function uu(e,t){return hu.apply(this,arguments)}function hu(){return(hu=(0,i.Z)(function*(e,t,n=Ho()){const r=yield nu(e,js(wl(t.bundledQuery))),i=wr(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=ca(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ns.saveNamedQuery(e,t);const o=r.withResumeToken(ki.EMPTY_BYTE_STRING,s);return i.Ui=i.Ui.insert(o.targetId,o),i.Cs.updateTargetData(e,o).next(()=>i.Cs.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Cs.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(e,t))})})).apply(this,arguments)}function du(e,t){return`firestore_clients_${e}_${t}`}function pu(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function fu(e,t){return`firestore_targets_${e}_${t}`}class mu{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Zi(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Sr(r.error.code,r.error.message))),s?new mu(e,t,r.state,i):(mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gu{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Zi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Sr(n.error.code,n.error.message))),i?new gu(e,n.state,r):(mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _u{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Zo();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Bi(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new _u(e,i):(mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yu{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yu(t.clientId,t.onlineState):(mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vu{constructor(){this.activeTargetIds=Zo()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bu{constructor(e,t,n,r,i){this.window=e,this.Hs=t,this.persistenceKey=n,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new bi(Lr),this.started=!1,this.cr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ar=du(this.persistenceKey,this.sr),this.hr=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new vu),this.lr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.wr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.mr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,i.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const t=e.getItem(du(e.persistenceKey,r));if(t){const n=_u.Zi(r,t);n&&(e.ur=e.ur.insert(n.clientId,n))}}e.gr();const n=e.storage.getItem(e.wr);if(n){const t=e.yr(n);t&&e.pr(t)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,n){this.Tr(e,t,n),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(fu(this.persistenceKey,e));if(n){const r=gu.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fu(this.persistenceKey,e))}updateQueryState(e,t,n){this.Rr(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Er(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return fr("SharedClientState","READ",e,t),t}setItem(e,t){fr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){fr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(fr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,i.Z)(function*(){if(t.started){if(null!==n.key)if(t.lr.test(n.key)){if(null==n.newValue){const e=t.vr(n.key);return t.Vr(e,null)}{const e=t.Sr(n.key,n.newValue);if(e)return t.Vr(e.clientId,e)}}else if(t.dr.test(n.key)){if(null!==n.newValue){const e=t.Dr(n.key,n.newValue);if(e)return t.Cr(e)}}else if(t._r.test(n.key)){if(null!==n.newValue){const e=t.Nr(n.key,n.newValue);if(e)return t.kr(e)}}else if(n.key===t.wr){if(null!==n.newValue){const e=t.yr(n.newValue);if(e)return t.pr(e)}}else if(n.key===t.hr){const e=function(e){let t=gi.at;if(null!=e)try{const n=JSON.parse(e);vr("number"==typeof n),t=n}catch(e){mr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==gi.at&&t.sequenceNumberHandler(e)}else if(n.key===t.mr){const e=t.Or(n.newValue);yield Promise.all(e.map(e=>t.syncEngine.Mr(e)))}}else t.cr.push(n)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,n){const r=new mu(this.currentUser,e,t,n),i=pu(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}Er(e){const t=pu(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,n){const r=fu(this.persistenceKey,e),i=new gu(e,t,n);this.setItem(r,i.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const n=this.vr(e);return _u.Zi(n,t)}Dr(e,t){const n=this.dr.exec(e),r=Number(n[1]);return mu.Zi(new cr(void 0!==n[2]?n[2]:null),r,t)}Nr(e,t){const n=this._r.exec(e),r=Number(n[1]);return gu.Zi(r,t)}yr(e){return yu.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,i.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);fr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const n=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),i=this.Ir(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.Br(s,o).then(()=>{this.ur=n})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Zo();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class wu{constructor(){this.Lr=new vu,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,n){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new vu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cu{qr(e){}shutdown(){}}class Su{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){fr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){fr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Eu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iu{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Tu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,n,r,i){const s=this.ho(e,t);fr("RestConnection","Sending: ",s,n);const o={};return this.lo(o,r,i),this.fo(e,s,o,n).then(e=>(fr("RestConnection","Received: ",e),e),t=>{throw gr("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}_o(e,t,n,r,i,s){return this.ao(e,t,n,r,i)}lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ur,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}ho(e,t){return`${this.oo}/v1/${t}:${Eu[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,n,r){return new Promise((i,s)=>{const o=new ar;o.listenOnce(nr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case tr.NO_ERROR:const t=o.getResponseJson();fr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case tr.TIMEOUT:fr("Connection",'RPC "'+e+'" timed out'),s(new Sr(Cr.DEADLINE_EXCEEDED,"Request time out"));break;case tr.HTTP_ERROR:const n=o.getStatus();if(fr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cr).indexOf(t)>=0?t:Cr.UNKNOWN}(e.status);s(new Sr(t,e.message))}else s(new Sr(Cr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Sr(Cr.UNAVAILABLE,"Connection failed."));break;default:yr()}}finally{fr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}wo(e,t,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xn(),s=er(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new sr({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const a=r.join("");fr("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let c=!1,u=!1;const h=new Iu({Hr:e=>{u?fr("Connection","Not sending because WebChannel is closed:",e):(c||(fr("Connection","Opening WebChannel transport."),l.open(),c=!0),fr("Connection","WebChannel sending:",e),l.send(e))},Jr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,or.EventType.OPEN,()=>{u||fr("Connection","WebChannel transport opened.")}),d(l,or.EventType.CLOSE,()=>{u||(u=!0,fr("Connection","WebChannel transport closed"),h.io())}),d(l,or.EventType.ERROR,e=>{u||(u=!0,gr("Connection","WebChannel transport errored:",e),h.io(new Sr(Cr.UNAVAILABLE,"The operation could not be completed")))}),d(l,or.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];vr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){fr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=Ro[e];if(void 0!==t)return Do(t)}(e),n=i.message;void 0===t&&(t=Cr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.io(new Sr(t,n)),l.close()}else fr("Connection","WebChannel received:",n),h.ro(n)}}),d(s,rr.STAT_EVENT,e=>{e.stat===ir.PROXY?fr("Connection","Detected buffering proxy"):e.stat===ir.NOPROXY&&fr("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function xu(){return"undefined"!=typeof window?window:null}function ku(){return"undefined"!=typeof document?document:null}function Au(e){return new sa(e,!0)}class Ru{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=t,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-n);r>0&&fr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Ou{constructor(e,t,n,r,i,s,o,a){this.Hs=e,this.vo=n,this.Vo=r,this.So=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ru(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,i.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,i.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var n=this;return(0,i.Z)(function*(){n.Uo(),n.qo(),n.No.cancel(),n.Do++,4!==e?n.No.reset():t&&t.code===Cr.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),n.No.Ao()):t&&t.code===Cr.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Ko(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Do===t&&this.Qo(e,n)},t=>{e(()=>{const e=new Sr(Cr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.jo(e)})})}Qo(e,t){const n=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{n(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(e=>{n(()=>this.jo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Mo(){var e=this;this.state=5,this.No.Ro((0,i.Z)(function*(){e.state=0,e.start()}))}jo(e){return fr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(fr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pu extends Ou{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.It=i}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.gt?(vr(void 0===t||"string"==typeof t),ki.fromBase64String(t||"")):(vr(void 0===t||t instanceof Uint8Array),ki.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Cr.UNKNOWN:Do(e.code);return new Sr(t,e.message||"")}(o);n=new Jo(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=pa(e,r.document.name),s=ca(r.document.updateTime),o=new ls({mapValue:{fields:r.document.fields}}),a=us.newFoundDocument(i,s,o);n=new Wo(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=pa(e,r.document),s=r.readTime?ca(r.readTime):Ur.min(),o=us.newNoDocument(i,s);n=new Wo([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=pa(e,r.document);n=new Wo([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return yr();{const e=t.filter,r=new Ao(e.count||0);n=new Qo(e.targetId,r)}}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Ur.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ur.min():t.readTime?ca(t.readTime):Ur.min()}(e);return this.listener.zo(t,n)}Ho(e){const t={};t.database=ga(this.It),t.addTarget=function(e,t){let n;const r=t.target;return n=ms(r)?{documents:Ca(e,r)}:{query:Sa(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=aa(e,t.resumeToken):t.snapshotVersion.compareTo(Ur.min())>0&&(n.readTime=oa(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Lo(t)}Jo(e){const t={};t.database=ga(this.It),t.removeTarget=e,this.Lo(t)}}class Du extends Ou{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.It=i,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(vr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function(e,t){return e&&e.length>0?(vr(void 0!==t),e.map(e=>function(e,t){let n=ca(e.updateTime?e.updateTime:t);return n.isEqual(Ur.min())&&(n=ca(t)),new po(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ca(e.commitTime);return this.listener.tu(n,t)}return vr(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=ga(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ba(this.It,e))};this.Lo(t)}}class Nu extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=n,this.It=r,this.su=!1}iu(){if(this.su)throw new Sr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,n){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.So.ao(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Cr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sr(Cr.UNKNOWN,e.toString())})}_o(e,t,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,t,n,i,s,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Cr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Sr(Cr.UNKNOWN,e.toString())})}terminate(){this.su=!0}}class Lu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(mr(t),this.uu=!1):fr("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Fu{constructor(e,t,n,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.qr(e=>{n.enqueueAndForget((0,i.Z)(function*(){var e;Zu(o)&&(fr("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,i.Z)(function*(e){const t=wr(e);t.wu.add(4),yield Uu(t),t.yu.set("Unknown"),t.wu.delete(4),yield Mu(t)}),function(t){return e.apply(this,arguments)})(o))}))}),this.yu=new Lu(n,r)}}function Mu(e){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,i.Z)(function*(e){if(Zu(e))for(const t of e.mu)yield t(!0)})).apply(this,arguments)}function Uu(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,i.Z)(function*(e){for(const t of e.mu)yield t(!1)})).apply(this,arguments)}function ju(e,t){const n=wr(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),$u(n)?Hu(n):Ch(n).Oo()&&zu(n,t))}function qu(e,t){const n=wr(e),r=Ch(n);n._u.delete(t),r.Oo()&&Gu(n,t),0===n._u.size&&(r.Oo()?r.$o():Zu(n)&&n.yu.set("Unknown"))}function zu(e,t){e.pu.Mt(t.targetId),Ch(e).Ho(t)}function Gu(e,t){e.pu.Mt(t),Ch(e).Jo(t)}function Hu(e){e.pu=new ea({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),se:t=>e._u.get(t)||null}),Ch(e).start(),e.yu.cu()}function $u(e){return Zu(e)&&!Ch(e).ko()&&e._u.size>0}function Zu(e){return 0===wr(e).wu.size}function Ku(e){e.pu=void 0}function Yu(e){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,i.Z)(function*(e){e._u.forEach((t,n)=>{zu(e,t)})})).apply(this,arguments)}function Qu(e,t){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,i.Z)(function*(e,t){Ku(e),$u(e)?(e.yu.lu(t),Hu(e)):e.yu.set("Unknown")})).apply(this,arguments)}function Xu(e,t,n){return eh.apply(this,arguments)}function eh(){return(eh=(0,i.Z)(function*(e,t,n){if(e.yu.set("Online"),t instanceof Jo&&2===t.state&&t.cause)try{yield(r=(0,i.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e._u.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e._u.delete(r),e.pu.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){fr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield th(e,n)}else if(t instanceof Wo?e.pu.Gt(t):t instanceof Qo?e.pu.Yt(t):e.pu.Wt(t),!n.isEqual(Ur.min()))try{const t=yield Jc(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.pu.te(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e._u.get(t);if(!n)return;e._u.set(t,n.withResumeToken(ki.EMPTY_BYTE_STRING,n.snapshotVersion)),Gu(e,t);const r=new dl(n.target,t,1,n.sequenceNumber);zu(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){fr("RemoteStore","Failed to raise snapshot:",t),yield th(e,t)}var r})).apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return(nh=(0,i.Z)(function*(e,t,n){if(!ci(t))throw t;e.wu.add(1),yield Uu(e),e.yu.set("Offline"),n||(n=()=>Jc(e.localStore)),e.asyncQueue.enqueueRetryable((0,i.Z)(function*(){fr("RemoteStore","Retrying IndexedDB access"),yield n(),e.wu.delete(1),yield Mu(e)}))})).apply(this,arguments)}function rh(e,t){return t().catch(n=>th(e,n,t))}function ih(e){return sh.apply(this,arguments)}function sh(){return(sh=(0,i.Z)(function*(e){const t=wr(e),n=Sh(t);let r=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;oh(t);)try{const e=yield tu(t.localStore,r);if(null===e){0===t.du.length&&n.$o();break}r=e.batchId,ah(t,e)}catch(e){yield th(t,e)}lh(t)&&ch(t)})).apply(this,arguments)}function oh(e){return Zu(e)&&e.du.length<10}function ah(e,t){e.du.push(t);const n=Sh(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function lh(e){return Zu(e)&&!Sh(e).ko()&&e.du.length>0}function ch(e){Sh(e).start()}function uh(e){return hh.apply(this,arguments)}function hh(){return(hh=(0,i.Z)(function*(e){Sh(e).nu()})).apply(this,arguments)}function dh(e){return ph.apply(this,arguments)}function ph(){return(ph=(0,i.Z)(function*(e){const t=Sh(e);for(const n of e.du)t.Zo(n.mutations)})).apply(this,arguments)}function fh(e,t,n){return mh.apply(this,arguments)}function mh(){return(mh=(0,i.Z)(function*(e,t,n){const r=e.du.shift(),i=ul.from(r,t,n);yield rh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield ih(e)})).apply(this,arguments)}function gh(e,t){return _h.apply(this,arguments)}function _h(){return(_h=(0,i.Z)(function*(e,t){var n;t&&Sh(e).Xo&&(yield(n=(0,i.Z)(function*(e,t){if(Po(n=t.code)&&n!==Cr.ABORTED){const n=e.du.shift();Sh(e).Fo(),yield rh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield ih(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),lh(e)&&ch(e)})).apply(this,arguments)}function yh(e,t){return vh.apply(this,arguments)}function vh(){return(vh=(0,i.Z)(function*(e,t){const n=wr(e);n.asyncQueue.verifyOperationInProgress(),fr("RemoteStore","RemoteStore received new credentials");const r=Zu(n);n.wu.add(3),yield Uu(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.wu.delete(3),yield Mu(n)})).apply(this,arguments)}function bh(e,t){return wh.apply(this,arguments)}function wh(){return(wh=(0,i.Z)(function*(e,t){const n=wr(e);t?(n.wu.delete(2),yield Mu(n)):t||(n.wu.add(2),yield Uu(n),n.yu.set("Unknown"))})).apply(this,arguments)}function Ch(e){return e.Iu||(e.Iu=function(e,t,n){const r=wr(e);return r.iu(),new Pu(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Yu.bind(null,e),Zr:Qu.bind(null,e),zo:Xu.bind(null,e)}),e.mu.push(function(){var t=(0,i.Z)(function*(t){t?(e.Iu.Fo(),$u(e)?Hu(e):e.yu.set("Unknown")):(yield e.Iu.stop(),Ku(e))});return function(e){return t.apply(this,arguments)}}())),e.Iu}function Sh(e){return e.Tu||(e.Tu=function(e,t,n){const r=wr(e);return r.iu(),new Du(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:uh.bind(null,e),Zr:gh.bind(null,e),eu:dh.bind(null,e),tu:fh.bind(null,e)}),e.mu.push(function(){var t=(0,i.Z)(function*(t){t?(e.Tu.Fo(),yield ih(e)):(yield e.Tu.stop(),e.du.length>0&&(fr("RemoteStore",`Stopping write stream with ${e.du.length} pending writes`),e.du=[]))});return function(e){return t.apply(this,arguments)}}())),e.Tu}class Eh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Eh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sr(Cr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ih(e,t){if(mr("AsyncQueue",`${t}: ${e}`),ci(e))return new Sr(Cr.UNAVAILABLE,`${t}: ${e}`);throw e}class Th{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gr.comparator(t.key,n.key):(e,t)=>Gr.comparator(e.key,t.key),this.keyedMap=Vo(),this.sortedSet=new bi(this.comparator)}static emptySet(e){return new Th(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Th))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Th;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xh{constructor(){this.Eu=new bi(Gr.comparator)}track(e){const t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):yr():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,n)=>{e.push(n)}),e}}class kh{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new kh(e,t,Th.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ah{constructor(){this.Ru=void 0,this.listeners=[]}}class Rh{constructor(){this.queries=new No(e=>Gs(e),zs),this.onlineState="Unknown",this.bu=new Set}}function Oh(e,t){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,i.Z)(function*(e,t){const n=wr(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ah),i)try{s.Ru=yield n.onListen(r)}catch(e){const n=Ih(e,`Initialization of query '${Hs(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Pu(n.onlineState),s.Ru&&t.vu(s.Ru)&&Mh(n)})).apply(this,arguments)}function Dh(e,t){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,i.Z)(function*(e,t){const n=wr(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Lh(e,t){const n=wr(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.vu(i)&&(r=!0);e.Ru=i}}r&&Mh(n)}function Fh(e,t,n){const r=wr(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Mh(e){e.bu.forEach(e=>{e.next()})}class Vh{constructor(e,t,n){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=n||{}}vu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new kh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.Vu.next(e)}}class Uh{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class Bh{constructor(e){this.It=e}Ji(e){return pa(this.It,e)}Yi(e){return e.metadata.exists?va(this.It,e.document,!1):us.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ca(e)}}class jh{constructor(e,t,n){this.Mu=e,this.localStore=t,this.It=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qh(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=jr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,n=new Bh(this.It);for(const r of e)if(r.metadata.queries){const e=n.Ji(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ho()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,i.Z)(function*(){const t=yield function(e,t,n,r){return cu.apply(this,arguments)}(e.localStore,new Bh(e.It),e.documents,e.Mu.id),n=e.$u(e.documents);for(const r of e.queries)yield uu(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function qh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class zh{constructor(e){this.key=e}}class Gh{constructor(e){this.key=e}}class Hh{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Ho(),this.mutatedKeys=Ho(),this.Gu=Ks(e),this.Qu=new Th(this.Gu)}get ju(){return this.Uu}Wu(e,t){const n=t?t.zu:new xh,r=t?t.Qu:this.Qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=$s(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Gu(u,a)>0||l&&this.Gu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Qu:s,zu:n,$i:o,mutatedKeys:i}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Au();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yr()}};return n(e)-n(t)}(e.type,t.type)||this.Gu(e.doc,t.doc)),this.Ju(n);const s=t?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.qu;return this.qu=o,0!==i.length||a?{snapshot:new kh(this.query,e.Qu,r,i,e.mutatedKeys,0===o,a,!1),Xu:s}:{Xu:s}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ho(),this.Qu.forEach(e=>{this.Zu(e.key)&&(this.Ku=this.Ku.add(e.key))});const t=[];return e.forEach(e=>{this.Ku.has(e)||t.push(new Gh(e))}),this.Ku.forEach(n=>{e.has(n)||t.push(new zh(n))}),t}tc(e){this.Uu=e.Hi,this.Ku=Ho();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return kh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class $h{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zh{constructor(e){this.key=e,this.nc=!1}}class Kh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new No(e=>Gs(e),zs),this.rc=new Map,this.oc=new Set,this.uc=new bi(Gr.comparator),this.cc=new Map,this.ac=new Ac,this.hc={},this.lc=new Map,this.fc=sc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Yh(e,t){return Wh.apply(this,arguments)}function Wh(){return(Wh=(0,i.Z)(function*(e,t){const n=Ud(e);let r,i;const s=n.ic.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const e=yield nu(n.localStore,js(t));n.isPrimaryClient&&ju(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Qh(n,t,r,"current"===s)}return i})).apply(this,arguments)}function Qh(e,t,n,r){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,i.Z)(function*(e,t,n,r){e._c=(t,n,r)=>{return(s=(0,i.Z)(function*(e,t,n,r){let i=t.view.Wu(n);i.$i&&(i=yield su(e.localStore,t.query,!1).then(({documents:e})=>t.view.Wu(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return gd(e,t.targetId,o.Xu),o.snapshot}),function(e,t,n,r){return s.apply(this,arguments)})(e,t,n,r);var s};const s=yield su(e.localStore,t,!0),o=new Hh(t,s.Hi),a=o.Wu(s.documents),l=Yo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(a,e.isPrimaryClient,l);gd(e,n,c.Xu);const u=new $h(t,n,o);return e.ic.set(t,u),e.rc.has(n)?e.rc.get(n).push(t):e.rc.set(n,[t]),c.snapshot})).apply(this,arguments)}function Xh(e,t){return ed.apply(this,arguments)}function ed(){return(ed=(0,i.Z)(function*(e,t){const n=wr(e),r=n.ic.get(t),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(e=>!zs(e,t))),void n.ic.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ru(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qu(n.remoteStore,r.targetId),fd(n,r.targetId)}).catch(ni))):(fd(n,r.targetId),yield ru(n.localStore,r.targetId,!0))})).apply(this,arguments)}function td(){return(td=(0,i.Z)(function*(e,t,n){const r=Bd(e);try{const e=yield function(e,t){const n=wr(e),r=Vr.now(),i=t.reduce((e,t)=>e.add(t.key),Ho());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Fo(),l=Ho();return n.Gi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=bo(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new So(e.key,t,cs(t.value.mapValue),fo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Uo(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.hc[e.currentUser.toKey()];r||(r=new bi(Lr)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(r,e.batchId,n),yield vd(r,e.changes),yield ih(r.remoteStore)}catch(e){const t=Ih(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return(rd=(0,i.Z)(function*(e,t){const n=wr(e);try{const e=yield Xc(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.cc.get(t);r&&(vr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.nc=!0:e.modifiedDocuments.size>0?vr(r.nc):e.removedDocuments.size>0&&(vr(r.nc),r.nc=!1))}),yield vd(n,e,t)}catch(e){yield ni(e)}})).apply(this,arguments)}function id(e,t,n){const r=wr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ic.forEach((n,r)=>{const i=r.view.Pu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=wr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Pu(t)&&(r=!0)}),r&&Mh(n)}(r.eventManager,t),e.length&&r.sc.zo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sd(e,t,n){return od.apply(this,arguments)}function od(){return(od=(0,i.Z)(function*(e,t,n){const r=wr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.cc.get(t),s=i&&i.key;if(s){let e=new bi(Gr.comparator);e=e.insert(s,us.newNoDocument(s,Ur.min()));const n=Ho().add(s),i=new Ko(Ur.min(),new Map,new Si(Lr),e,n);yield nd(r,i),r.uc=r.uc.remove(s),r.cc.delete(t),yd(r)}else yield ru(r.localStore,t,!1).then(()=>fd(r,t,n)).catch(ni)})).apply(this,arguments)}function ad(e,t){return ld.apply(this,arguments)}function ld(){return(ld=(0,i.Z)(function*(e,t){const n=wr(e),r=t.batch.batchId;try{const e=yield Qc(n.localStore,t);pd(n,r,null),dd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vd(n,e)}catch(e){yield ni(e)}})).apply(this,arguments)}function cd(e,t,n){return ud.apply(this,arguments)}function ud(){return(ud=(0,i.Z)(function*(e,t,n){const r=wr(e);try{const e=yield function(e,t){const n=wr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(vr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);pd(r,t,n),dd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield vd(r,e)}catch(n){yield ni(n)}})).apply(this,arguments)}function hd(){return(hd=(0,i.Z)(function*(e,t){const n=wr(e);Zu(n.remoteStore)||fr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=wr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.lc.get(e)||[];r.push(t),n.lc.set(e,r)}catch(e){const n=Ih(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function dd(e,t){(e.lc.get(t)||[]).forEach(e=>{e.resolve()}),e.lc.delete(t)}function pd(e,t,n){const r=wr(e);let i=r.hc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function fd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.rc.get(t))e.ic.delete(r),n&&e.sc.wc(r,n);e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach(t=>{e.ac.containsKey(t)||md(e,t)})}function md(e,t){e.oc.delete(t.path.canonicalString());const n=e.uc.get(t);null!==n&&(qu(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),yd(e))}function gd(e,t,n){for(const r of n)r instanceof zh?(e.ac.addReference(r.key,t),_d(e,r)):r instanceof Gh?(fr("SyncEngine","Document no longer in limbo: "+r.key),e.ac.removeReference(r.key,t),e.ac.containsKey(r.key)||md(e,r.key)):yr()}function _d(e,t){const n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(fr("SyncEngine","New document in limbo: "+n),e.oc.add(r),yd(e))}function yd(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){const t=e.oc.values().next().value;e.oc.delete(t);const n=new Gr(jr.fromString(t)),r=e.fc.next();e.cc.set(r,new Zh(n)),e.uc=e.uc.insert(n,r),ju(e.remoteStore,new dl(js(Ls(n.path)),r,2,gi.at))}}function vd(e,t,n){return bd.apply(this,arguments)}function bd(){return(bd=(0,i.Z)(function*(e,t,n){const r=wr(e),s=[],o=[],a=[];var l;r.ic.isEmpty()||(r.ic.forEach((e,i)=>{a.push(r._c(i,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=Hc.Ci(i.targetId,e);o.push(t)}}))}),yield Promise.all(a),r.sc.zo(s),yield(l=(0,i.Z)(function*(e,t){const n=wr(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ii.forEach(t,t=>ii.forEach(t.Si,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ii.forEach(t.Di,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!ci(e))throw e;fr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ui.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Ui=n.Ui.insert(e,r)}}}),function(e,t){return l.apply(this,arguments)})(r.localStore,o))})).apply(this,arguments)}function wd(e,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,i.Z)(function*(e,t){const n=wr(e);if(!n.currentUser.isEqual(t)){fr("SyncEngine","User change. New user:",t.toKey());const e=yield Yc(n.localStore,t);n.currentUser=t,function(e,t){e.lc.forEach(e=>{e.forEach(e=>{e.reject(new Sr(Cr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.lc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield vd(n,e.ji)}})).apply(this,arguments)}function Sd(e,t){const n=wr(e),r=n.cc.get(t);if(r&&r.nc)return Ho().add(r.key);{let e=Ho();const r=n.rc.get(t);if(!r)return e;for(const t of r){const r=n.ic.get(t);e=e.unionWith(r.view.ju)}return e}}function Ed(e,t){return Id.apply(this,arguments)}function Id(){return(Id=(0,i.Z)(function*(e,t){const n=wr(e),r=yield su(n.localStore,t.query,!0),i=t.view.tc(r);return n.isPrimaryClient&&gd(n,t.targetId,i.Xu),i})).apply(this,arguments)}function Td(e,t){return xd.apply(this,arguments)}function xd(){return(xd=(0,i.Z)(function*(e,t){const n=wr(e);return au(n.localStore,t).then(e=>vd(n,e))})).apply(this,arguments)}function kd(e,t,n,r){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,i.Z)(function*(e,t,n,r){const i=wr(e),s=yield function(e,t){const n=wr(e),r=wr(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Tn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):ii.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield ih(i.remoteStore):"acknowledged"===n||"rejected"===n?(pd(i,t,r||null),dd(i,t),function(e,t){wr(wr(e).mutationQueue).An(t)}(i.localStore,t)):yr(),yield vd(i,s)):fr("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Rd(){return(Rd=(0,i.Z)(function*(e,t){const n=wr(e);if(Ud(n),Bd(n),!0===t&&!0!==n.dc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Od(n,e.toArray());n.dc=!0,yield bh(n.remoteStore,!0);for(const r of t)ju(n.remoteStore,r)}else if(!1===t&&!1!==n.dc){const e=[];let t=Promise.resolve();n.rc.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(fd(n,i),ru(n.localStore,i,!0))),qu(n.remoteStore,i)}),yield t,yield Od(n,e),function(e){const t=wr(e);t.cc.forEach((e,n)=>{qu(t.remoteStore,n)}),t.ac.fs(),t.cc=new Map,t.uc=new bi(Gr.comparator)}(n),n.dc=!1,yield bh(n.remoteStore,!1)}})).apply(this,arguments)}function Od(e,t,n){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,i.Z)(function*(e,t,n){const r=wr(e),i=[],s=[];for(const o of t){let e;const t=r.rc.get(o);if(t&&0!==t.length){e=yield nu(r.localStore,js(t[0]));for(const e of t){const t=r.ic.get(e),n=yield Ed(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield ou(r.localStore,o);e=yield nu(r.localStore,t),yield Qh(r,Dd(t),o,!1)}i.push(e)}return r.sc.zo(s),i})).apply(this,arguments)}function Dd(e){return Ns(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Nd(e){const t=wr(e);return wr(wr(t.localStore).persistence).vi()}function Ld(e,t,n,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,i.Z)(function*(e,t,n,r){const i=wr(e);if(i.dc)return void fr("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=yield au(i.localStore,Zs(s[0])),r=Ko.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield vd(i,e,r);break}case"rejected":yield ru(i.localStore,t,!0),fd(i,t,r);break;default:yr()}})).apply(this,arguments)}function Md(e,t,n){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,i.Z)(function*(e,t,n){const r=Ud(e);if(r.dc){for(const e of t){if(r.rc.has(e)){fr("SyncEngine","Adding an already active target "+e);continue}const t=yield ou(r.localStore,e),n=yield nu(r.localStore,t);yield Qh(r,Dd(t),n.targetId,!1),ju(r.remoteStore,n)}for(const e of n)r.rc.has(e)&&(yield ru(r.localStore,e,!1).then(()=>{qu(r.remoteStore,e),fd(r,e)}).catch(ni))}})).apply(this,arguments)}function Ud(e){const t=wr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sd.bind(null,t),t.sc.zo=Lh.bind(null,t.eventManager),t.sc.wc=Fh.bind(null,t.eventManager),t}function Bd(e){const t=wr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ad.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cd.bind(null,t),t}class jd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,i.Z)(function*(){t.It=Au(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Kc(this.persistence,new $c,e.initialUser,this.It)}yc(e){return new Lc(Mc.Bs,this.It)}gc(e){return new wu}terminate(){var e=this;return(0,i.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class qd extends jd{constructor(e,t,n){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,i.Z)(function*(){yield t().call(n,e),yield n.Ac.initialize(n,e),yield Bd(n.Ac.syncEngine),yield ih(n.Ac.remoteStore),yield n.persistence.li(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Kc(this.persistence,new $c,e.initialUser,this.It)}Tc(e,t){return new dc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const n=new mi(t,this.persistence);return new fi(e.asyncQueue,n)}yc(e){const t=Gc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ql.withCacheSize(this.cacheSizeBytes):Ql.DEFAULT;return new jc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,xu(),ku(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new wu}}class zd extends qd{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,i.Z)(function*(){yield t().call(n,e);const r=n.Ac.syncEngine;n.sharedClientState instanceof bu&&(n.sharedClientState.syncEngine={Fr:kd.bind(null,r),$r:Ld.bind(null,r),Br:Md.bind(null,r),vi:Nd.bind(null,r),Mr:Td.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.li(function(){var e=(0,i.Z)(function*(e){yield function(e,t){return Rd.apply(this,arguments)}(n.Ac.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start():e||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(e&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():e||n.indexBackfillerScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}gc(e){const t=xu();if(!bu.C(t))throw new Sr(Cr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Gc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bu(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Gd{initialize(e,t){var n=this;return(0,i.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>id(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=wd.bind(null,n.syncEngine),yield bh(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rh}createDatastore(e){const t=Au(e.databaseInfo.databaseId),n=new Tu(e.databaseInfo);return function(e,t,n,r){return new Nu(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>id(this.syncEngine,e,0),s=Su.C()?new Su:new Cu,new Fu(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Kh(e,t,n,r,i,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,i.Z)(function*(e){const t=wr(e);fr("RemoteStore","RemoteStore shutting down."),t.wu.add(5),yield Uu(t),t.gu.shutdown(),t.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hd(e,t,n){if(!n)throw new Sr(Cr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $d(e,t,n,r){if(!0===t&&!0===r)throw new Sr(Cr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zd(e){if(!Gr.isDocumentKey(e))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Kd(e){if(Gr.isDocumentKey(e))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":yr()}function Wd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Sr(Cr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yd(e);throw new Sr(Cr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Qd(e,t){if(t<=0)throw new Sr(Cr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const Jd=new Map;class Xd{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Sr(Cr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Sr(Cr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ep{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Sr(Cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Sr(Cr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tr;switch(e.type){case"gapi":return new Rr(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Sr(Cr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jd.get(e);t&&(fr("ComponentProvider","Removing Datastore"),Jd.delete(e),t.terminate())}(this),Promise.resolve()}}function tp(e,t,n,r={}){var i;const s=(e=Wd(e,ep))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&gr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=cr.MOCK_USER;else{t=(0,l.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sr(Cr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new cr(s)}e._authCredentials=new xr(new Ir(t,n))}}class np{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ip(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new np(this.firestore,e,this._key)}}class rp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class ip extends rp{constructor(e,t,n){super(e,t,Ls(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new np(this.firestore,null,new Gr(e))}withConverter(e){return new ip(this.firestore,e,this._path)}}function sp(e,t,...n){if(e=(0,l.m9)(e),Hd("collection","path",t),e instanceof ep){const r=jr.fromString(t,...n);return Kd(r),new ip(e,null,r)}{if(!(e instanceof np||e instanceof ip))throw new Sr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(jr.fromString(t,...n));return Kd(r),new ip(e.firestore,null,r)}}function op(e,t){if(e=Wd(e,ep),Hd("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rp(e,null,function(e){return new Ds(jr.emptyPath(),e)}(t))}function ap(e,t,...n){if(e=(0,l.m9)(e),1===arguments.length&&(t=Nr.R()),Hd("doc","path",t),e instanceof ep){const r=jr.fromString(t,...n);return Zd(r),new np(e,null,new Gr(r))}{if(!(e instanceof np||e instanceof ip))throw new Sr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(jr.fromString(t,...n));return Zd(r),new np(e.firestore,e instanceof ip?e.converter:null,new Gr(r))}}function lp(e,t){return e=(0,l.m9)(e),t=(0,l.m9)(t),(e instanceof np||e instanceof ip)&&(t instanceof np||t instanceof ip)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cp(e,t){return e=(0,l.m9)(e),t=(0,l.m9)(t),e instanceof rp&&t instanceof rp&&e.firestore===t.firestore&&zs(e._query,t._query)&&e.converter===t.converter}function up(e,t=10240){let n=0;return{read:()=>(0,i.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,i.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class dp{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Er,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(e=>{e&&e.Ou()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,i.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,i.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,i.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const n=e.vc.decode(t),r=Number(n);isNaN(r)&&e.Dc(`length string (${n}) is not valid number`);const i=yield e.Cc(r);return new Uh(JSON.parse(i),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,i.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}Cc(e){var t=this;return(0,i.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const n=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,i.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class pp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,i.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Sr(Cr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,i.Z)(function*(e,t){const n=wr(e),r=ga(n.It)+"/documents",i={documents:t.map(e=>da(n.It,e))},s=yield n._o("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){vr(!!t.found);const n=pa(e,t.found.name),r=ca(t.found.updateTime),i=new ls({mapValue:{fields:t.found.fields}});return us.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){vr(!!t.missing),vr(!!t.readTime);const n=pa(e,t.missing),r=ca(t.readTime);return us.newNoDocument(n,r)}(e,t):yr()}(n.It,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());vr(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new xo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,i.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Gr.fromPath(n);e.mutations.push(new ko(r,e.precondition(r)))}),yield(n=(0,i.Z)(function*(e,t){const n=wr(e),r=ga(n.It)+"/documents",i={writes:t.map(e=>ba(n.It,e))};yield n.ao("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yr();t=Ur.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Sr(Cr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ur.min())?fo.exists(!1):fo.updateTime(t):fo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ur.min()))throw new Sr(Cr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fo.updateTime(t)}return fo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fp{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.kc=n.maxAttempts,this.No=new Ru(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,i.Z)(function*(){const t=new pp(e.datastore),n=e.Mc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.Fc(t)}))}).catch(t=>{e.Fc(t)})}))}Mc(e){try{const t=this.updateFunction(e);return!Vi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Po(t)}return!1}}class mp{constructor(e,t,n,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=cr.UNAUTHENTICATED,this.clientId=Nr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,i.Z)(function*(e){fr("FirestoreClient","Received user=",e.uid),yield s.authCredentialListener(e),s.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(fr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,i.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Sr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=Ih(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function gp(e,t){return _p.apply(this,arguments)}function _p(){return(_p=(0,i.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),fr("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,i.Z)(function*(e){r.isEqual(e)||(yield Yc(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function yp(e,t){return vp.apply(this,arguments)}function vp(){return(vp=(0,i.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield bp(e);fr("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>yh(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>yh(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function bp(e){return wp.apply(this,arguments)}function wp(){return(wp=(0,i.Z)(function*(e){return e.offlineComponents||(fr("FirestoreClient","Using default OfflineComponentProvider"),yield gp(e,new jd)),e.offlineComponents})).apply(this,arguments)}function Cp(e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,i.Z)(function*(e){return e.onlineComponents||(fr("FirestoreClient","Using default OnlineComponentProvider"),yield yp(e,new Gd)),e.onlineComponents})).apply(this,arguments)}function Ep(e){return bp(e).then(e=>e.persistence)}function Ip(e){return bp(e).then(e=>e.localStore)}function Tp(e){return Cp(e).then(e=>e.remoteStore)}function xp(e){return Cp(e).then(e=>e.syncEngine)}function kp(e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,i.Z)(function*(e){const t=yield Cp(e),n=t.eventManager;return n.onListen=Yh.bind(null,t.syncEngine),n.onUnlisten=Xh.bind(null,t.syncEngine),n})).apply(this,arguments)}function Rp(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t,n,r,i){const s=new hp({next:s=>{t.enqueueAndForget(()=>Dh(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Sr(Cr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Sr(Cr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Vh(Ls(n.path),s,{includeMetadataChanges:!0,ku:!0});return Oh(e,o)}(yield kp(e),e.asyncQueue,t,n,r)})),r.promise}function Op(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t,n,r,i){const s=new hp({next:n=>{t.enqueueAndForget(()=>Dh(e,o)),n.fromCache&&"server"===r.source?i.reject(new Sr(Cr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Vh(n,s,{includeMetadataChanges:!0,ku:!0});return Oh(e,o)}(yield kp(e),e.asyncQueue,t,n,r)})),r.promise}class Pp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new Ru(this,"async_queue_retry"),this.Wc=()=>{const e=ku();e&&fr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const e=ku();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=ku();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Er;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,i.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(C){if(!ci(C))throw C;fr("AsyncQueue","Operation failed with retryable error: "+C)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(e=>{throw this.Kc=e,this.Gc=!1,mr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Gc=!1,e))));return this.Bc=t,t}enqueueAfterDelay(e,t,n){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=Eh.createAndSchedule(this,e,t,n,e=>this.Yc(e));return this.qc.push(r),r}zc(){this.Kc&&yr()}verifyOperationInProgress(){}Xc(){var e=this;return(0,i.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Dp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Np{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Lp=-1;class Fp extends ep{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Pp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Bp(this),this._firestoreClient.terminate()}}function Mp(e,t,n){n||(n="(default)");const r=(0,s._getProvider)(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n}),i=r.getOptions(n);if((0,l.vZ)(i,t))return e;throw new Sr(Cr.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sr(Cr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function Vp(e,t){const n="object"==typeof e?e:(0,s.getApp)(),r="string"==typeof e?e:t||"(default)",i=(0,s._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.q4)("firestore");if(e){const[t,n]=e.split(":");tp(i,t,parseInt(n,10))}}return i}function Up(e){return e._firestoreClient||Bp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Bp(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Fi(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mp(e._authCredentials,e._appCheckCredentials,e._queue,r)}function jp(e,t){Qp(e=Wd(e,Fp));const n=Up(e),r=e._freezeSettings(),i=new Gd;return zp(n,i,new qd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function qp(e){Qp(e=Wd(e,Fp));const t=Up(e),n=e._freezeSettings(),r=new Gd;return zp(t,r,new zd(r,n.cacheSizeBytes))}function zp(e,t,n){const r=new Er;return e.asyncQueue.enqueue((0,i.Z)(function*(){try{yield gp(e,n),yield yp(e,t),r.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===Cr.FAILED_PRECONDITION||e.code===Cr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;gr("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then(()=>r.promise)}function Gp(e){if(e._initialized&&!e._terminated)throw new Sr(Cr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Er;return e._queue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(function*(){try{yield(n=(0,i.Z)(function*(e){if(!oi.C())return Promise.resolve();const t=e+"main";yield oi.delete(t)}),function(e){return n.apply(this,arguments)})(Gc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}function Hp(e){return function(e){const t=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t){return hd.apply(this,arguments)}(yield xp(e),t)})),t.promise}(Up(e=Wd(e,Fp)))}function $p(e){return function(e){return e.asyncQueue.enqueue((0,i.Z)(function*(){const t=yield Ep(e),n=yield Tp(e);return t.setNetworkEnabled(!0),function(e){const t=wr(e);return t.wu.delete(0),Mu(t)}(n)}))}(Up(e=Wd(e,Fp)))}function Zp(e){return function(e){return e.asyncQueue.enqueue((0,i.Z)(function*(){const t=yield Ep(e),n=yield Tp(e);return t.setNetworkEnabled(!1),(r=(0,i.Z)(function*(e){const t=wr(e);t.wu.add(0),yield Uu(t),t.yu.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(Up(e=Wd(e,Fp)))}function Kp(e){return(0,s._removeServiceInstance)(e.app,"firestore",e._databaseId.database),e._delete()}function Yp(e,t){const n=Up(e=Wd(e,Fp)),r=new Np;return function(e,t,n,r){const s=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new dp(e,t)}(function(e,t){if(e instanceof Uint8Array)return up(e,t);if(e instanceof ArrayBuffer)return up(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Au(t));e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){!function(e,t,n){const r=wr(e);var s;(s=(0,i.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=wr(e),r=ca(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ns.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(qh(r));const i=new jh(r,e.localStore,t.It);let s=yield t.mc();for(;s;){const e=yield i.Fu(s);e&&n._updateProgress(e),s=yield t.mc()}const o=yield i.complete();return yield vd(e,o.Lu,void 0),yield function(e,t){const n=wr(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ns.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Bu)}catch(e){return gr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}),function(e,t,n){return s.apply(this,arguments)})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(yield xp(e),s,r)}))}(n,e._databaseId,t,r),r}function Wp(e,t){return function(e,t){return e.asyncQueue.enqueue((0,i.Z)(function*(){return function(e,t){const n=wr(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ns.getNamedQuery(e,t))}(yield Ip(e),t)}))}(Up(e=Wd(e,Fp)),t).then(t=>t?new rp(e,null,t.query):null)}function Qp(e){if(e._initialized||e._terminated)throw new Sr(Cr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jp(ki.fromBase64String(e))}catch(e){throw new Sr(Cr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Jp(ki.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Sr(Cr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function ef(){return new Xp("__name__")}class tf{constructor(e){this._methodName=e}}class nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Sr(Cr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Sr(Cr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lr(this._lat,e._lat)||Lr(this._long,e._long)}}const rf=/^__.*__$/;class sf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new So(e,this.data,this.fieldMask,t,this.fieldTransforms):new Co(e,this.data,t,this.fieldTransforms)}}class of{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new So(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function af(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yr()}}class lf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.It=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new lf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}ca(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return kf(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(af(this.sa)&&rf.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class cf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=n||Au(e)}da(e,t,n,r=!1){return new lf({sa:e,methodName:t,fa:n,path:zr.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function uf(e){const t=e._freezeSettings(),n=Au(e._databaseId);return new cf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function hf(e,t,n,r,i,s={}){const o=e.da(s.merge||s.mergeFields?2:0,t,n,i);Ef("Data must be an object, but it was:",o,r);const a=Cf(r,o);let l,c;if(s.merge)l=new Ti(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=If(t,r,n);if(!o.contains(i))throw new Sr(Cr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Af(e,i)||e.push(i)}l=new Ti(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new sf(new ls(a),l,c)}class df extends tf{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}function pf(e,t,n){return new lf({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}class ff extends tf{_toFieldTransform(e){return new ho(e.path,new ro)}isEqual(e){return e instanceof ff}}class mf extends tf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pf(this,e,!0),n=this._a.map(e=>wf(e,t)),r=new io(n);return new ho(e.path,r)}isEqual(e){return this===e}}class gf extends tf{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=pf(this,e,!0),n=this._a.map(e=>wf(e,t)),r=new oo(n);return new ho(e.path,r)}isEqual(e){return this===e}}class _f extends tf{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new lo(e.It,Js(e.It,this.wa));return new ho(e.path,t)}isEqual(e){return this===e}}function yf(e,t,n,r){const i=e.da(1,t,n);Ef("Data must be an object, but it was:",i,r);const s=[],o=ls.empty();yi(r,(e,r)=>{const a=xf(t,e,n);r=(0,l.m9)(r);const c=i.ca(a);if(r instanceof df)s.push(a);else{const e=wf(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new Ti(s);return new of(o,a,i.fieldTransforms)}function vf(e,t,n,r,i,s){const o=e.da(1,t,n),a=[If(t,r,n)],c=[i];if(s.length%2!=0)throw new Sr(Cr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<s.length;l+=2)a.push(If(t,s[l])),c.push(s[l+1]);const u=[],h=ls.empty();for(let p=a.length-1;p>=0;--p)if(!Af(u,a[p])){const e=a[p];let t=c[p];t=(0,l.m9)(t);const n=o.ca(e);if(t instanceof df)u.push(e);else{const r=wf(t,n);null!=r&&(u.push(e),h.set(e,r))}}const d=new Ti(u);return new of(h,d,o.fieldTransforms)}function bf(e,t,n,r=!1){return wf(n,e.da(r?4:3,t))}function wf(e,t){if(Sf(e=(0,l.m9)(e)))return Ef("Unsupported field value:",t,e),Cf(e,t);if(e instanceof tf)return function(e,t){if(!af(t.sa))throw t.ha(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.ha(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wf(i,t.aa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Js(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vr.fromDate(e);return{timestampValue:oa(t.It,n)}}if(e instanceof Vr){const n=new Vr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oa(t.It,n)}}if(e instanceof nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Jp)return{bytesValue:aa(t.It,e._byteString)};if(e instanceof np){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ua(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha(`Unsupported field value: ${Yd(e)}`)}(e,t)}function Cf(e,t){const n={};return vi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yi(e,(e,r)=>{const i=wf(r,t.ra(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Sf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vr||e instanceof nf||e instanceof Jp||e instanceof np||e instanceof tf)}function Ef(e,t,n){if(!Sf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Yd(n);throw t.ha("an object"===r?e+" a custom object":e+" "+r)}}function If(e,t,n){if((t=(0,l.m9)(t))instanceof Xp)return t._internalPath;if("string"==typeof t)return xf(e,t);throw kf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Tf=new RegExp("[~\\*/\\[\\]]");function xf(e,t,n){if(t.search(Tf)>=0)throw kf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Xp(...t.split("."))._internalPath}catch(r){throw kf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kf(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Sr(Cr.INVALID_ARGUMENT,a+e+l)}function Af(e,t){return e.some(e=>e.isEqual(t))}class Rf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new np(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Of(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Of extends Rf{data(){return super.data()}}function Pf(e,t){return"string"==typeof t?xf(e,t):t instanceof Xp?t._internalPath:t._delegate._internalPath}function Df(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Sr(Cr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nf{}function Lf(e,...t){for(const n of t)e=n._apply(e);return e}class Ff extends Nf{constructor(e,t,n){super(),this.ma=e,this.ga=t,this.ya=n,this.type="where"}_apply(e){const t=uf(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qf(o,s);const t=[];for(const n of o)t.push(Wf(r,e,n));a={arrayValue:{values:t}}}else a=Wf(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qf(o,s),a=bf(n,"where",o,"in"===s||"not-in"===s);const l=vs.create(i,s,a);return function(e,t){if(t.dt()){const n=Vs(e);if(null!==n&&!n.isEqual(t.field))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Ms(e);null!==r&&Jf(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Sr(Cr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new rp(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Mf(e,t,n){const r=t,i=Pf("where",e);return new Ff(i,r,n)}class Vf extends Nf{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Sr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Sr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new As(t,n);return function(e,t){if(null===Ms(e)){const n=Vs(e);null!==n&&Jf(0,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new rp(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ds(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Uf(e,t="asc"){const n=t,r=Pf("orderBy",e);return new Vf(r,n)}class Bf extends Nf{constructor(e,t,n){super(),this.type=e,this.Ia=t,this.Ta=n}_apply(e){return new rp(e.firestore,e.converter,qs(e._query,this.Ia,this.Ta))}}function jf(e){return Qd("limit",e),new Bf("limit",e,"F")}function qf(e){return Qd("limitToLast",e),new Bf("limitToLast",e,"L")}class zf extends Nf{constructor(e,t,n){super(),this.type=e,this.Ea=t,this.Aa=n}_apply(e){const t=Yf(e,this.type,this.Ea,this.Aa);return new rp(e.firestore,e.converter,function(e,t){return new Ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Gf(...e){return new zf("startAt",e,!0)}function Hf(...e){return new zf("startAfter",e,!1)}class $f extends Nf{constructor(e,t,n){super(),this.type=e,this.Ea=t,this.Aa=n}_apply(e){const t=Yf(e,this.type,this.Ea,this.Aa);return new rp(e.firestore,e.converter,function(e,t){return new Ds(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Zf(...e){return new $f("endBefore",e,!1)}function Kf(...e){return new $f("endAt",e,!0)}function Yf(e,t,n,r){if(n[0]=(0,l.m9)(n[0]),n[0]instanceof Rf)return function(e,t,n,r,i){if(!r)throw new Sr(Cr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Bs(e))if(o.field.isKeyField())s.push(Wi(t,r.key));else{const e=r.data.field(o.field);if(Di(e))throw new Sr(Cr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ks(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=uf(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Sr(Cr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Us(e)&&-1!==s.indexOf("/"))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(jr.fromString(s));if(!Gr.isDocumentKey(n))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Gr(n);a.push(Wi(t,i))}else{const e=bf(n,r,s);a.push(e)}}return new ks(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Wf(e,t,n){if("string"==typeof(n=(0,l.m9)(n))){if(""===n)throw new Sr(Cr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Us(t)&&-1!==n.indexOf("/"))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(jr.fromString(n));if(!Gr.isDocumentKey(r))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wi(e,new Gr(r))}if(n instanceof np)return Wi(e,n._key);throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(n)}.`)}function Qf(e,t){if(!Array.isArray(e)||0===e.length)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Sr(Cr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Jf(e,t,n){if(!n.isEqual(t))throw new Sr(Cr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Xf{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yr()}}convertObject(e,t){const n={};return yi(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new nf(Oi(e.latitude),Oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ni(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Li(e));default:return null}}convertTimestamp(e){const t=Ri(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jr.fromString(e);vr(Da(n));const r=new Mi(n.get(1),n.get(3)),i=new Gr(n.popFirst(5));return r.isEqual(t)||mr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function em(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class tm extends Xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new np(this.firestore,null,t)}}class nm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rm extends Rf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Pf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class im extends rm{data(e={}){return super.data(e)}}class sm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new nm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new im(this._firestore,this._userDataWriter,n.key,n,new nm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Sr(Cr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new im(e._firestore,e._userDataWriter,n.doc.key,n.doc,new nm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new im(e._firestore,e._userDataWriter,t.doc.key,t.doc,new nm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:om(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function om(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yr()}}function am(e,t){return e instanceof rm&&t instanceof rm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof sm&&t instanceof sm&&e._firestore===t._firestore&&cp(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lm(e){e=Wd(e,np);const t=Wd(e.firestore,Fp);return Rp(Up(t),e._key).then(n=>Cm(t,e,n))}class cm extends Xf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new np(this.firestore,null,t)}}function um(e){e=Wd(e,np);const t=Wd(e.firestore,Fp),n=Up(t),r=new cm(t);return function(e,t){const n=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return(r=(0,i.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=wr(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Sr(Cr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ih(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Ip(e),t,n);var r})),n.promise}(n,e._key).then(n=>new rm(t,r,e._key,n,new nm(null!==n&&n.hasLocalMutations,!0),e.converter))}function hm(e){e=Wd(e,np);const t=Wd(e.firestore,Fp);return Rp(Up(t),e._key,{source:"server"}).then(n=>Cm(t,e,n))}function dm(e){e=Wd(e,rp);const t=Wd(e.firestore,Fp),n=Up(t),r=new cm(t);return Df(e._query),Op(n,e._query).then(n=>new sm(t,r,e,n))}function pm(e){e=Wd(e,rp);const t=Wd(e.firestore,Fp),n=Up(t),r=new cm(t);return function(e,t){const n=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return(r=(0,i.Z)(function*(e,t,n){try{const r=yield su(e,t,!0),i=new Hh(t,r.Hi),s=i.Wu(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ih(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield Ip(e),t,n);var r})),n.promise}(n,e._query).then(n=>new sm(t,r,e,n))}function fm(e){e=Wd(e,rp);const t=Wd(e.firestore,Fp),n=Up(t),r=new cm(t);return Op(n,e._query,{source:"server"}).then(n=>new sm(t,r,e,n))}function mm(e,t,n){e=Wd(e,np);const r=Wd(e.firestore,Fp),i=em(e.converter,t,n);return wm(r,[hf(uf(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fo.none())])}function gm(e,t,n,...r){e=Wd(e,np);const i=Wd(e.firestore,Fp),s=uf(i);let o;return o="string"==typeof(t=(0,l.m9)(t))||t instanceof Xp?vf(s,"updateDoc",e._key,t,n,r):yf(s,"updateDoc",e._key,t),wm(i,[o.toMutation(e._key,fo.exists(!0))])}function _m(e){return wm(Wd(e.firestore,Fp),[new xo(e._key,fo.none())])}function ym(e,t){const n=Wd(e.firestore,Fp),r=ap(e),i=em(e.converter,t);return wm(n,[hf(uf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fo.exists(!1))]).then(()=>r)}function vm(e,...t){var n,r,s;e=(0,l.m9)(e);let o={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||Dp(t[a])||(o=t[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Dp(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,h,d;if(e instanceof np)h=Wd(e.firestore,Fp),d=Ls(e._key.path),u={next:n=>{t[a]&&t[a](Cm(h,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Wd(e,rp);h=Wd(n.firestore,Fp),d=n._query;const r=new cm(h);u={next:e=>{t[a]&&t[a](new sm(h,r,n,e))},error:t[a+1],complete:t[a+2]},Df(e._query)}return function(e,t,n,r){const s=new hp(r),o=new Vh(t,s,n);return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return Oh(yield kp(e),o)})),()=>{s.bc(),e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return Dh(yield kp(e),o)}))}}(Up(h),d,c,u)}function bm(e,t){return function(e,t){const n=new hp(t);return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t){wr(e).bu.add(t),t.next()}(yield kp(e),n)})),()=>{n.bc(),e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t){wr(e).bu.delete(t)}(yield kp(e),n)}))}}(Up(e=Wd(e,Fp)),Dp(t)?t:{next:t})}function wm(e,t){return function(e,t){const n=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(e,t,n){return td.apply(this,arguments)}(yield xp(e),t,n)})),n.promise}(Up(e),t)}function Cm(e,t,n){const r=n.docs.get(t._key),i=new cm(e);return new rm(e,i,t._key,r,new nm(n.hasPendingWrites,n.fromCache),t.converter)}const Sm={maxAttempts:5};class Em{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uf(e)}set(e,t,n){this._verifyNotCommitted();const r=Im(e,this._firestore),i=em(r.converter,t,n),s=hf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,fo.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Im(e,this._firestore);let s;return s="string"==typeof(t=(0,l.m9)(t))||t instanceof Xp?vf(this._dataReader,"WriteBatch.update",i._key,t,n,r):yf(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Im(e,this._firestore);return this._mutations=this._mutations.concat(new xo(t._key,fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Sr(Cr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Im(e,t){if((e=(0,l.m9)(e)).firestore!==t)throw new Sr(Cr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Tm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=uf(e)}get(e){const t=Im(e,this._firestore),n=new tm(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return yr();const r=e[0];if(r.isFoundDocument())return new Rf(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Rf(this._firestore,n,t._key,null,t.converter);throw yr()})}set(e,t,n){const r=Im(e,this._firestore),i=em(r.converter,t,n),s=hf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Im(e,this._firestore);let s;return s="string"==typeof(t=(0,l.m9)(t))||t instanceof Xp?vf(this._dataReader,"Transaction.update",i._key,t,n,r):yf(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Im(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Im(e,this._firestore),n=new cm(this._firestore);return super.get(e).then(e=>new rm(this._firestore,n,t._key,e._document,new nm(!1,!1),t.converter))}}function xm(e,t,n){e=Wd(e,Fp);const r=Object.assign(Object.assign({},Sm),n);return function(e){if(e.maxAttempts<1)throw new Sr(Cr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Er;return e.asyncQueue.enqueueAndForget((0,i.Z)(function*(){const i=yield function(e){return Cp(e).then(e=>e.datastore)}(e);new fp(e.asyncQueue,i,n,t,r).run()})),r.promise}(Up(e),n=>t(new Tm(e,n)),r)}function km(){return new df("deleteField")}function Am(){return new ff("serverTimestamp")}function Rm(...e){return new mf("arrayUnion",e)}function Om(...e){return new gf("arrayRemove",e)}function Pm(e){return new _f("increment",e)}function Dm(e){return Up(e=Wd(e,Fp)),new Em(e,t=>wm(e,t))}!function(e,t=!0){!function(e){ur=e}(s.SDK_VERSION),(0,s._registerComponent)(new o.wA("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new Fp(new kr(e.getProvider("auth-internal")),new Pr(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Sr(Cr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mi(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(lr,"3.6.0",e),(0,s.registerVersion)(lr,"3.6.0","esm2017")}()},8231:(e,t,n)=>{"use strict";var r=n(6304),i=n(7964),s=n(1947),o=n(5725),a=n(4890);const l="@firebase/installations",c="0.5.13",u="w:0.5.13",h="FIS_v2",d=new o.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function p(e){return e instanceof o.ZR&&e.code.includes("request-failed")}function f({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function m(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function g(e,t){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(function*(e,t){const n=(yield t.json()).error;return d.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function y({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function v(e,{refreshToken:t}){const n=y(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function C(e,t){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=f(e),i=y(e),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:h,appId:e.appId,sdkVersion:u})},a=yield b(()=>fetch(r,o));if(a.ok){const e=yield a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:m(e.authToken)}}throw yield g("Create Installation",a)})).apply(this,arguments)}function E(e){return new Promise(t=>{setTimeout(t,e)})}const I=/^[cdef][\w-]{21}$/;function T(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return I.test(t)?t:""}catch(e){return""}}function x(e){return`${e.appName}!${e.appId}`}const k=new Map;function A(e,t){const n=x(e);R(n,t),function(e,t){const n=(!O&&"BroadcastChannel"in self&&(O=new BroadcastChannel("[Firebase] FID Change"),O.onmessage=e=>{R(e.data.key,e.data.fid)}),O);n&&n.postMessage({key:e,fid:t}),0===k.size&&O&&(O.close(),O=null)}(n,t)}function R(e,t){const n=k.get(e);if(n)for(const r of n)r(t)}let O=null;const P="firebase-installations-store";let D=null;function N(){return D||(D=(0,a.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(P)}}})),D}function L(e,t){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t){const n=x(e),r=(yield N()).transaction(P,"readwrite"),i=r.objectStore(P),s=yield i.get(n);return yield i.put(t,n),yield r.done,s&&s.fid===t.fid||A(e,t.fid),t})).apply(this,arguments)}function M(e){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e){const t=x(e),n=(yield N()).transaction(P,"readwrite");yield n.objectStore(P).delete(t),yield n.done})).apply(this,arguments)}function U(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){const n=x(e),r=(yield N()).transaction(P,"readwrite"),i=r.objectStore(P),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.done,!o||s&&s.fid===o.fid||A(e,o.fid),o})).apply(this,arguments)}function j(e){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e){let t;const n=yield U(e.appConfig,n=>{const r=z(n),i=G(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function z(e){return Y(e||{fid:T(),registrationStatus:0})}function G(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(d.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return H.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$(e)}:{installationEntry:t}}function H(){return(H=(0,r.Z)(function*(e,t){try{const n=yield C(e,t);return L(e.appConfig,n)}catch(n){throw p(n)&&409===n.customData.serverCode?yield M(e.appConfig):yield L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e){let t=yield K(e.appConfig);for(;1===t.registrationStatus;)yield E(100),t=yield K(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield j(e);return n||t}return t})).apply(this,arguments)}function K(e){return U(e,e=>{if(!e)throw d.create("installation-not-found");return Y(e)})}function Y(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,r.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=J(e,n),i=v(e,n),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:u,appId:e.appId}})},a=yield b(()=>fetch(r,o));if(a.ok)return m(yield a.json());throw yield g("Generate Auth Token",a)})).apply(this,arguments)}function J(e,{fid:t}){return`${f(e)}/${t}/authTokens:generate`}function X(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,r.Z)(function*(e,t=!1){let n;const r=yield U(e.appConfig,r=>{if(!oe(r))throw d.create("not-registered");const i=r.authToken;if(!t&&ae(i))return r;if(1===i.requestStatus)return n=te(e,t),r;{if(!navigator.onLine)throw d.create("app-offline");const t=le(r);return n=ie(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(e,t){let n=yield re(e.appConfig);for(;1===n.authToken.requestStatus;)yield E(100),n=yield re(e.appConfig);const r=n.authToken;return 0===r.requestStatus?X(e,t):r})).apply(this,arguments)}function re(e){return U(e,e=>{if(!oe(e))throw d.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e,t){try{const n=yield W(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield L(e.appConfig,r),n}catch(n){if(!p(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield L(e.appConfig,n)}else yield M(e.appConfig);throw n}})).apply(this,arguments)}function oe(e){return void 0!==e&&2===e.registrationStatus}function ae(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function le(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ce(){return(ce=(0,r.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield j(t);return r?r.catch(console.error):X(t).catch(console.error),n.fid})).apply(this,arguments)}function ue(){return(ue=(0,r.Z)(function*(e,t=!1){const n=e;return yield he(n),(yield X(n,t)).token})).apply(this,arguments)}function he(e){return de.apply(this,arguments)}function de(){return(de=(0,r.Z)(function*(e){const{registrationPromise:t}=yield j(e);t&&(yield t)})).apply(this,arguments)}function pe(e){return d.create("missing-app-config-values",{valueName:e})}const fe="installations";(0,i._registerComponent)(new s.wA(fe,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw pe("App Configuration");if(!e.name)throw pe("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw pe(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:(0,i._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,i._registerComponent)(new s.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,i._getProvider)(t,fe).getImmediate();return{getId:()=>function(e){return ce.apply(this,arguments)}(n),getToken:e=>function(e){return ue.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,i.registerVersion)(l,c),(0,i.registerVersion)(l,c,"esm2017")},8678:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},5725:(e,t,n)=>{"use strict";n.d(t,{BH:()=>A,LL:()=>P,ZR:()=>O,gQ:()=>K,zI:()=>S,hu:()=>r,g5:()=>i,US:()=>o,tV:()=>c,h$:()=>a,L:()=>l,$s:()=>ne,r3:()=>U,Sg:()=>R,ne:()=>Y,p$:()=>u,vZ:()=>z,ZB:()=>h,gK:()=>J,pd:()=>Z,aH:()=>x,q4:()=>T,Pz:()=>k,Rd:()=>E,m9:()=>re,z$:()=>d,GJ:()=>V,jU:()=>m,ru:()=>g,xb:()=>j,w1:()=>y,hl:()=>w,uI:()=>p,UG:()=>f,Yr:()=>v,b$:()=>_,G6:()=>b,w9:()=>M,cI:()=>N,UI:()=>q,xO:()=>H,zd:()=>$,DV:()=>B,ug:()=>ee,dS:()=>X,Wl:()=>L,k$:()=>te,eu:()=>C});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=s(e);return o.encodeByteArray(t,!0)},l=function(e){return a(e).replace(/\./g,"")},c=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function m(){return"object"==typeof self&&self.self===self}function g(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){const e=d();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return!1}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}function C(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function S(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function E(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}const I=()=>E().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=process.env.__FIREBASE_DEFAULTS__,t=process.env.__FIREBASE_DEFAULTS_PATH__;if(e)return t&&console.warn("Values were provided for both __FIREBASE_DEFAULTS__ and __FIREBASE_DEFAULTS_PATH__. __FIREBASE_DEFAULTS_PATH__ will be ignored."),JSON.parse(e);if(t)try{return n(9163)(t)}catch(r){console.warn(`Unable to read defaults from file provided to __FIREBASE_DEFAULTS_PATH__: ${t}`)}})()||(()=>{if("undefined"==typeof document)return;const e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/),t=e&&c(e[1]);return t&&JSON.parse(t)})(),T=e=>{var t,n;return null===(n=null===(t=I())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},x=()=>{var e;return null===(e=I())||void 0===e?void 0:e.config},k=e=>{var t;return null===(t=I())||void 0===t?void 0:t[`_${e}`]};class A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function R(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P.prototype.create)}}class P{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new O(r,`${this.serviceName}: ${s} (${r}).`,n)}}const D=/\{\$([^}]+)}/g;function N(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}const F=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=N(c(s[0])||""),n=N(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}},M=function(e){const t=F(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},V=function(e){const t=F(e).claims;return"object"==typeof t&&!0===t.admin};function U(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function j(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function q(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(G(n)&&G(s)){if(!z(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G(e){return null!==e&&"object"==typeof e}function H(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function $(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class K{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function Y(e,t){const n=new W(e,t);return n.subscribe.bind(n)}class W{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q(){}function J(e,t){return`${e} failed: ${t} argument `}const X=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);if(s>=55296&&s<=56319){const t=s-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(i)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ee=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},te=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};function ne(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function re(e){return e&&e._delegate?e._delegate:e}},4701:(e,t,n)=>{"use strict";n.d(t,{IH:()=>X,MB:()=>ee,Gb:()=>te,Kz:()=>ae,EI:()=>oe,lT:()=>re,Iv:()=>ie,xP:()=>se,Xd:()=>J});var r=n(6304),i=n(7964),s=n(8678),o=n(5725),a=n(1947);n(8231);const l="analytics",c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u="https://www.googletagmanager.com/gtag/js",h=new s.Yd("@firebase/analytics");function d(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function p(e,t){const n=document.createElement("script");n.src=`${u}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function f(e,t,n,r,i,s){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield d(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){h.error(a)}e("config",i,s)})).apply(this,arguments)}function g(e,t,n,r,i){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield d(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){h.error(s)}})).apply(this,arguments)}function y(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(u))return t;return null}const v=new o.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),b=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function w(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function C(e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:w(r)},s=c.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw v.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(function*(e,t=b,n){const{appId:i,apiKey:s,measurementId:o}=e.options;if(!i)throw v.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw v.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new R;return setTimeout((0,r.Z)(function*(){l.abort()}),void 0!==n?n:6e4),T({appId:i,apiKey:s,measurementId:o},a,l,t)})).apply(this,arguments)}function T(e,t,n){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=b){var s,a;const{appId:l,measurementId:c}=e;try{yield k(r,t)}catch(u){if(c)return h.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null===(s=u)||void 0===s?void 0:s.message}]`),{appId:l,measurementId:c};throw u}try{const t=yield C(e);return i.deleteThrottleMetadata(l),t}catch(u){const t=u;if(!A(t)){if(i.deleteThrottleMetadata(l),c)return h.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:l,measurementId:c};throw u}const s=503===Number(null===(a=null==t?void 0:t.customData)||void 0===a?void 0:a.httpStatus)?(0,o.$s)(n,i.intervalMillis,30):(0,o.$s)(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return i.setThrottleMetadata(l,d),h.debug(`Calling attemptFetch again in ${s} millis`),T(e,d,r,i)}})).apply(this,arguments)}function k(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(v.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function A(e){if(!(e instanceof o.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class R{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let O,P;function D(){return(D=(0,r.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(e,t,n,r){if(r&&r.global)return e("set",{screen_name:n}),Promise.resolve();e("config",yield t,{update:!0,screen_name:n})})).apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(e,t,n,r){if(r&&r.global)return e("set",{user_id:n}),Promise.resolve();e("config",yield t,{update:!0,user_id:n})})).apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",yield t,{update:!0,user_properties:n})})).apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t){const n=yield e;window[`ga-disable-${n}`]=!t})).apply(this,arguments)}function V(e){P=e}function U(e){O=e}function B(){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(){var e;if(!(0,o.hl)())return h.warn(v.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,o.eu)()}catch(t){return h.warn(v.create("indexeddb-unavailable",{errorInfo:null===(e=t)||void 0===e?void 0:e.toString()}).message),!1}return!0})).apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e,t,n,r,i,s,o){var a;const l=E(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&h.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>h.error(e)),t.push(l);const c=B().then(e=>e?r.getId():void 0),[u,d]=yield Promise.all([l,c]);y()||p(s,u.measurementId),P&&(i("consent","default",P),V(void 0)),i("js",new Date);const f=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return f.origin="firebase",f.update=!0,null!=d&&(f.firebase_id=d),i("config",u.measurementId,f),O&&(i("set",O),U(void 0)),u.measurementId})).apply(this,arguments)}class z{constructor(e){this.app=e}_delete(){return delete G[this.app.options.appId],Promise.resolve()}}let G={},H=[];const $={};let Z,K,Y="dataLayer",W="gtag",Q=!1;function J(e){if(Q)throw v.create("already-initialized");e.dataLayerName&&(Y=e.dataLayerName),e.gtagName&&(W=e.gtagName)}function X(e=(0,i.getApp)()){e=(0,o.m9)(e);const t=(0,i._getProvider)(e,l);return t.isInitialized()?t.getImmediate():ee(e)}function ee(e,t={}){const n=(0,i._getProvider)(e,l);if(n.isInitialized()){const e=n.getImmediate();if((0,o.vZ)(t,n.getOptions()))return e;throw v.create("already-initialized")}return n.initialize({options:t})}function te(){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(){if((0,o.ru)())return!1;if(!(0,o.zI)())return!1;if(!(0,o.hl)())return!1;try{return yield(0,o.eu)()}catch(e){return!1}})).apply(this,arguments)}function re(e,t,n){e=(0,o.m9)(e),function(e,t,n,r){return N.apply(this,arguments)}(K,G[e.app.options.appId],t,n).catch(e=>h.error(e))}function ie(e,t,n){e=(0,o.m9)(e),function(e,t,n,r){return L.apply(this,arguments)}(K,G[e.app.options.appId],t,n).catch(e=>h.error(e))}function se(e,t,n){e=(0,o.m9)(e),function(e,t,n,r){return F.apply(this,arguments)}(K,G[e.app.options.appId],t,n).catch(e=>h.error(e))}function oe(e,t){e=(0,o.m9)(e),function(e,t){return M.apply(this,arguments)}(G[e.app.options.appId],t).catch(e=>h.error(e))}function ae(e,t,n,r){e=(0,o.m9)(e),function(e,t,n,r,i){return D.apply(this,arguments)}(K,G[e.app.options.appId],t,n,r).catch(e=>h.error(e))}const le="@firebase/analytics",ce="0.8.1";(0,i._registerComponent)(new a.wA(l,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,o.ru)()&&e.push("This is a browser extension environment."),(0,o.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=v.create("invalid-analytics-context",{errorInfo:t});h.warn(n.message)}}();const i=e.options.appId;if(!i)throw v.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw v.create("no-api-key");h.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=G[i])throw v.create("already-exists",{id:i});if(!Q){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Y);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,s){let o=function(...e){window[i].push(arguments)};return window[s]&&"function"==typeof window[s]&&(o=window[s]),window[s]=function(e,t,n,i){function s(){return(s=(0,r.Z)(function*(r,s,o){try{"event"===r?yield g(e,t,n,s,o):"config"===r?yield f(e,t,n,i,s,o):"consent"===r?e("consent","update",o):e("set",s)}catch(a){h.error(a)}})).apply(this,arguments)}return function(e,t,n){return s.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[s]}}(G,H,$,Y,W);K=e,Z=t,Q=!0}return G[i]=function(e,t,n,r,i,s,o){return q.apply(this,arguments)}(e,H,$,t,Z,Y,n),new z(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,i._registerComponent)(new a.wA("analytics-internal",function(e){try{const t=e.getProvider(l).getImmediate();return{logEvent:(e,n,r)=>ae(t,e,n,r)}}catch(t){throw v.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,i.registerVersion)(le,ce),(0,i.registerVersion)(le,ce,"esm2017")},1858:(e,t,n)=>{"use strict";n.d(t,{P2:()=>r.deleteApp,Mq:()=>r.getApp,C6:()=>r.getApps,ZF:()=>r.initializeApp,TP:()=>r.onLog,KN:()=>r.registerVersion,Ub:()=>r.setLogLevel});var r=n(7964);(0,r.registerVersion)("firebase","9.11.0","app")},6190:(e,t,n)=>{"use strict";n.d(t,{_O:()=>r.N,GH:()=>r.T,hJ:()=>r.Q,iA:()=>r.a2,qh:()=>r.t,bX:()=>r.a3,LG:()=>r.a1,S$:()=>r.G,Xb:()=>r.a5,h8:()=>r.z,Nr:()=>r.aa,gK:()=>r.al,v0:()=>r.n,wU:()=>r.ai,ag:()=>r.aj,p2:()=>r.an,cx:()=>r.j,uJ:()=>r.E,JB:()=>r.a8,ZJ:()=>r.Z,L6:()=>r.l,k9:()=>r.d,WV:()=>r.g,JG:()=>r.ao,Aj:()=>r.v,MX:()=>r.q,uw:()=>r.ae,aF:()=>r._,vY:()=>r.r,bc:()=>r.e,C3:()=>r.h,H5:()=>r.am,w$:()=>r.ab,LS:()=>r.a0,oo:()=>r.a7,Fb:()=>r.p,XB:()=>r.X,sB:()=>r.Y,_p:()=>r.$,e5:()=>r.a6,P6:()=>r.a9,$g:()=>r.s,rh:()=>r.c,F6:()=>r.f,w7:()=>r.y,qB:()=>r.ak,SF:()=>r.x,s:()=>r.ag,gQ:()=>r.ah,Rv:()=>r.u,ck:()=>r.af,ic:()=>r.w,Ov:()=>r.ac,TX:()=>r.a4});var r=n(3976);n(5725),n(7964),n(8678),n(1947)},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(6986);r.Z.registerVersion("firebase","9.11.0","app-compat")},3121:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(6986),s=n(3976),o=n(5725),a=(n(7964),n(8678),n(1947));function l(){return window}function c(){return(c=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=l();(0,s.aq)(t.sessionId,"AuthEvent did not contain a session ID");const o=yield d(t.sessionId),a={};return(0,s.ar)()?a.ibi=i.packageName:(0,s.as)()?a.apn=i.packageName:(0,s.at)(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,(0,s.au)(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)})).apply(this,arguments)}function u(){return(u=(0,r.Z)(function*(e){const{BuildInfo:t}=l(),n={};(0,s.ar)()?n.iosBundleId=t.packageName:(0,s.as)()?n.androidPackageName=t.packageName:(0,s.at)(e,"operation-not-supported-in-this-environment"),yield(0,s.av)(e,n)})).apply(this,arguments)}function h(){return(h=(0,r.Z)(function*(e,t,n){const{cordova:r}=l();let i=()=>{};try{yield new Promise((o,a)=>{let l=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){l||(l=window.setTimeout(()=>{a((0,s.aw)(e,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),(0,s.as)()&&document.addEventListener("visibilitychange",h,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",h,!1),l&&window.clearTimeout(l)}})}finally{i()}})).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(function*(e){const t=f(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function f(e){if((0,s.aq)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}class m extends s.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function g(e){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(function*(e){const t=yield v()._get(b(e));return t&&(yield v()._remove(b(e))),t})).apply(this,arguments)}function y(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function v(){return(0,s.ay)(s.b)}function b(e){return(0,s.az)("authEvent",e.config.apiKey,e.name)}function w(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,o.zd)(n.join("?"))}function C(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.aw)("no-auth-event")}}function S(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function E(e=(0,o.z$)()){return!("file:"!==S()&&"ionic:"!==S()&&"capacitor:"!==S()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function I(){try{const e=self.localStorage,t=s.aI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,o.z$)()){return(0,o.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,o.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,o.hl)()}catch(e){return T()&&(0,o.hl)()}return!1}function T(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function x(){return("http:"===S()||"https:"===S()||(0,o.ru)()||E())&&!((0,o.b$)()||(0,o.UG)())&&I()&&!T()}function k(){return E()&&"undefined"!=typeof document}function A(){return(A=(0,r.Z)(function*(){return!!k()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const R={LOCAL:"local",NONE:"none",SESSION:"session"},O=s.ax,P="persistence";function D(e){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(e){yield e._initializationPromise;const t=L(),n=s.az(P,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function L(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const F=s.ax;class M{constructor(){this.browserResolver=s.ay(s.k),this.cordovaResolver=s.ay(class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aB,this._overrideRedirectResult=s.aC}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new m(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){(0,s.at)(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,o,a,c,u,h,d;const p=l();(0,s.ax)("function"==typeof(null===(t=null==p?void 0:p.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.ax)(void 0!==(null===(n=null==p?void 0:p.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.ax)("function"==typeof(null===(o=null===(i=null===(r=null==p?void 0:p.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.ax)("function"==typeof(null===(u=null===(c=null===(a=null==p?void 0:p.cordova)||void 0===a?void 0:a.plugins)||void 0===c?void 0:c.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.ax)("function"==typeof(null===(d=null===(h=null==p?void 0:p.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),(0,s.aD)(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:y(),postBody:null,tenantId:e.tenantId,error:(0,s.aw)(e,"no-auth-event")}}(e,n,i);yield function(e,t){return v()._set(b(e),t)}(e,a);const u=yield function(e,t,n){return c.apply(this,arguments)}(e,a,t),d=yield function(e){const{cordova:t}=l();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,(0,s.ap)()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return h.apply(this,arguments)}(e,r,d)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return u.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:o}=l(),a=setTimeout((0,r.Z)(function*(){yield g(e),t.onEvent(C())}),500),c=function(){var n=(0,r.Z)(function*(n){clearTimeout(a);const r=yield g(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=w(e),n=t.link?decodeURIComponent(t.link):void 0,r=w(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return w(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=w(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],l=a?(0,s.aw)(a):null;return l?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||C())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,c);const u=i,h=`${o.packageName.toLowerCase()}://`;l().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(h)&&c({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aB,this._overrideRedirectResult=s.aC}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return k()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return A.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function V(e){return e.unwrap()}function U(e){const{_tokenResponse:t}=e instanceof o.ZR?e.customData:e;if(!t)return null;if(!(e instanceof o.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return s.P.credentialFromResult(e);const n=t.providerId;if(!n||n===s.o.PASSWORD)return null;let r;switch(n){case s.o.GOOGLE:r=s.Q;break;case s.o.FACEBOOK:r=s.N;break;case s.o.GITHUB:r=s.T;break;case s.o.TWITTER:r=s.W;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:l}=t;return i||o||e||a?a?n.startsWith("saml.")?s.aL._create(n,a):s.J._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new s.U(n).credential({idToken:e,accessToken:i,rawNonce:l}):null}return e instanceof o.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function B(e,t){return t.catch(t=>{throw t instanceof o.ZR&&function(e,t){var n,r;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new z(e,s.an(e,t));else if(i){const e=U(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,U(n)),additionalUserInfo:s.al(e),user:G.getOrCreate(t)};var n})}function j(e,t){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>B(e,n.confirm(t))}})).apply(this,arguments)}class z{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return B(V(this.auth),this.resolver.resolveSignIn(e))}}let G=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=s.ao(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return B(t.auth,s.Z(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return j(n.auth,s.l(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return B(t.auth,s.d(t._delegate,e,M))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield D(s.aE(t.auth)),s.g(t._delegate,e,M)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return B(t.auth,s._(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return j(this.auth,s.r(this._delegate,e,t))}reauthenticateWithPopup(e){return B(this.auth,s.e(this._delegate,e,M))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield D(s.aE(t.auth)),s.h(t._delegate,e,M)})()}sendEmailVerification(e){return s.ab(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield s.ak(t._delegate,e),t})()}updateEmail(e){return s.ag(this._delegate,e)}updatePassword(e){return s.ah(this._delegate,e)}updatePhoneNumber(e){return s.u(this._delegate,e)}updateProfile(e){return s.af(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return s.ac(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const H=s.ax;let $=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;H(n,"invalid-api-key",{appName:e.name}),H(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?M:void 0;this._delegate=t.initialize({options:{persistence:K(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(s.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){s.G(this._delegate,e,t)}applyActionCode(e){return s.a2(this._delegate,e)}checkActionCode(e){return s.a3(this._delegate,e)}confirmPasswordReset(e,t){return s.a1(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return B(n._delegate,s.a5(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return s.aa(this._delegate,e)}isSignInWithEmailLink(e){return s.a8(this._delegate,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){H(x(),e._delegate,"operation-not-supported-in-this-environment");const t=yield s.j(e._delegate,M);return t?B(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){(0,s.aE)(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Z(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Z(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return s.a7(this._delegate,e,t)}sendPasswordResetEmail(e,t){return s.a0(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){O(Object.values(R).includes(t),e,"invalid-persistence-type"),(0,o.b$)()?O(t!==R.SESSION,e,"unsupported-persistence-type"):(0,o.UG)()?O(t===R.NONE,e,"unsupported-persistence-type"):T()?O(t===R.NONE||t===R.LOCAL&&(0,o.hl)(),e,"unsupported-persistence-type"):O(t===R.NONE||I(),e,"unsupported-persistence-type")}(t._delegate,e),e){case R.SESSION:n=s.a;break;case R.LOCAL:n=(yield s.ay(s.i)._isAvailable())?s.i:s.b;break;case R.NONE:n=s.L;break;default:return s.at("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return B(this._delegate,s.X(this._delegate))}signInWithCredential(e){return B(this._delegate,s.Y(this._delegate,e))}signInWithCustomToken(e){return B(this._delegate,s.$(this._delegate,e))}signInWithEmailAndPassword(e,t){return B(this._delegate,s.a6(this._delegate,e,t))}signInWithEmailLink(e,t){return B(this._delegate,s.a9(this._delegate,e,t))}signInWithPhoneNumber(e,t){return j(this._delegate,s.s(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return H(x(),t._delegate,"operation-not-supported-in-this-environment"),B(t._delegate,s.c(t._delegate,e,M))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return H(x(),t._delegate,"operation-not-supported-in-this-environment"),yield D(t._delegate),s.f(t._delegate,e,M)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return s.a4(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=R,e})();function Z(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&G.getOrCreate(e)),error:t,complete:n}}function K(e,t){const n=function(e,t){const n=L();if(!n)return[];const r=s.az(P,e,t);switch(n.getItem(r)){case R.NONE:return[s.L];case R.LOCAL:return[s.i,s.a];case R.SESSION:return[s.a];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(s.i)||n.push(s.i),"undefined"!=typeof window)for(const r of[s.b,s.a])n.includes(r)||n.push(r);return n.includes(s.L)||n.push(s.L),n}let Y=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new s.P(V(i.Z.auth()))}static credential(e,t){return s.P.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=s.P.PROVIDER_ID,e})();const W=s.ax;var Q;(Q=i.Z).INTERNAL.registerComponent(new a.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.M,FacebookAuthProvider:s.N,GithubAuthProvider:s.T,GoogleAuthProvider:s.Q,OAuthProvider:s.U,SAMLAuthProvider:s.V,PhoneAuthProvider:Y,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;W(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new s.R(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:s.W,Auth:$,AuthCredential:s.H,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.21")},8458:(e,t,n)=>{"use strict";n.d(t,{pQ:()=>Ee,KL:()=>we,LP:()=>Ce,Gb:()=>ye,ps:()=>Ie});var r=n(6304),i=(n(8231),n(1947)),s=n(4890),o=n(5725),a=n(7964);const l="/firebase-messaging-sw.js",c="/firebase-cloud-messaging-push-scope",u="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var h,d;function p(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(h||(h={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(d||(d={}));const m="fcm_token_details_db",g="fcm_token_object_Store";function _(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(m))return null;let t=null;var n;return(yield(0,s.X3)(m,5,{upgrade:(n=(0,r.Z)(function*(n,r,i,s){var o;if(r<2)return;if(!n.objectStoreNames.contains(g))return;const a=s.objectStore(g),l=yield a.index("fcmSenderId").get(e);if(yield a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:p(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:p(e.auth),p256dh:p(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:p(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:p(e.auth),p256dh:p(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:p(e.vapidKey)}}}}),function(e,t,r,i){return n.apply(this,arguments)})})).close(),yield(0,s.Lj)(m),yield(0,s.Lj)("fcm_vapid_details_db"),yield(0,s.Lj)("undefined"),v(t)?t:null})).apply(this,arguments)}function v(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const b="firebase-messaging-store";let w=null;function C(){return w||(w=(0,s.X3)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(b)}}})),w}function S(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(function*(e){const t=A(e),n=yield C(),r=yield n.transaction(b).objectStore(b).get(t);if(r)return r;{const t=yield _(e.appConfig.senderId);if(t)return yield I(e,t),t}})).apply(this,arguments)}function I(e,t){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(function*(e,t){const n=A(e),r=(yield C()).transaction(b,"readwrite");return yield r.objectStore(b).put(t,n),yield r.done,t})).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=A(e),n=(yield C()).transaction(b,"readwrite");yield n.objectStore(b).delete(t),yield n.done})).apply(this,arguments)}function A({appConfig:e}){return e.appId}const R=new o.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function O(e,t){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t){var n;const r=yield V(e),i=B(t),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{const t=yield fetch(M(e.appConfig),s);o=yield t.json()}catch(a){throw R.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw R.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw R.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function D(e,t){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(e,t){var n;const r=yield V(e),i=B(t.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{const n=yield fetch(`${M(e.appConfig)}/${t.token}`,s);o=yield n.json()}catch(a){throw R.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw R.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw R.create("token-update-no-token");return o.token})).apply(this,arguments)}function L(e,t){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t){var n;const r={method:"DELETE",headers:yield V(e)};try{const n=yield fetch(`${M(e.appConfig)}/${t}`,r),i=yield n.json();if(i.error)throw R.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(i){throw R.create("token-unsubscribe-failed",{errorInfo:null===(n=i)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function M({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function V(e){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function B({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==u&&(i.web.applicationPubKey=r),i}const j=6048e5;function q(e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(e){const t=yield W(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:p(t.getKey("auth")),p256dh:p(t.getKey("p256dh"))},r=yield S(e.firebaseDependencies);if(r){if(J(r.subscriptionOptions,n))return Date.now()>=r.createTime+j?$(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield L(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return K(e.firebaseDependencies,n)}return K(e.firebaseDependencies,n)})).apply(this,arguments)}function G(e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e){const t=yield S(e.firebaseDependencies);t&&(yield L(e.firebaseDependencies,t.token),yield x(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function $(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t){try{const n=yield D(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield I(e.firebaseDependencies,r),n}catch(n){throw yield G(e),n}})).apply(this,arguments)}function K(e,t){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)(function*(e,t){const n={token:yield O(e,t),createTime:Date.now(),subscriptionOptions:t};return yield I(e,n),n.token})).apply(this,arguments)}function W(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,r.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f(t)})})).apply(this,arguments)}function J(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function X(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,s,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=t.notification)||void 0===s?void 0:s.click_action;a&&(e.fcmOptions.link=a);const l=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function ee(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function te(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function ne(e){return R.create("missing-app-config-values",{valueName:e})}te("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),te("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class re{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw ne("App Configuration Object");if(!e.name)throw ne("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw ne(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function ie(e){return se.apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(e){var t;try{e.swRegistration=yield navigator.serviceWorker.register(l,{scope:c}),e.swRegistration.update().catch(()=>{})}catch(n){throw R.create("failed-service-worker-registration",{browserErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(e,t){if(t||e.swRegistration||(yield ie(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw R.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=u)})).apply(this,arguments)}function ue(e,t){return he.apply(this,arguments)}function he(){return(he=(0,r.Z)(function*(e,t){if(!navigator)throw R.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw R.create("permission-blocked");return yield le(e,null==t?void 0:t.vapidKey),yield oe(e,null==t?void 0:t.serviceWorkerRegistration),q(e)})).apply(this,arguments)}function de(e,t,n){return pe.apply(this,arguments)}function pe(){return(pe=(0,r.Z)(function*(e,t,n){const r=fe(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fe(e){switch(e){case d.NOTIFICATION_CLICKED:return"notification_open";case d.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function me(){return(me=(0,r.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===d.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(X(n)):e.onMessageHandler.next(X(n)));const r=n.data;ee(r)&&"1"===r["google.c.a.e"]&&(yield de(e,n.messageType,r))})).apply(this,arguments)}const ge="@firebase/messaging",_e="0.9.17";function ye(){return ve.apply(this,arguments)}function ve(){return(ve=(0,r.Z)(function*(){try{yield(0,o.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,o.hl)()&&(0,o.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function be(){return(be=(0,r.Z)(function*(e){if(!navigator)throw R.create("only-available-in-window");return e.swRegistration||(yield ie(e)),G(e)})).apply(this,arguments)}function we(e=(0,a.getApp)()){return ye().then(e=>{if(!e)throw R.create("unsupported-browser")},e=>{throw R.create("indexed-db-unsupported")}),(0,a._getProvider)((0,o.m9)(e),"messaging").getImmediate()}function Ce(e,t){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.Z)(function*(e,t){return ue(e=(0,o.m9)(e),t)})).apply(this,arguments)}function Ee(e){return function(e){return be.apply(this,arguments)}(e=(0,o.m9)(e))}function Ie(e,t){return function(e,t){if(!navigator)throw R.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=(0,o.m9)(e),t)}(0,a._registerComponent)(new i.wA("messaging",e=>{const t=new re(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return me.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,a._registerComponent)(new i.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>ue(t,e)}},"PRIVATE")),(0,a.registerVersion)(ge,_e),(0,a.registerVersion)(ge,_e,"esm2017")},966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getPerformance:()=>ie,initializePerformance:()=>se,trace:()=>oe});var r=n(5725),i=n(8678),s=n(7964),o=n(1947);n(8231);const a="@firebase/performance",l="0.5.13",c=l,u="FB-PERF-TRACE-MEASURE",h="_wt_",d="_fcp",p="_fid",f="@firebase/performance/config",m="@firebase/performance/configexpire",g="Performance",_=new r.LL("performance",g,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),y=new i.Yd(g);let v,b,w,C;y.logLevel=i.in.INFO;class S{constructor(e){if(this.window=e,!e)throw _.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){this.performance&&this.performance.mark&&this.performance.mark(e)}measure(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,r.zI)()?!!(0,r.hl)()||(y.info("IndexedDB is not supported by current browswer"),!1):(y.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,t){this.PerformanceObserver&&new this.PerformanceObserver(e=>{for(const n of e.getEntries())t(n)}).observe({entryTypes:[e]})}static getInstance(){return void 0===v&&(v=new S(b)),v}}function E(){return w}function I(e,t){const n=e.length-t.length;if(n<0||n>1)throw _.create("invalid String merger input");const r=[];for(let i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}class T{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=I("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=I("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===C&&(C=new T),C}}var x;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(x||(x={}));const k=["firebase_","google_","ga_"],A=new RegExp("^[a-zA-Z]\\w*$");function R(){const e=S.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function O(){switch(S.getInstance().document.visibilityState){case"visible":return x.VISIBLE;case"hidden":return x.HIDDEN;default:return x.UNKNOWN}}function P(){const e=S.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function D(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw _.create("no app id");return n}const N={loggingEnabled:!0};function L(e){if(!e)return e;const t=T.getInstance(),n=e.entries||{};return t.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):N.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):N.logSource&&(t.logSource=N.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:N.logEndPointUrl&&(t.logEndPointUrl=N.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:N.transportKey&&(t.transportKey=N.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==N.networkRequestsSamplingRate&&(t.networkRequestsSamplingRate=N.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==N.tracesSamplingRate&&(t.tracesSamplingRate=N.tracesSamplingRate),t.logTraceAfterSampling=F(t.tracesSamplingRate),t.logNetworkAfterSampling=F(t.networkRequestsSamplingRate),e}function F(e){return Math.random()<=e}let M,V=1;function U(e){return V=2,M=M||function(e){return function(){const e=S.getInstance().document;return new Promise(t=>{if(e&&"complete"!==e.readyState){const n=()=>{"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}().then(()=>function(e){const t=e.getId();return t.then(e=>{w=e}),t}(e.installations)).then(t=>function(e,t){const n=function(){const e=S.getInstance().localStorage;if(!e)return;const t=e.getItem(m);if(!(t&&(n=t,Number(n)>Date.now())))return;var n;const r=e.getItem(f);if(r)try{return JSON.parse(r)}catch(i){return}}();return n?(L(n),Promise.resolve()):function(e,t){return function(e){const t=e.getToken();return t.then(e=>{}),t}(e.installations).then(n=>{const r=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw _.create("no project id");return n}(e.app),i=function(e){var t;const n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw _.create("no api key");return n}(e.app),s=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`FIREBASE_INSTALLATIONS_AUTH ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:D(e.app),app_version:c,sdk_version:"0.0.1"})});return fetch(s).then(e=>{if(e.ok)return e.json();throw _.create("RC response not ok")})}).catch(()=>{y.info("Could not fetch config, will use default configs")})}(e,t).then(L).then(e=>function(e){const t=S.getInstance().localStorage;e&&t&&(t.setItem(f,JSON.stringify(e)),t.setItem(m,String(Date.now()+60*T.getInstance().configTimeToLive*60*1e3)))}(e),()=>{})}(e,t)).then(()=>B(),()=>B())}(e),M}function B(){V=3}const j=1e4;let q,z=3,G=[],H=!1;function $(e){setTimeout(()=>{if(0!==z)return G.length?void function(){const e=G.splice(0,1e3),t=e.map(e=>({source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}));(function(e,t){return function(e){const t=T.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then(e=>(e.ok||y.info("Call to Firebase backend failed."),e.json())).then(e=>{const n=Number(e.nextRequestWaitMillis);let r=j;isNaN(n)||(r=Math.max(n,r));const i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(G=[...t,...G],y.info("Retry transport request later.")),z=3,$(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:T.getInstance().logSource,log_event:t},e).catch(()=>{G=[...e,...G],z--,y.info(`Tries left: ${z}.`),$(j)})}():$(j)},e)}function Z(e,t){q||(q=function(e){return(...t)=>{!function(e){if(!e.eventTime||!e.message)throw _.create("invalid cc log");G=[...G,e]}({message:e(...t),eventTime:Date.now()})}}(W)),q(e,t)}function K(e){const t=T.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&S.getInstance().requiredApisAvailable()&&(e.isAuto&&O()!==x.VISIBLE||(3===V?Y(e):U(e.performanceController).then(()=>Y(e),()=>Y(e))))}function Y(e){if(!E())return;const t=T.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(()=>Z(e,1),0)}function W(e,t){return 0===t?function(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Q(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);const n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);const r={application_info:Q(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function Q(e){return{google_app_id:D(e),app_instance_id:E(),web_app_info:{sdk_version:c,page_url:S.getInstance().getUrl(),service_worker_status:R(),visibility_state:O(),effective_connection_type:P()},application_process_state:0}}const J=["_fp",d,p];class X{constructor(e,t,n=!1,r){this.performanceController=e,this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=S.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`FB-PERF-TRACE-MEASURE-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw _.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw _.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),K(this)}record(e,t,n){if(e<=0)throw _.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw _.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(const r of Object.keys(n.metrics))isNaN(Number(n.metrics[r]))||(this.counters[r]=Math.floor(Number(n.metrics[r])));K(this)}incrementMetric(e,t=1){this.putMetric(e,void 0===this.counters[e]?t:this.counters[e]+t)}putMetric(e,t){if(r=this.name,0===(n=e).length||n.length>100||!(r&&r.startsWith(h)&&J.indexOf(n)>-1)&&n.startsWith("_"))throw _.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){const t=Math.floor(e);return t<e&&y.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}(null!=t?t:0)}getMetric(e){return this.counters[e]||0}putAttribute(e,t){const n=!(0===(r=e).length||r.length>40||k.some(e=>r.startsWith(e))||!r.match(A));var r;const i=function(e){return 0!==e.length&&e.length<=100}(t);if(n&&i)this.customAttributes[e]=t;else{if(!n)throw _.create("invalid attribute name",{attributeName:e});if(!i)throw _.create("invalid attribute value",{attributeValue:t})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,t,n,r){const i=S.getInstance().getUrl();if(!i)return;const s=new X(e,h+i,!0),o=Math.floor(1e3*S.getInstance().getTimeOrigin());if(s.setStartTime(o),t&&t[0]&&(s.setDuration(Math.floor(1e3*t[0].duration)),s.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),s.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),s.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){const e=n.find(e=>"first-paint"===e.name);e&&e.startTime&&s.putMetric("_fp",Math.floor(1e3*e.startTime));const t=n.find(e=>"first-contentful-paint"===e.name);t&&t.startTime&&s.putMetric(d,Math.floor(1e3*t.startTime)),r&&s.putMetric(p,Math.floor(1e3*r))}K(s)}static createUserTimingTrace(e,t){K(new X(e,t,!1,t))}}function ee(e,t){const n=t;if(!n||void 0===n.responseStart)return;const r=S.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){const t=T.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(()=>Z(e,0),0)}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}function te(e){E()&&(setTimeout(()=>function(e){const t=S.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){let i=setTimeout(()=>{X.createOobTrace(e,n,r),i=void 0},5e3);t.onFirstInputDelay(t=>{i&&(clearTimeout(i),X.createOobTrace(e,n,r,t))})}else X.createOobTrace(e,n,r)}(e),0),setTimeout(()=>function(e){const t=S.getInstance(),n=t.getEntriesByType("resource");for(const r of n)ee(e,r);t.setupObserver("resource",t=>ee(e,t))}(e),0),setTimeout(()=>function(e){const t=S.getInstance(),n=t.getEntriesByType("measure");for(const r of n)ne(e,r);t.setupObserver("measure",t=>ne(e,t))}(e),0))}function ne(e,t){const n=t.name;n.substring(0,u.length)!==u&&X.createUserTimingTrace(e,n)}class re{constructor(e,t){this.app=e,this.installations=t,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),S.getInstance().requiredApisAvailable()?(0,r.eu)().then(e=>{e&&(H||($(5500),H=!0),U(this).then(()=>te(this),()=>te(this)),this.initialized=!0)}).catch(e=>{y.info(`Environment doesn't support IndexedDB: ${e}`)}):y.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){T.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return T.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){T.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return T.getInstance().dataCollectionEnabled}}function ie(e=(0,s.getApp)()){return e=(0,r.m9)(e),(0,s._getProvider)(e,"performance").getImmediate()}function se(e,t){e=(0,r.m9)(e);const n=(0,s._getProvider)(e,"performance");if(n.isInitialized()){const e=n.getImmediate(),i=n.getOptions();if((0,r.vZ)(i,null!=t?t:{}))return e;throw _.create("already initialized")}return n.initialize({options:t})}function oe(e,t){return e=(0,r.m9)(e),new X(e,t)}(0,s._registerComponent)(new o.wA("performance",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw _.create("FB not default");if("undefined"==typeof window)throw _.create("no window");!function(e){b=e}(window);const i=new re(n,r);return i._init(t),i},"PUBLIC")),(0,s.registerVersion)(a,l),(0,s.registerVersion)(a,l,"esm2017")},4543:(e,t,n)=>{"use strict";n.d(t,{QZ:()=>_,wX:()=>v,xS:()=>M,Q2:()=>b,go:()=>C,Pf:()=>S,Dx:()=>E,sN:()=>g,KF:()=>I,NA:()=>T,Gb:()=>U,Ub:()=>x});var r=n(6304),i=n(7964),s=n(5725),o=n(1947),a=n(8678);n(8231);const l="@firebase/remote-config",c="0.3.12";class u{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}const h="remote-config",d=new s.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function p(e,t){return e instanceof s.ZR&&-1!==e.code.indexOf(t)}const f=["1","true","t","yes","y","on"];class m{constructor(e,t=""){this._source=e,this._value=t}asString(){return this._value}asBoolean(){return"static"!==this._source&&f.indexOf(this._value.toLowerCase())>=0}asNumber(){if("static"===this._source)return 0;let e=Number(this._value);return isNaN(e)&&(e=0),e}getSource(){return this._source}}function g(e=(0,i.getApp)()){return e=(0,s.m9)(e),(0,i._getProvider)(e,h).getImmediate()}function _(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(function*(e){const t=(0,s.m9)(e),[n,r]=yield Promise.all([t._storage.getLastSuccessfulFetchResponse(),t._storage.getActiveConfigEtag()]);return!!(n&&n.config&&n.eTag&&n.eTag!==r)&&(yield Promise.all([t._storageCache.setActiveConfig(n.config),t._storage.setActiveConfigEtag(n.eTag)]),!0)})).apply(this,arguments)}function v(e){const t=(0,s.m9)(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(function*(e){const t=(0,s.m9)(e),n=new u;setTimeout((0,r.Z)(function*(){n.abort()}),t.settings.fetchTimeoutMillis);try{yield t._client.fetch({cacheMaxAgeMillis:t.settings.minimumFetchIntervalMillis,signal:n}),yield t._storageCache.setLastFetchStatus("success")}catch(i){const e=p(i,"fetch-throttle")?"throttle":"failure";throw yield t._storageCache.setLastFetchStatus(e),i}})).apply(this,arguments)}function C(e){const t=(0,s.m9)(e);return function(e={},t={}){return Object.keys(Object.assign(Object.assign({},e),t))}(t._storageCache.getActiveConfig(),t.defaultConfig).reduce((t,n)=>(t[n]=T(e,n),t),{})}function S(e,t){return T((0,s.m9)(e),t).asBoolean()}function E(e,t){return T((0,s.m9)(e),t).asNumber()}function I(e,t){return T((0,s.m9)(e),t).asString()}function T(e,t){const n=(0,s.m9)(e);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${t}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new m("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new m("default",String(n.defaultConfig[t])):(n._logger.debug(`Returning static value for key "${t}". Define a default or remote value if this is unintentional.`),new m("static"))}function x(e,t){const n=(0,s.m9)(e);switch(t){case"debug":n._logger.logLevel=a.in.DEBUG;break;case"silent":n._logger.logLevel=a.in.SILENT;break;default:n._logger.logLevel=a.in.ERROR}}class k{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,r.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function A(e=navigator){return e.languages&&e.languages[0]||e.language}class R{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,r.Z)(function*(){var n,r,i;const[s,o]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:s,app_instance_id_token:o,app_id:t.appId,language_code:A()},u={method:"POST",headers:l,body:JSON.stringify(c)},h=fetch(a,u),p=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let f;try{yield Promise.race([h,p]),f=yield h}catch(v){let e="fetch-client-network";throw"AbortError"===(null===(n=v)||void 0===n?void 0:n.name)&&(e="fetch-timeout"),d.create(e,{originalErrorMessage:null===(r=v)||void 0===r?void 0:r.message})}let m=f.status;const g=f.headers.get("ETag")||void 0;let _,y;if(200===f.status){let e;try{e=yield f.json()}catch(v){throw d.create("fetch-client-parse",{originalErrorMessage:null===(i=v)||void 0===i?void 0:i.message})}_=e.entries,y=e.state}if("INSTANCE_STATE_UNSPECIFIED"===y?m=500:"NO_CHANGE"===y?m=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(_={}),304!==m&&200!==m)throw d.create("fetch-status",{httpStatus:m});return{status:m,eTag:g,config:_}})()}}class O{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,r.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var i=this;return(0,r.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(d.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),t}catch(r){if(!function(e){if(!(e instanceof s.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r))throw r;const t={throttleEndTimeMillis:Date.now()+(0,s.$s)(n),backoffCount:n+1};return yield i.storage.setThrottleMetadata(t),i.attemptFetch(e,t)}})()}}class P{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function D(e,t){var n;const r=e.target.error||void 0;return d.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const N="app_namespace_store";class L{constructor(e,t,n,r=function(){return new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(D(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(N,{keyPath:"compositeKey"})}}}catch(r){t(d.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,r.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var s;const o=n.transaction([N],"readonly").objectStore(N),a=t.createCompositeKey(e);try{const e=o.get(a);e.onerror=e=>{i(D(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(l){i(d.create("storage-get",{originalErrorMessage:null===(s=l)||void 0===s?void 0:s.message}))}})})()}set(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const a=r.transaction([N],"readwrite").objectStore(N),l=n.createCompositeKey(e);try{const e=a.put({compositeKey:l,value:t});e.onerror=e=>{s(D(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(c){s(d.create("storage-set",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}delete(e){var t=this;return(0,r.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var s;const o=n.transaction([N],"readwrite").objectStore(N),a=t.createCompositeKey(e);try{const e=o.delete(a);e.onerror=e=>{i(D(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(l){i(d.create("storage-delete",{originalErrorMessage:null===(s=l)||void 0===s?void 0:s.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class F{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,r.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function M(e){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e){return e=(0,s.m9)(e),yield b(e),_(e)})).apply(this,arguments)}function U(){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(){if(!(0,s.hl)())return!1;try{return yield(0,s.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,i._registerComponent)(new o.wA(h,function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw d.create("registration-window");if(!(0,s.hl)())throw d.create("indexed-db-unavailable");const{projectId:o,apiKey:c,appId:u}=n.options;if(!o)throw d.create("registration-project-id");if(!c)throw d.create("registration-api-key");if(!u)throw d.create("registration-app-id");const h=new L(u,n.name,t=t||"firebase"),p=new F(h),f=new a.Yd(l);f.logLevel=a.in.ERROR;const m=new R(r,i.SDK_VERSION,t,o,c,u),g=new O(m,h),_=new k(g,h,p,f),y=new P(n,_,p,h,f);return v(y),y},"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(l,c),(0,i.registerVersion)(l,c,"esm2017")},4890:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>m,X3:()=>f});var r=n(6304);let i,s;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(d(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&o.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=function(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),d(o.get(this))}:function(...e){return d(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return l.set(r,e.sort?e.sort():[e]),d(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});a.set(e,t)}(e),n=e,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,h):e);var t,n}(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function f(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=d(o);return r&&o.addEventListener("upgradeneeded",e=>{r(d(o.result),e.oldVersion,e.newVersion,d(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),d(n).then(()=>{})}const g=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],y=new Map;function v(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=_.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!g.includes(n))return;const o=function(){var e=(0,r.Z)(function*(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(t.shift())),(yield Promise.all([o[n](...t),s&&r.done]))[0]});return function(t){return e.apply(this,arguments)}}();return y.set(t,o),o}var b;b=h,h={...b,get:(e,t,n)=>v(e,t)||b.get(e,t,n),has:(e,t)=>!!v(e,t)||b.has(e,t)}},8512:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(5959),i=n(3895);class s extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(e){super.next(this._value=e)}}},3103:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(653),i=n(878),s=n(1225);let o=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})()},1784:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(6541),l=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0,a.U)(e)(this)}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9829:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(6673);class i extends r.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},5959:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>u});var r=n(1784),i=n(6673),s=n(7570),o=n(3895),a=n(9291),l=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},9291:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(7570);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),l=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?l(h.errors):[h]}}if((0,r.k)(u)){let e=-1,n=u.length;for(;++e<n;){const n=u[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(l(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function l(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(6673),i=n(1784),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var r=n(5959),i=n(1784),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},1305:(e,t,n)=>{"use strict";n.d(t,{aj:()=>c});var r=n(6163),i=n(8470),s=n(9829),o=n(7e3),a=n(9342);const l={};function c(...e){let t,n;return(0,r.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,i.k)(e[0])&&(e=e[0]),(0,a.n)(e,n).lift(new u(t))}class u{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new h(e,this.resultSelector))}}class h extends s.L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(l),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add((0,o.D)(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===l?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7930:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var r=n(878),i=n(7471);function s(...e){return(0,i.J)(1)((0,r.of)(...e))}},1450:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(1784),i=n(9764),s=n(653);function o(e){return new r.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.D)(n):(0,s.c)()).subscribe(t)})}},653:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(1784);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},3148:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(1784),i=n(8470),s=n(9996),o=n(2056),a=n(9764);function l(...e){if(1===e.length){const t=e[0];if((0,i.k)(t))return c(t,null);if((0,o.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return c(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return c(e=1===e.length&&(0,i.k)(e[0])?e[0]:e,null).pipe((0,s.U)(e=>t(...e)))}return c(e,null)}function c(e,t){return new r.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let l=0;l<r;l++){const c=(0,a.D)(e[l]);let u=!1;n.add(c.subscribe({next:e=>{u||(u=!0,o++),i[l]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(1784),i=n(6015),s=n(7570),o=n(6197),a=n(2570),l=n(5686),c=n(5168),u=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(1784),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},7254:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(1784),i=n(8470),s=n(5024),o=n(9996);function a(e,t,n,c){return(0,s.m)(n)&&(c=n,n=void 0),c?a(e,t,n).pipe((0,o.U)(e=>(0,i.k)(e)?c(...e):c(e))):new r.y(r=>{l(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function l(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)l(e[s],t,n,r,i)}r.add(s)}},1906:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(1784),i=n(6163),s=n(7471),o=n(9342);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},878:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(6163),i=n(9342),s=n(2570);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},1225:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(1784);function i(e,t){return new r.y(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},1110:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(1784),i=n(8569),s=n(2293),o=n(6163);function a(e=0,t,n){let a=-1;return(0,s.k)(t)?a=Number(t)<1?1:Number(t):(0,o.K)(t)&&(n=t),(0,o.K)(n)||(n=i.P),new r.y(t=>{const r=(0,s.k)(e)?e:+e-n.now();return n.schedule(l,r,{index:0,period:a,subscriber:t})})}function l(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},810:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var r=n(8569),i=n(6882);class s{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new o(e,this.durationSelector))}}class o extends i.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=(0,i.ft)(n,new i.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var a=n(1110);function l(e,t=r.P){return n=()=>(0,a.H)(e,t),function(e){return e.lift(new s(n))};var n}},7727:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var r=n(6882);function i(e){return function(t){const n=new s(e),r=t.lift(n);return n.caught=r}}class s{constructor(e){this.selector=e}call(e,t){return t.subscribe(new o(e,this.selector,this.caught))}}class o extends r.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new r.IY(this);this.add(i);const s=(0,r.ft)(n,i);s!==i&&this.add(s)}}}},436:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(3982);function i(e,t){return(0,r.zg)(e,t,1)}},7701:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(6673),i=n(8569);function s(e,t=i.P){return n=>n.lift(new o(e,t))}class o{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends r.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function l(e){e.debouncedNext()}},2628:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var r=n(8569),i=n(6673),s=n(3103);function o(e,t=r.P){var n;const i=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new a(i,t))}class a{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))}}class l extends i.L{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,r=e.scheduler,i=e.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const t=Math.max(0,n[0].time-r.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(l.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new c(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(s.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(s.P.createComplete()),this.unsubscribe()}}class c{constructor(e,t){this.time=e,this.notification=t}}},8720:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(e,t){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},3835:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(6673);function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},1520:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(6673),i=n(7570);function s(e){return t=>t.lift(new o(e))}class o{constructor(e){this.callback=e}call(e,t){return t.subscribe(new a(e,this.callback))}}class a extends r.L{constructor(e,t){super(e),this.add(new i.w(t))}}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2855:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var r=n(6673);function i(){return e=>e.lift(new s)}class s{call(e,t){return t.subscribe(new o(e))}}class o extends r.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2023:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(6673);function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},1055:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2875),i=n(1564),s=n(5959);function o(){return new s.xQ}function a(){return e=>{return(0,i.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},3289:(e,t,n)=>{"use strict";n.d(t,{d:()=>y});var r=n(5959),i=n(8277);class s extends i.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var o=n(1098);class a extends o.v{}const l=new a(s);var c=n(7570),u=n(6673),h=n(3103);class d extends u.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(d.dispatch,this.delay,new p(e,this.destination)))}_next(e){this.scheduleMessage(h.P.createNext(e))}_error(e){this.scheduleMessage(h.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(h.P.createComplete()),this.unsubscribe()}}class p{constructor(e,t){this.notification=e,this.destination=t}}var f=n(3895),m=n(9291);class g extends r.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new _(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new f.N;if(this.isStopped||this.hasError?s=c.w.EMPTY:(this.observers.push(e),s=new m.W(this,e)),r&&e.add(e=new d(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||l).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class _{constructor(e,t){this.time=e,this.value=t}}function y(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){let u;o++,!i||a?(a=!1,i=new g(e,t,r),u=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}},6238:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(7930),i=n(6163);function s(...e){const t=e[e.length-1];return(0,i.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},4689:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends s.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},611:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var r=n(6673),i=n(8402),s=n(653);function o(e){return t=>0===e?(0,s.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.W}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},5416:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(6882);function i(e){return t=>t.lift(new s(e))}class s{constructor(e){this.notifier=e}call(e,t){const n=new o(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class o extends r.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},6599:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6673);function i(){}var s=n(5024);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(1784),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(7570);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},1098:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},1741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(8277);class i extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var s=n(1098);class o extends s.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const a=new o(i)},2709:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(e){return e in s&&(delete s[e],!0)}const a={setImmediate(e){const t=r++;return s[t]=!0,i.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var l=n(8277);class c extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}var u=n(1098);class h extends u.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const d=new h(c)},8569:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(8277);const i=new(n(1098).v)(r.o)},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2293:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(8470);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4710:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(1784);function i(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6541:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,U:()=>s});var r=n(3392);function i(...e){return s(e)}function s(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),l=n(5168),c=n(2056);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},7e3:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(6673);class i extends r.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n(6015),o=n(1784);function a(e,t,n,r,a=new i(e,n,r)){if(!a.closed)return t instanceof o.y?t.subscribe(a):(0,s.s)(t)(a)}},2609:(e,t,n)=>{"use strict";n.d(t,{m:()=>at});var r=n(1116),i=n(2852),s=n(9861),o=n(5366),a=n(1041),l=n(7064),c=(n(6136),n(7853)),u=n(7388);let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})(),d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.si,l.BQ,c.Q8,h],l.BQ,h]}),e})();var p=n(4369),f=n(9550),m=n(3169),g=n(7570),_=n(5959),y=(n(1450),n(1906),n(878),n(7254),n(5333)),v=n(83),b=n(9235),w=n(2151),C=n(3070);n(611),n(4689),n(3835),n(9996),n(6599),n(2628),n(4720);const S={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[y.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[S],imports:[[y.U8,l.Ng,l.BQ,r.ez],v.ZD,l.Ng,l.BQ]}),e})();n(6238),n(9713);let I=(()=>{class e{constructor(){this.changes=new _.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const T={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[y.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[I,T],imports:[[r.ez,p.ot,y.U8,u.rt,w.eL,l.BQ],v.ZD]}),e})();n(8378);let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.si,l.BQ],l.BQ]}),e})();n(8720);var A=n(5416);const R={provide:new o.OlP("mat-select-scroll-strategy"),deps:[y.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[R],imports:[[r.ez,y.U8,l.Ng,l.BQ],v.ZD,C.lN,l.Ng,l.BQ]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,l.BQ],l.BQ]}),e})(),D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[D,l.si,l.BQ,c.Q8],D,l.BQ]}),e})();n(2709);const L={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[y.aV],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[L],imports:[l.BQ]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[L],imports:[[r.ez,l.BQ,l.si,y.U8,F],v.ZD,l.BQ,F]}),e})();n(6673),n(7701);let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,l.BQ,m.ud,v.ZD],v.ZD,l.BQ]}),e})();var U=n(7112),B=n(6278);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.uc,l.si,l.BQ,l.us,r.ez],l.uc,l.BQ,l.us,B.t]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.uc,l.BQ],l.uc,l.BQ]}),e})();var z=n(2797),G=n(4716);n(1110);let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,l.BQ,w.eL,l.si,c.Q8,u.rt],l.BQ]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})();n(653);let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,l.BQ,$,w.eL]]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.BQ,l.si],l.BQ]}),e})();const Y=new o.OlP("mat-chips-default-options"),W={separatorKeyCodes:[b.K5]};let Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[l.rD,{provide:Y,useValue:W}],imports:[[l.BQ]]}),e})();var J=n(7307),X=n(7672);let ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,l.BQ],l.BQ]}),e})();var te=n(2935),ne=n(4311),re=n(3589);n(9764),n(8512),n(4710);let ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[v.Cl]]}),e})(),se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[ie,l.BQ],l.BQ]}),e})(),oe=(()=>{class e{constructor(){this.changes=new _.xQ}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ae={provide:oe,deps:[[new o.FiY,new o.tp0,oe]],useFactory:function(e){return e||new oe}};let le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[ae],imports:[[r.ez,l.BQ]]}),e})(),ce=(()=>{class e{constructor(){this.changes=new _.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return`0 of ${n}`;const r=e*t;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+t,n):r+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ue={provide:ce,deps:[[new o.FiY,new o.tp0,ce]],useFactory:function(e){return e||new ce}};let he=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[ue],imports:[[r.ez,p.ot,O,ne.AV,l.BQ]]}),e})();var de=n(7217),pe=n(8494);let fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})(),me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[fe,l.BQ],l.BQ]}),e})();var ge=n(1784),_e=n(8569),ye=n(2293);function ve(e){const{subscriber:t,counter:n,period:r}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var be=n(1741);function we(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ce(e,t){const n=t?"":"none";we(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Se(e,t){const n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function Ee(e,t){return t?e+" "+t:e}function Ie(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function Te(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function xe(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function ke(e,t,n){const{top:r,bottom:i,left:s,right:o}=e;return n>=r&&n<=i&&t>=s&&t<=o}function Ae(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function Re(e,t,n,r){const{top:i,right:s,bottom:o,left:a,width:l,height:c}=e,u=l*t,h=c*t;return r>i-h&&r<o+h&&n>a-u&&n<s+u}class Oe{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:xe(e)})})}handleScroll(e){const t=e.target,n=this.positions.get(t);if(!n)return null;const r=t===this._document?t.documentElement:t,i=n.scrollPosition;let s,o;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();s=e.top,o=e.left}else s=t.scrollTop,o=t.scrollLeft;const a=i.top-s,l=i.left-o;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&r.contains(n)&&Ae(e.clientRect,a,l)}),i.top=s,i.left=o,{top:a,left:l}}}function Pe(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),r=e.nodeName.toLowerCase();t.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?Fe(e,t):"input"!==r&&"select"!==r&&"textarea"!==r||Le(e,t),De("canvas",e,t,Fe),De("input, textarea, select",e,t,Le),t}function De(e,t,n,r){const i=t.querySelectorAll(e);if(i.length){const t=n.querySelectorAll(e);for(let e=0;e<i.length;e++)r(i[e],t[e])}}let Ne=0;function Le(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Ne++}`)}function Fe(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(r){}}const Me=(0,m.i$)({passive:!0}),Ve=(0,m.i$)({passive:!1});class Ue{constructor(e,t,n,r,i,s){this._config=t,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new _.xQ,this._pointerMoveSubscription=g.w.EMPTY,this._pointerUpSubscription=g.w.EMPTY,this._scrollSubscription=g.w.EMPTY,this._resizeSubscription=g.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _.xQ,this.started=new _.xQ,this.released=new _.xQ,this.ended=new _.xQ,this.entered=new _.xQ,this.exited=new _.xQ,this.dropped=new _.xQ,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),n=this._dropContainer;if(!t)return void this._endDragSequence(e);n&&(n.isDragging()||n.isReceiving())||(e.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),e.preventDefault();const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Oe(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=(0,s.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ce(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>(0,s.fI)(e)),this._handles.forEach(e=>Ce(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,s.fI)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Ve),t.addEventListener("touchstart",this._pointerDown,Me)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,s.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&qe(this._rootElement),qe(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ce(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ce(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&qe(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&qe(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ze(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,n=e.parentNode,r=this._placeholder=this._createPlaceholderElement(),i=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();n.insertBefore(i,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),Se(e,!1),this._document.body.appendChild(n.replaceChild(r,e)),this._getPreviewInsertionPoint(n,s).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const n=this.isDragging(),r=ze(t),i=!r&&0!==t.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=xe(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Se(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),i=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i,dropPoint:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i,dropPoint:r}),t.drop(this,n,this._initialIndex,this._initialContainer,s,i,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,e,t,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let r;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,i=e.viewContainer.createEmbeddedView(n,e.context);i.detectChanges(),r=Ge(i,this._document),this._previewRef=i,e.matchSize?He(r,t):r.style.transform=Be(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;r=Pe(e),He(r,e.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return we(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),Ce(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>r.classList.add(e)):r.classList.add(t)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=Te(t,"transition-property"),r=n.find(e=>"transform"===e||"all"===e);if(!r)return 0;const i=n.indexOf(r),s=Te(t,"transition-duration"),o=Te(t,"transition-delay");return Ie(s[i])+Ie(o[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(r))},r=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=Ge(this._placeholderRef,this._document)):n=Pe(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),r=e===this._rootElement?null:e,i=r?r.getBoundingClientRect():n,s=ze(t)?t.targetTouches[0]:t,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=ze(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=n.pageX-t.left,i=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=r,t.y=i,t.matrixTransform(e.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+t,a=i.bottom-(s.height-t);n=je(n,i.left+e,i.right-(s.width-e)),r=je(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>i.x?1:-1,i.x=t),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ce(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Ve),e.removeEventListener("touchstart",this._pointerDown,Me)}_applyRootElementTransform(e,t){const n=Be(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=Ee(n,this._initialTransform)}_applyPreviewTransform(e,t){var n;const r=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,i=Be(e,t);this._preview.style.transform=Ee(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(e+=i),s>0&&(e-=s)):e=0,n.height>r.height?(o>0&&(t+=o),a>0&&(t-=a)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:ze(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&Ae(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,m.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const n=this._previewContainer||"global";if("parent"===n)return e;if("global"===n){const e=this._document;return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}return(0,s.fI)(n)}}function Be(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function je(e,t,n){return Math.max(t,Math.min(n,e))}function qe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ze(e){return"t"===e.type[0]}function Ge(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const r=t.createElement("div");return n.forEach(e=>r.appendChild(e)),r}function He(e,t){e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.transform=Be(t.left,t.top)}function $e(e,t){return Math.max(0,Math.min(t,e))}class Ze{constructor(e,t,n,r,i){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _.xQ,this.entered=new _.xQ,this.exited=new _.xQ,this.dropped=new _.xQ,this.sorted=new _.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=g.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=_e.P){return(!(0,ye.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=_e.P),new ge.y(n=>(n.add(t.schedule(ve,e,{subscriber:n,counter:0,period:e})),n))}(0,be.Z).pipe((0,A.R)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode,t=this.autoScrollStep;1===this._verticalScrollDirection?Ye(e,-t):2===this._verticalScrollDirection&&Ye(e,t),1===this._horizontalScrollDirection?We(e,-t):2===this._horizontalScrollDirection&&We(e,t)})},this.element=(0,s.fI)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Oe(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(e,t,n))):i=r;const o=this._activeDraggables,a=o.indexOf(e),l=e.getPlaceholderElement();let c=o[i];if(c===e&&(c=o[i+1]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const t=c.getRootElement();t.parentElement.insertBefore(l,t),o.splice(i,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=o[0].getRootElement();t.parentNode.insertBefore(l,t),o.unshift(e)}else(0,s.fI)(this.element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,r,i,s,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:s,dropPoint:o})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=(0,s.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?Ke("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,r){if(this.sortingDisabled||!this._clientRect||!Re(this._clientRect,.05,t,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=Ke(i,t=>t.drag===e),l=i[s],c=l.clientRect,u=a>s?1:-1,h=this._getItemOffsetPx(i[a].clientRect,c,u),d=this._getSiblingOffsetPx(a,i,u),p=i.slice();!function(e,t,n){const r=$e(t,e.length-1),i=$e(n,e.length-1);if(r===i)return;const s=e[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)e[a]=e[a+o];e[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:e}),i.forEach((t,n)=>{if(p[n]===t)return;const r=t.drag===e,i=r?h:d,s=r?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=i,o?(s.style.transform=Ee(`translate3d(${Math.round(t.offset)}px, 0, 0)`,t.initialTransform),Ae(t.clientRect,0,i)):(s.style.transform=Ee(`translate3d(0, ${Math.round(t.offset)}px, 0)`,t.initialTransform),Ae(t.clientRect,i,0))}),this._previousSwap.overlaps=ke(c,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Re(s.clientRect,.05,e,t)&&([r,i]=function(e,t,n,r){const i=Qe(t,r),s=Je(t,n);let o=0,a=0;if(i){const t=e.scrollTop;1===i?t>0&&(o=1):e.scrollHeight-t>e.clientHeight&&(o=2)}if(s){const t=e.scrollLeft;1===s?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,e,t),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=Qe(a,t),i=Je(a,e),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=(0,s.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=(0,s.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:xe(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=(0,s.fI)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var t;const n=e.getRootElement();if(n){const r=null===(t=this._itemPositions.find(t=>t.drag===e))||void 0===t?void 0:t.initialTransform;n.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const r="horizontal"===this._orientation,i=t[e].clientRect,s=t[e+-1*n];let o=i[r?"width":"height"]*n;if(s){const e=r?"left":"top",t=r?"right":"bottom";-1===n?o-=s.clientRect[e]-i[t]:o+=i[e]-s.clientRect[t]}return o}_getItemOffsetPx(e,t,n){const r="horizontal"===this._orientation;let i=r?t.left-e.left:t.top-e.top;return-1===n&&(i+=r?t.width-e.width:t.height-e.height),i}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?e>=i.right:t>=i.bottom}{const i=n[0].clientRect;return r?e<=i.left:t<=i.top}}_getItemIndexFromPointerPosition(e,t,n,r){const i="horizontal"===this._orientation,s=Ke(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===e)return l.length<2;if(r){const e=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return i?t>=Math.floor(o.left)&&t<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return null!=this._clientRect&&ke(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(r=>r._canReceive(e,t,n))}_canReceive(e,t,n){if(!this._clientRect||!ke(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,n);if(!r)return!1;const i=(0,s.fI)(this.element);return r===i||i.contains(r)}_startReceiving(e,t){const n=this._activeSiblings;!n.has(e)&&t.every(e=>this.enterPredicate(e,this)||this._draggables.indexOf(e)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{Ae(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,m.kV)((0,s.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function Ke(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function Ye(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function We(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function Qe(e,t){const{top:n,bottom:r,height:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}function Je(e,t){const{left:n,right:r,width:i}=e,s=.05*i;return t>=n-s&&t<=n+s?1:t>=r-s&&t<=r+s?2:0}const Xe=(0,m.i$)({passive:!1,capture:!0});let et=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new _.xQ,this.pointerUp=new _.xQ,this.scroll=new _.xQ,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Xe)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Xe)}startDragging(e,t){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Xe}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:Xe}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){const t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b),o.LFG(r.K0))},e.\u0275prov=o.Yz7({factory:function(){return new e(o.LFG(o.R0b),o.LFG(r.K0))},token:e,providedIn:"root"}),e})();const tt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nt=(()=>{class e{constructor(e,t,n,r){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(e,t=tt){return new Ue(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Ze(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.K0),o.LFG(o.R0b),o.LFG(v.rL),o.LFG(et))},e.\u0275prov=o.Yz7({factory:function(){return new e(o.LFG(r.K0),o.LFG(o.R0b),o.LFG(v.rL),o.LFG(et))},token:e,providedIn:"root"}),e})(),rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[nt],imports:[v.ZD]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[y.U8,l.BQ,w.eL],l.BQ]}),e})();const st=[d,p.ot,f.c,me,l.XK,E,x,C.lN,k,O,P,N,M,V,U.g0,j,q,z.QW,G.T5,Z,K,Q,J.Ps,X.Cq,ee,te.Is,ne.AV,re.ZX,H,G.T5,it,de.g,x,X.Cq,U.g0,p.ot,V,J.Ps,se,he,le,q,z.QW,M,f.c,C.lN,O,k,ne.AV,P,d,re.ZX,l.XK,pe.xu,U.g0,V,J.Ps,j,q,M,me,rt,B.t];var ot=n(2693);let at=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[{provide:te.so,useValue:{}}],imports:[[r.ez,i.Bz,a.u5,a.UX,ot.JF,...st],r.ez,i.Bz,a.u5,a.UX,ot.JF,d,p.ot,f.c,me,l.XK,E,x,C.lN,k,O,P,N,M,V,U.g0,j,q,z.QW,G.T5,Z,K,Q,J.Ps,X.Cq,ee,te.Is,ne.AV,re.ZX,H,G.T5,it,de.g,x,X.Cq,U.g0,p.ot,V,J.Ps,se,he,le,q,z.QW,M,f.c,C.lN,O,k,ne.AV,P,d,re.ZX,l.XK,pe.xu,U.g0,V,J.Ps,j,q,M,me,rt,B.t]}),e})()},4:(e,t,n)=>{"use strict";var r=n(9624),i=n(5366),s=n(2609),o=n(2852);const a=[{path:"",loadChildren:()=>n.e(785).then(n.bind(n,5785)).then(e=>e.CoreModule)}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.Bz.forRoot(a)],o.Bz]}),e})();var c=n(6136),u=n(9996),h=n(3289),d=n(8494);let p=(()=>{class e{constructor(e){this.breakpointObserver=e,this.showComment=!1,this.hidden=!1,this.isHandset$=this.breakpointObserver.observe(d.u3.Handset).pipe((0,u.U)(e=>e.matches),(0,h.d)())}toggleBadgeVisibility(){this.hidden=!this.hidden,this.showComment=!this.showComment}closeSidenav(){this.showComment=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(d.Yg))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:[o.lC],styles:[""]}),e})();var f=n(9748);const m={projectId:"olami-solution",appId:"1:83397129801:web:264a1ea8e5d9ea89e7b198",storageBucket:"olami-solution.appspot.com",apiKey:"AIzaSyAo6XUFSN_O8Fms4U6U3xZB_0pmPPTH5ak",authDomain:"olami-solution.firebaseapp.com",messagingSenderId:"83397129801",measurementId:"G-Q73Z8JX5X1"};var g=n(5395),_=n(1319),y=n(3988),v=n(9074),b=n(4153),w=n(3754),C=n(6921),S=n(3764),E=n(7737),I=n(4240),T=n(7979),x=n(9255),k=n(3604),A=n(1989),R=n(7038),O=n(1103),P=n(940),D=n(7386),N=n(1170),L=n(1858),F=n(4762),M=n(4701),V=n(2920),U=n(6190),B=n(1784),j=n(9764),q=n(878),z=n(4689);function G(e){return new B.y(function(t){return{unsubscribe:(0,U.MX)(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}const H="auth";class ${constructor(e){return e}}class Z{constructor(){return(0,_.vb)(H)}}(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(H))),(0,C.E)());const K=new i.OlP("angularfire2.auth-instances");function Y(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new $(r)}}const W={provide:Z,deps:[[new i.FiY,K]]},Q={provide:$,useFactory:function(e,t){const n=(0,_.JM)(H,e,t);return n&&new $(n)},deps:[[new i.FiY,K],g.Ot]};let J=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"auth")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Q,W]}),e})();function X(e,...t){return{ngModule:J,providers:[{provide:K,useFactory:Y(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,[new i.FiY,V.nm],...t]}]}}const ee=(0,_.u3)(function(e){return new B.y(function(t){return{unsubscribe:(0,U.Aj)(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})},!0),te=((0,_.u3)(G,!0),(0,_.u3)(function(e){return G(e).pipe((0,z.w)(function(e){return e?(0,j.D)((0,U.wU)(e)):(0,q.of)(null)}))},!0),(0,_.u3)(U.iA,!0),(0,_.u3)(U.qh,!0),(0,_.u3)(U.bX,!0),(0,_.u3)(U.LG,!0),(0,_.u3)(U.S$,!0),(0,_.u3)(U.Xb,!0),(0,_.u3)(U.h8,!0),(0,_.u3)(U.Nr,!0),(0,_.u3)(U.gK,!0),(0,_.u3)(U.v0,!0));(0,_.u3)(U.wU,!0),(0,_.u3)(U.ag,!0),(0,_.u3)(U.p2,!0),(0,_.u3)(U.cx,!0),(0,_.u3)(U.uJ,!0),(0,_.u3)(U.JB,!0),(0,_.u3)(U.ZJ,!0),(0,_.u3)(U.L6,!0),(0,_.u3)(U.k9,!0),(0,_.u3)(U.WV,!0),(0,_.u3)(U.JG,!0),(0,_.u3)(U.Aj,!0),(0,_.u3)(U.MX,!0),(0,_.u3)(U.uw,!0),(0,_.u3)(U.aF,!0),(0,_.u3)(U.vY,!0),(0,_.u3)(U.bc,!0),(0,_.u3)(U.C3,!0),(0,_.u3)(U.H5,!0),(0,_.u3)(U.w$,!0),(0,_.u3)(U.LS,!0),(0,_.u3)(U.oo,!0),(0,_.u3)(U.Fb,!0),(0,_.u3)(U.XB,!0),(0,_.u3)(U.sB,!0),(0,_.u3)(U._p,!0),(0,_.u3)(U.e5,!0),(0,_.u3)(U.P6,!0),(0,_.u3)(U.$g,!0),(0,_.u3)(U.rh,!0),(0,_.u3)(U.F6,!0),(0,_.u3)(U.w7,!0),(0,_.u3)(U.qB,!0),(0,_.u3)(U.SF,!0),(0,_.u3)(U.s,!0),(0,_.u3)(U.gQ,!0),(0,_.u3)(U.Rv,!0),(0,_.u3)(U.ck,!0),(0,_.u3)(U.ic,!0),(0,_.u3)(U.Ov,!0),(0,_.u3)(U.TX,!0);class ne{constructor(e){return e}}const re="analytics";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(re))),(0,C.E)());const ie=_.nk.async,se=(0,_.u3)(M.IH,!0),oe=((0,_.u3)(M.MB,!0),(0,_.u3)(M.Kz,!0)),ae=((0,_.u3)(M.EI,!0),(0,_.u3)(M.lT,!0),(0,_.u3)(M.Xd,!0),(0,_.u3)(M.Iv,!0));(0,_.u3)(M.xP,!0);let le=(()=>{class e{constructor(e,t,n){let r;this.disposables=[],(0,L.KN)("angularfire",_.q4.full,"user-tracking"),this.initialized=t.runOutsideAngular(()=>new Promise(e=>{r=e})),ie().then(()=>{const t=n.get(ne);t?this.disposables=[ee(e).subscribe(e=>{ae(t,null==e?void 0:e.uid),r()})]:r()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(i.LFG($),i.LFG(i.R0b),i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const ce="screen_class";let ue=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const he={},de=e=>{const t=[e.screen_class,e.outlet].join("#");if(he.hasOwnProperty(t))return he[t];{const e=ue++;return he[t]=e,e}};let pe=(()=>{class e{constructor(e,t,n,r,i,s){(0,L.KN)("angularfire",_.q4.full,"screen-tracking"),ie().then(()=>{const a=s.get(ne);e&&a&&r.runOutsideAngular(()=>{this.disposable=((e,t,n)=>{return e.events.pipe((0,S.h)(e=>e instanceof o.jw)).pipe((0,E.w)(r=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,e=>e.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===i?void 0:i.toString())||"",a=e.routerState.root.children.map(e=>e).find(e=>e.outlet===r.snapshot.outlet);if(!a)return(0,b.of)(null);let l=a;for(;l.firstChild;)l=l.firstChild;const c=l.pathFromRoot.map(e=>{var t;return null===(t=e.routeConfig)||void 0===t?void 0:t.path}).filter(e=>e).join("/")||"/",u={screen_name:c,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:c,outlet:r.snapshot.outlet};t&&(u.page_title=t.getTitle());let h=a.component;if(h){if(h===o.fw){let e=r.snapshot;for(;e.firstChild;)e=e.firstChild;h=e.component}}else h=r.snapshot.component;if("string"==typeof h)return(0,b.of)(Object.assign(Object.assign({},u),{[ce]:h}));if(h){const e=n.resolveComponentFactory(h);return(0,b.of)(Object.assign(Object.assign({},u),{[ce]:e.selector}))}return(0,b.of)(null)}),(0,S.h)(e=>!!e),(0,I.U)(e=>Object.assign({firebase_screen_class:e.screen_class,firebase_screen_id:de(e)},e)),(r=e=>e.outlet,(0,A.e)(function(e,t){var n;n=i;var o=new Map,l=function(e){o.forEach(e),e(t)},c=function(e){return l(function(t){return t.error(e)})},u=0,h=!1,d=new R.Q(t,function(e){try{var i=r(e),l=o.get(i);if(!l){o.set(i,l=a?a():new k.x);var p=(m=i,g=l,(_=new T.y(function(e){u++;var t=g.subscribe(e);return function(){t.unsubscribe(),0==--u&&h&&d.unsubscribe()}})).key=m,_);if(t.next(p),s){var f=(0,R.x)(l,function(){l.complete(),null==f||f.unsubscribe()},void 0,void 0,function(){return o.delete(i)});d.add((0,x.Xf)(s(p)).subscribe(f))}}l.next(n?n(e):e)}catch(y){c(y)}var m,g,_},function(){return l(function(e){return e.complete()})},c,function(){return o.clear()},function(){return h=!0,0===u});e.subscribe(d)})),(0,O.z)(e=>e.pipe((0,P.x)((e,t)=>JSON.stringify(e)===JSON.stringify(t)),(0,D.O)(void 0),(0,N.G)(),(0,I.U)(([e,t])=>e?Object.assign({firebase_previous_class:e.screen_class,firebase_previous_screen:e.screen_name,firebase_previous_id:e.firebase_screen_id},t):t))));var r,i,s,a})(e,t,n).pipe((0,E.w)(e=>(0,F.mG)(this,void 0,void 0,function*(){return i&&(yield i.initialized),oe(a,"screen_view",e)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o.F0,8),i.LFG(r.Dx,8),i.LFG(i._Vd),i.LFG(i.R0b),i.LFG(le,8),i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const fe=new i.OlP("angularfire2.analytics-instances");function me(e){return(t,n)=>{if(!_.nk.sync())return null;const r=t.runOutsideAngular(()=>e(n));return new ne(r)}}const ge={provide:class{constructor(){return(0,_.vb)(re)}},deps:[[new i.FiY,fe]]},_e={provide:ne,useFactory:function(e,t){if(!_.nk.sync())return null;const n=(0,_.JM)(re,e,t);return n&&new ne(n)},deps:[[new i.FiY,fe],g.Ot]};let ye=(()=>{class e{constructor(e,t){(0,L.KN)("angularfire",_.q4.full,"analytics")}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(pe,8),i.LFG(le,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[_e,ge,{provide:i.ip1,useValue:_.nk.async,multi:!0}]}),e})();function ve(e,...t){return{ngModule:ye,providers:[{provide:fe,useFactory:me(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,...t]}]}}var be=n(1906),we=n(2628),Ce=n(2023),Se=n(8720),Ee=n(9829),Ie=n(7e3);class Te{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new xe(e,this.observables,this.project))}}class xe extends Ee.L{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add((0,Ie.D)(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var ke=n(6673);class Ae{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new Re(e,this.predicate))}}class Re extends ke.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}var Oe=n(6304),Pe=n(7964),De=n(1947),Ne=n(5725),Le=n(8678);const Fe="@firebase/database",Me="0.13.7";let Ve="";class Ue{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Ne.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Ne.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Be{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Ne.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const je=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ue(t)}}catch(t){}return new Be},qe=je("localStorage"),ze=je("sessionStorage"),Ge=new Le.Yd("@firebase/database"),He=function(){let e=1;return function(){return e++}}(),$e=function(e){const t=(0,Ne.dS)(e),n=new Ne.gQ;n.update(t);const r=n.digest();return Ne.US.encodeByteArray(r)},Ze=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Ze.apply(null,r):t+="object"==typeof r?(0,Ne.Wl)(r):r,t+=" "}return t};let Ke=null,Ye=!0;const We=function(e,t){(0,Ne.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ge.logLevel=Le.in.VERBOSE,Ke=Ge.log.bind(Ge),t&&ze.set("logging_enabled",!0)):"function"==typeof e?Ke=e:(Ke=null,ze.remove("logging_enabled"))},Qe=function(...e){if(!0===Ye&&(Ye=!1,null===Ke&&!0===ze.get("logging_enabled")&&We(!0)),Ke){const t=Ze.apply(null,e);Ke(t)}},Je=function(e){return function(...t){Qe(e,...t)}},Xe=function(...e){const t="FIREBASE INTERNAL ERROR: "+Ze(...e);Ge.error(t)},et=function(...e){const t=`FIREBASE FATAL ERROR: ${Ze(...e)}`;throw Ge.error(t),new Error(t)},tt=function(...e){const t="FIREBASE WARNING: "+Ze(...e);Ge.warn(t)},nt=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},rt="[MIN_NAME]",it="[MAX_NAME]",st=function(e,t){if(e===t)return 0;if(e===rt||t===it)return-1;if(t===rt||e===it)return 1;{const n=pt(e),r=pt(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},ot=function(e,t){return e===t?0:e<t?-1:1},at=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,Ne.Wl)(t))},lt=function(e){if("object"!=typeof e||null===e)return(0,Ne.Wl)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,Ne.Wl)(t[r]),n+=":",n+=lt(e[t[r]]);return n+="}",n},ct=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function ut(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ht=function(e){let t,n,r,i,s;(0,Ne.hu)(!nt(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(s=52;s;s-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();const a=o.join("");let l="";for(s=0;s<64;s+=8){let e=parseInt(a.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},dt=new RegExp("^-?(0*)\\d{1,10}$"),pt=function(e){if(dt.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ft=function(e){try{e()}catch(t){setTimeout(()=>{throw tt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},mt=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class gt{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _t{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(e)}}let yt=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const vt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bt="websocket",wt="long_polling";class Ct{constructor(e,t,n,r,i=!1,s="",o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qe.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qe.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function St(e,t,n){let r;if((0,Ne.hu)("string"==typeof t,"typeof type must == string"),(0,Ne.hu)("object"==typeof n,"typeof params must == object"),t===bt)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==wt)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return ut(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class Et{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Ne.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Ne.p$)(this.counters_)}}const It={},Tt={};function xt(e){const t=e.toString();return It[t]||(It[t]=new Et),It[t]}class kt{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ft(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class At{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Je(e),this.stats_=xt(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),St(t,wt,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new kt(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,Ne.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rt((...e)=>{const[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&vt.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){At.forceAllow_=!0}static forceDisallow(){At.forceDisallow_=!0}static isAvailable(){return!((0,Ne.Yr)()||!At.forceAllow_&&(At.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Ne.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,Ne.h$)(t),r=ct(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Ne.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Rt{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ne.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=He(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Rt.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Qe("frame writing exception"),i.stack&&Qe(i.stack),Qe(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,Ne.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Ot=null;"undefined"!=typeof MozWebSocket?Ot=MozWebSocket:"undefined"!=typeof WebSocket&&(Ot=WebSocket);let Pt=(()=>{class e{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Je(this.connId),this.stats_=xt(n),this.connURL=e.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={v:"5"};return!(0,Ne.Yr)()&&"undefined"!=typeof location&&location.hostname&&vt.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s.ac=r),i&&(s.p=i),St(e,bt,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qe.set("previous_websocket_failure",!0);try{let e;if((0,Ne.Yr)()){e={headers:{"User-Agent":`Firebase/5/${Ve}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new Ot(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==Ot&&!e.forceDisallow_}static previouslyFailed(){return qe.isInMemoryStorage||!0===qe.get("previous_websocket_failure")}markConnectionHealthy(){qe.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,Ne.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Ne.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,Ne.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ct(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),Dt=(()=>{class e{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[At,Pt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Pt&&Pt.isAvailable();let r=n&&!Pt.previouslyFailed();if(t.webSocketOnly&&(n||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pt];else{const t=this.transports_=[];for(const n of e.ALL_TRANSPORTS)n&&n.isAvailable()&&t.push(n);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class Nt{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Je("c:"+this.id+":"),this.transportManager_=new Dt(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=mt(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=at("t",e),n=at("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=at("t",e),n=at("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=at("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Xe("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xe("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),mt(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mt(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qe.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Lt{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ft{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Ne.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,Ne.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Mt extends Ft{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,Ne.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mt}getInitialEvent(e){return(0,Ne.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Vt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ut(){return new Vt("")}function Bt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function jt(e){return e.pieces_.length-e.pieceNum_}function qt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Vt(e.pieces_,t)}function zt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Gt(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Ht(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Vt(t,0)}function $t(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Vt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Vt(n,0)}function Zt(e){return e.pieceNum_>=e.pieces_.length}function Kt(e,t){const n=Bt(e),r=Bt(t);if(null===n)return t;if(n===r)return Kt(qt(e),qt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Yt(e,t){const n=Gt(e,0),r=Gt(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=st(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Wt(e,t){if(jt(e)!==jt(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Qt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(jt(e)>jt(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Jt{constructor(e,t){this.errorPrefix_=t,this.parts_=Gt(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Ne.ug)(this.parts_[n]);Xt(this)}}function Xt(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+en(e))}function en(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class tn extends Ft{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new tn}getInitialEvent(e){return(0,Ne.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const nn=1e3;let rn,sn=(()=>{class e extends Lt{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Je("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!(0,Ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tn.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Mt.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,Ne.Wl)(i)),(0,Ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ne.BH,n={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,Ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ne.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r};t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,s=>{const o=s.d,a=s.s;e.warnOnListenWarnings_(o,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",s),"ok"!==a&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,o))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,Ne.r3)(e,"w")){const n=(0,Ne.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Ne.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,Ne.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,Ne.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Ne.Wl)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Xe("Unrecognized action received from server: "+(0,Ne.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Oe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const n=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),i=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+e.nextConnectionId_++,o=t.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,i())};t.realtime_={close:c,sendRequest:function(e){(0,Ne.hu)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};const u=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,c]=yield Promise.all([t.authTokenProvider_.getToken(u),t.appCheckTokenProvider_.getToken(u)]);a?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=c&&c.token,l=new Nt(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,n,r,i,e=>{tt(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},o))}catch(Xe){t.log_("Failed to get token: "+Xe),a||(t.repoInfo_.nodeAdmin&&tt(Xe),c())}}})()}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>lt(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Vt(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Qe("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Qe("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,Ne.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ve.replace(/\./g,"-")]=1,(0,Ne.uI)()?e["framework.cordova"]=1:(0,Ne.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mt.getInstance().currentlyOnline();return(0,Ne.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class on{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new on(e,t)}}class an{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new on(rt,e),r=new on(rt,t);return 0!==this.compare(n,r)}minPost(){return on.MIN}}class ln extends an{static get __EMPTY_NODE(){return rn}static set __EMPTY_NODE(e){rn=e}compare(e,t){return st(e.name,t.name)}isDefinedOn(e){throw(0,Ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return on.MIN}maxPost(){return new on(it,rn)}makePost(e,t){return(0,Ne.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new on(e,rn)}toString(){return".key"}}const cn=new ln;class un{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let hn=(()=>{class e{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:fn.EMPTY_NODE,this.right=null!=s?s:fn.EMPTY_NODE}copy(t,n,r,i,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return fn.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fn.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class dn{copy(e,t,n,r,i){return this}insert(e,t,n){return new hn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}let pn,fn=(()=>{class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,hn.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,hn.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new un(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new un(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new un(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new un(this.root_,null,this.comparator_,!0,e)}}return e.EMPTY_NODE=new dn,e})();function mn(e,t){return st(e.name,t.name)}function gn(e,t){return st(e,t)}const _n=function(e){return"number"==typeof e?"number:"+ht(e):"string:"+e},yn=function(e){if(e.isLeafNode()){const t=e.val();(0,Ne.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Ne.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Ne.hu)(e===pn||e.isEmpty(),"priority of unexpected type.");(0,Ne.hu)(e===pn||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let vn,bn,wn,Cn=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,Ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),yn(this.priorityNode_)}static set __childrenNodeConstructor(e){vn=e}static get __childrenNodeConstructor(){return vn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Zt(t)?this:".priority"===Bt(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Bt(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,Ne.hu)(".priority"!==r||1===jt(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_n(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ht(this.value_):this.value_,this.lazyHash_=$e(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,Ne.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return(0,Ne.hu)(i>=0,"Unknown leaf type: "+n),(0,Ne.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Sn=new class extends an{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?st(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return on.MIN}maxPost(){return new on(it,new Cn("[PRIORITY-POST]",wn))}makePost(e,t){const n=bn(e);return new on(t,new Cn("[PRIORITY-POST]",n))}toString(){return".priority"}},En=Math.log(2);class In{constructor(e){this.count=parseInt(Math.log(e+1)/En,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tn=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new hn(a,o.node,hn.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new hn(a,o.node,hn.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new hn(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,hn.BLACK):(a(r,hn.BLACK),a(r,hn.RED))}return s}(new In(e.length));return new fn(r||t,s)};let xn;const kn={};class An{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Ne.hu)(kn&&Sn,"ChildrenNode.ts has not been loaded"),xn=xn||new An({".priority":kn},{".priority":Sn}),xn}get(e){const t=(0,Ne.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fn?t:null}hasIndex(e){return(0,Ne.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Ne.hu)(e!==cn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(on.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?Tn(n,e.getCompare()):kn;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new An(c,l)}addToIndexes(e,t){const n=(0,Ne.UI)(this.indexes_,(n,r)=>{const i=(0,Ne.DV)(this.indexSet_,r);if((0,Ne.hu)(i,"Missing index implementation for "+r),n===kn){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(on.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),Tn(n,i.getCompare())}return kn}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new on(e.name,r))),i.insert(e,e.node)}});return new An(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,Ne.UI)(this.indexes_,n=>{if(n===kn)return n;{const r=t.get(e.name);return r?n.remove(new on(e.name,r)):n}});return new An(n,this.indexSet_)}}let Rn,On=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&yn(this.priorityNode_),this.children_.isEmpty()&&(0,Ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rn||(Rn=new e(new fn(gn),null,An.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rn}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Rn:t}}getChild(e){const t=Bt(e);return null===t?this:this.getImmediateChild(t).getChild(qt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,Ne.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const r=new on(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Rn:this.priorityNode_;return new e(i,o,s)}}updateChild(e,t){const n=Bt(e);if(null===n)return t;{(0,Ne.hu)(".priority"!==Bt(e)||1===jt(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(qt(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Sn,(o,a)=>{n[o]=a.val(t),r++,s&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+_n(this.getPriority().val())+":"),this.forEachChild(Sn,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":$e(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new on(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new on(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new on(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,on.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,on.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pn?-1:0}withIndex(t){if(t===cn||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Sn),n=t.getIterator(Sn);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===cn?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Pn=new class extends On{constructor(){super(new fn(gn),On.EMPTY_NODE,An.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return On.EMPTY_NODE}isEmpty(){return!1}};function Dn(e,t=null){if(null===e)return On.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,Ne.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Cn(e,Dn(t));if(e instanceof Array){let n=On.EMPTY_NODE;return ut(e,(t,r)=>{if((0,Ne.r3)(e,t)&&"."!==t.substring(0,1)){const e=Dn(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Dn(t))}{const n=[];let r=!1;if(ut(e,(e,t)=>{if("."!==e.substring(0,1)){const i=Dn(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new on(e,i)))}}),0===n.length)return On.EMPTY_NODE;const i=Tn(n,mn,e=>e.name,gn);if(r){const e=Tn(n,Sn.getCompare());return new On(i,Dn(t),new An({".priority":e},{".priority":Sn}))}return new On(i,Dn(t),An.Default)}}Object.defineProperties(on,{MIN:{value:new on(rt,On.EMPTY_NODE)},MAX:{value:new on(it,Pn)}}),ln.__EMPTY_NODE=On.EMPTY_NODE,Cn.__childrenNodeConstructor=On,pn=Pn,wn=Pn,bn=Dn;class Nn extends an{constructor(e){super(),this.indexPath_=e,(0,Ne.hu)(!Zt(e)&&".priority"!==Bt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?st(e.name,t.name):i}makePost(e,t){const n=Dn(e),r=On.EMPTY_NODE.updateChild(this.indexPath_,n);return new on(t,r)}maxPost(){const e=On.EMPTY_NODE.updateChild(this.indexPath_,Pn);return new on(it,e)}toString(){return Gt(this.indexPath_,0).join("/")}}const Ln=new class extends an{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?st(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return on.MIN}maxPost(){return on.MAX}makePost(e,t){const n=Dn(e);return new on(t,n)}toString(){return".value"}},Fn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mn=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Fn.charAt(n%64),n=Math.floor(n/64);(0,Ne.hu)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Fn.charAt(t[i]);return(0,Ne.hu)(20===o.length,"nextPushId: Length should be 20."),o}}(),Vn=function(e){if("2147483647"===e)return"-";const t=pt(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let s=0;s<n.length;s++)n[s]=e.charAt(s);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return it;const i=Fn.charAt(Fn.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},Un=function(e){if("-2147483648"===e)return rt;const t=pt(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Fn.charAt(Fn.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Bn(e){return{type:"value",snapshotNode:e}}function jn(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function qn(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zn(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Gn{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){(0,Ne.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(qn(t,o)):(0,Ne.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(jn(t,n)):s.trackChildChange(zn(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Sn,(e,r)=>{t.hasChild(e)||n.trackChildChange(qn(e,r))}),t.isLeafNode()||t.forEachChild(Sn,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(zn(t,r,i))}else n.trackChildChange(jn(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?On.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Hn{constructor(e){this.indexedFilter_=new Gn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Hn.getStartPost_(e),this.endPost_=Hn.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,s){return this.matches(new on(t,n))||(n=On.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=On.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(On.EMPTY_NODE);const i=this;return t.forEachChild(Sn,(e,t)=>{i.matches(new on(e,t))||(r=r.updateImmediateChild(e,On.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class $n{constructor(e){this.rangedFilter_=new Hn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new on(t,n))||(n=On.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=On.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=On.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,s;if(r=t.withIndex(this.index_),r=r.updatePriority(On.EMPTY_NODE),this.reverse_){s=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else s=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let o=0,a=!1;for(;s.hasNext();){const t=s.getNext();!a&&i(e,t)<=0&&(a=!0),a&&o<this.limit_&&i(t,n)<=0?o++:r=r.updateImmediateChild(t.name,On.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;(0,Ne.hu)(o.numChildren()===this.limit_,"");const a=new on(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(zn(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(qn(t,e));const n=o.updateImmediateChild(t,On.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(jn(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(qn(l.name,l.node)),i.trackChildChange(jn(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,On.EMPTY_NODE)):e}}class Zn{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Sn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rt}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:it}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Sn}copy(){const e=new Zn;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Kn(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Yn(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Wn(e,t){const n=e.copy();return n.index_=t,n}function Qn(e){const t={};if(e.isDefault())return t;let n;return e.index_===Sn?n="$priority":e.index_===Ln?n="$value":e.index_===cn?n="$key":((0,Ne.hu)(e.index_ instanceof Nn,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,Ne.Wl)(n),e.startSet_&&(t.startAt=(0,Ne.Wl)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,Ne.Wl)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,Ne.Wl)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,Ne.Wl)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Jn(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Sn&&(t.i=e.index_.toString()),t}class Xn extends Lt{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Je("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Ne.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Xn.getListenId_(e,n),o={};this.listens_[s]=o;const a=Qn(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,Ne.DV)(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Xn.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Qn(e._queryParams),n=e._path.toString(),r=new Ne.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Ne.xO)(t);this.log_("Sending REST request for "+s);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+s+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=(0,Ne.cI)(o.responseText)}catch(e){tt("Failed to parse JSON response for "+s+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&tt("Got unsuccessful REST response for "+s+" Status: "+o.status),n(o.status);n=null}},o.open("GET",s,!0),o.send()})}}class er{constructor(){this.rootNode_=On.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function tr(){return{value:null,children:new Map}}function nr(e,t,n){if(Zt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Bt(t);e.children.has(r)||e.children.set(r,tr()),nr(e.children.get(r),t=qt(t),n)}}function rr(e,t){if(Zt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Sn,(t,n)=>{nr(e,new Vt(t),n)}),rr(e,t)}}if(e.children.size>0){const n=Bt(t);return t=qt(t),e.children.has(n)&&rr(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function ir(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{ir(r,new Vt(t.toString()+"/"+e),n)})}class sr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ut(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class or{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new sr(e);const n=1e4+2e4*Math.random();mt(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;ut(e,(e,r)=>{r>0&&(0,Ne.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),mt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ar=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}({});function lr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class cr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ar.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Zt(this.path)){if(null!=this.affectedTree.value)return(0,Ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Vt(e));return new cr(Ut(),t,this.revert)}}return(0,Ne.hu)(Bt(this.path)===e,"operationForChild called for unrelated child."),new cr(qt(this.path),this.affectedTree,this.revert)}}class ur{constructor(e,t){this.source=e,this.path=t,this.type=ar.LISTEN_COMPLETE}operationForChild(e){return Zt(this.path)?new ur(this.source,Ut()):new ur(this.source,qt(this.path))}}class hr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ar.OVERWRITE}operationForChild(e){return Zt(this.path)?new hr(this.source,Ut(),this.snap.getImmediateChild(e)):new hr(this.source,qt(this.path),this.snap)}}class dr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ar.MERGE}operationForChild(e){if(Zt(this.path)){const t=this.children.subtree(new Vt(e));return t.isEmpty()?null:t.value?new hr(this.source,Ut(),t.value):new dr(this.source,Ut(),t)}return(0,Ne.hu)(Bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dr(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Zt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Bt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class fr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function mr(e,t,n,r,i,s){const o=r.filter(e=>e.type===n);o.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,Ne.g5)("Should only compare child_ events.");const r=new on(t.childName,t.snapshotNode),i=new on(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),o.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function gr(e,t){return{eventCache:e,serverCache:t}}function _r(e,t,n,r){return gr(new pr(t,n,r),e.serverCache)}function yr(e,t,n,r){return gr(e.eventCache,new pr(t,n,r))}function vr(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function br(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let wr;class Cr{constructor(e,t=(()=>(wr||(wr=new fn(ot)),wr))()){this.value=e,this.children=t}static fromObject(e){let t=new Cr(null);return ut(e,(e,n)=>{t=t.set(new Vt(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ut(),value:this.value};if(Zt(e))return null;{const n=Bt(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(qt(e),t);return null!=i?{path:$t(new Vt(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Zt(e))return this;{const t=Bt(e),n=this.children.get(t);return null!==n?n.subtree(qt(e)):new Cr(null)}}set(e,t){if(Zt(e))return new Cr(t,this.children);{const n=Bt(e),r=(this.children.get(n)||new Cr(null)).set(qt(e),t),i=this.children.insert(n,r);return new Cr(this.value,i)}}remove(e){if(Zt(e))return this.children.isEmpty()?new Cr(null):new Cr(null,this.children);{const t=Bt(e),n=this.children.get(t);if(n){const r=n.remove(qt(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Cr(null):new Cr(this.value,i)}return this}}get(e){if(Zt(e))return this.value;{const t=Bt(e),n=this.children.get(t);return n?n.get(qt(e)):null}}setTree(e,t){if(Zt(e))return t;{const n=Bt(e),r=(this.children.get(n)||new Cr(null)).setTree(qt(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Cr(this.value,i)}}fold(e){return this.fold_(Ut(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_($t(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Ut(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Zt(e))return null;{const r=Bt(e),i=this.children.get(r);return i?i.findOnPath_(qt(e),$t(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ut(),t)}foreachOnPath_(e,t,n){if(Zt(e))return this;{this.value&&n(t,this.value);const r=Bt(e),i=this.children.get(r);return i?i.foreachOnPath_(qt(e),$t(t,r),n):new Cr(null)}}foreach(e){this.foreach_(Ut(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_($t(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Sr{constructor(e){this.writeTree_=e}static empty(){return new Sr(new Cr(null))}}function Er(e,t,n){if(Zt(t))return new Sr(new Cr(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Kt(i,t);return s=s.updateChild(o,n),new Sr(e.writeTree_.set(i,s))}{const r=new Cr(n),i=e.writeTree_.setTree(t,r);return new Sr(i)}}}function Ir(e,t,n){let r=e;return ut(n,(e,n)=>{r=Er(r,$t(t,e),n)}),r}function Tr(e,t){if(Zt(t))return Sr.empty();{const n=e.writeTree_.setTree(t,new Cr(null));return new Sr(n)}}function xr(e,t){return null!=kr(e,t)}function kr(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kt(n.path,t)):null}function Ar(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Sn,(e,n)=>{t.push(new on(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new on(e,n.value))}),t}function Rr(e,t){if(Zt(t))return e;{const n=kr(e,t);return new Sr(null!=n?new Cr(n):e.writeTree_.subtree(t))}}function Or(e){return e.writeTree_.isEmpty()}function Pr(e,t){return Dr(Ut(),e.writeTree_,t)}function Dr(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,Ne.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Dr($t(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild($t(e,".priority"),r)),n}}function Nr(e,t){return Hr(t,e)}function Lr(e,t){if(e.snap)return Qt(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Qt($t(e.path,n),t))return!0;return!1}function Fr(e){return e.visible}function Mr(e,t,n){let r=Sr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Qt(n,e)?(t=Kt(n,e),r=Er(r,t,s.snap)):Qt(e,n)&&(t=Kt(e,n),r=Er(r,Ut(),s.snap.getChild(t)));else{if(!s.children)throw(0,Ne.g5)("WriteRecord should have .snap or .children");if(Qt(n,e))t=Kt(n,e),r=Ir(r,t,s.children);else if(Qt(e,n))if(t=Kt(e,n),Zt(t))r=Ir(r,Ut(),s.children);else{const e=(0,Ne.DV)(s.children,Bt(t));if(e){const n=e.getChild(qt(t));r=Er(r,Ut(),n)}}}}}return r}function Vr(e,t,n,r,i){if(r||i){const s=Rr(e.visibleWrites,t);return!i&&Or(s)?n:i||null!=n||xr(s,Ut())?Pr(Mr(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Qt(e.path,t)||Qt(t,e.path))},t),n||On.EMPTY_NODE):null}{const r=kr(e.visibleWrites,t);if(null!=r)return r;{const r=Rr(e.visibleWrites,t);return Or(r)?n:null!=n||xr(r,Ut())?Pr(r,n||On.EMPTY_NODE):null}}}function Ur(e,t,n,r){return Vr(e.writeTree,e.treePath,t,n,r)}function Br(e,t){return function(e,t,n){let r=On.EMPTY_NODE;const i=kr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Sn,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=Rr(e.visibleWrites,t);return n.forEachChild(Sn,(e,t)=>{const n=Pr(Rr(i,new Vt(e)),t);r=r.updateImmediateChild(e,n)}),Ar(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Ar(Rr(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function jr(e,t,n,r){return function(e,t,n,r,i){(0,Ne.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$t(t,n);if(xr(e.visibleWrites,s))return null;{const t=Rr(e.visibleWrites,s);return Or(t)?i.getChild(n):Pr(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function qr(e,t){return function(e,t){return kr(e.visibleWrites,t)}(e.writeTree,$t(e.treePath,t))}function zr(e,t,n){return function(e,t,n,r){const i=$t(t,n),s=kr(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Pr(Rr(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Gr(e,t){return Hr($t(e.treePath,t),e.writeTree)}function Hr(e,t){return{treePath:e,writeTree:t}}class $r{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,Ne.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Ne.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,zn(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,qn(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jn(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,Ne.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,zn(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Zr=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Kr{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new pr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zr(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:br(this.viewCache_),i=function(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=Rr(e.visibleWrites,t),c=kr(l,Ut());if(null!=c)a=c;else{if(null==n)return[];a=Pr(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,i,s)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]}}function Yr(e,t,n,r,i,s){const o=t.eventCache;if(null!=qr(r,n))return t;{let a,l;if(Zt(n))if((0,Ne.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=br(t),i=Br(r,n instanceof On?n:On.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Ur(r,br(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=Bt(n);if(".priority"===c){(0,Ne.hu)(1===jt(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=jr(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=qt(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=jr(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=zr(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return _r(t,a,o.isFullyInitialized()||Zt(n),e.filter.filtersNodes())}}function Wr(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Zt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Bt(n);if(!l.isCompleteForPath(n)&&jt(n)>1)return t;const i=qt(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Zr,null)}const h=yr(t,c,l.isFullyInitialized()||Zt(n),u.filtersNodes());return Yr(e,h,n,i,new Kr(i,h,s),a)}function Qr(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Kr(i,t,s);if(Zt(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=_r(t,c,!0,e.filter.filtersNodes());else{const i=Bt(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=_r(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=qt(n),c=a.getNode().getImmediateChild(i);let h;if(Zt(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===zt(s)&&e.getChild(Ht(s)).isEmpty()?e:e.updateChild(s,r):On.EMPTY_NODE}l=c.equals(h)?t:_r(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Jr(e,t){return e.eventCache.isCompleteForChild(t)}function Xr(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function ei(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Zt(n)?r:new Cr(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=Xr(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wr(e,c,new Vt(n),l,i,s,o,a)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Xr(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wr(e,c,new Vt(n),l,i,s,o,a)}}),c}class ti{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Gn(n.getIndex()),i=(s=n).loadsAllData()?new Gn(s.getIndex()):s.hasLimit()?new $n(s):new Hn(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(On.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(On.EMPTY_NODE,a.getNode(),null),u=new pr(l,o.isFullyInitialized(),r.filtersNodes()),h=new pr(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=gr(h,u),this.eventGenerator_=new fr(this.query_)}get query(){return this.query_}}function ni(e,t){const n=br(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Zt(t)&&!n.getImmediateChild(Bt(t)).isEmpty())?n.getChild(t):null}function ri(e){return 0===e.eventRegistrations_.length}function ii(e,t,n){const r=[];if(n){(0,Ne.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function si(e,t,n,r){t.type===ar.MERGE&&null!==t.source.queryId&&((0,Ne.hu)(br(e.viewCache_),"We should always have a full cache before handling merges"),(0,Ne.hu)(vr(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function(e,t,n,r,i){const s=new $r;let o,a;if(n.type===ar.OVERWRITE){const l=n;l.source.fromUser?o=Qr(e,t,l.path,l.snap,r,i,s):((0,Ne.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Zt(l.path),o=Wr(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===ar.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach((r,l)=>{const c=$t(n,r);Jr(t,Bt(c))&&(a=Qr(e,a,c,l,i,s,o))}),r.foreach((r,l)=>{const c=$t(n,r);Jr(t,Bt(c))||(a=Qr(e,a,c,l,i,s,o))}),a}(e,t,l.path,l.children,r,i,s):((0,Ne.hu)(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=ei(e,t,l.path,l.children,r,i,a,s))}else if(n.type===ar.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=qr(r,n))return t;{const a=new Kr(r,t,i),l=t.eventCache.getNode();let c;if(Zt(n)||".priority"===Bt(n)){let n;if(t.serverCache.isFullyInitialized())n=Ur(r,br(t));else{const e=t.serverCache.getNode();(0,Ne.hu)(e instanceof On,"serverChildren would be complete if leaf node"),n=Br(r,e)}n=n,c=e.filter.updateFullNode(l,n,s)}else{const i=Bt(n);let u=zr(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,qt(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,On.EMPTY_NODE,qt(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ur(r,br(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=qr(r,Ut()),_r(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=qr(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Zt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Wr(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Zt(n)){let r=new Cr(null);return l.getNode().forEachChild(cn,(e,t)=>{r=r.set(new Vt(e),t)}),ei(e,t,n,r,i,s,a,o)}return t}{let c=new Cr(null);return r.foreach((e,t)=>{const r=$t(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),ei(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==ar.LISTEN_COMPLETE)throw(0,Ne.g5)("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache;return Yr(e,yr(t,s.getNode(),s.isFullyInitialized()||Zt(n),s.isFiltered()),n,r,Zr,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vr(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Bn(vr(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);var o,a;return o=e.processor_,(0,Ne.hu)((a=s.viewCache).eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,Ne.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,Ne.hu)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,oi(e,s.changes,s.viewCache.eventCache.getNode(),null)}function oi(e,t,n,r){return function(e,t,n,r){const i=[],s=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),mr(e,i,"child_removed",t,r,n),mr(e,i,"child_added",t,r,n),mr(e,i,"child_moved",s,r,n),mr(e,i,"child_changed",t,r,n),mr(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let ai,li;class ci{constructor(){this.views=new Map}}function ui(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,Ne.hu)(null!=s,"SyncTree gave us an op for an invalid query."),si(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(si(s,t,n,r));return i}}function hi(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let e=Ur(n,i?r:null),s=!1;e?s=!0:r instanceof On?(e=Br(n,r),s=!1):(e=On.EMPTY_NODE,s=!1);const o=gr(new pr(e,s,!1),new pr(r,i,!1));return new ti(t,o)}return s}function di(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function pi(e,t){let n=null;for(const r of e.views.values())n=n||ni(r,t);return n}function fi(e,t){return t._queryParams.loadsAllData()?_i(e):e.views.get(t._queryIdentifier)}function mi(e,t){return null!=fi(e,t)}function gi(e){return null!=_i(e)}function _i(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let yi=1;class vi{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Cr(null),this.pendingWriteTree_={visibleWrites:Sr.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function bi(e,t,n,r,i){return function(e,t,n,r,i){(0,Ne.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Er(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?xi(e,new hr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function wi(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,Ne.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Lr(t,r.path)?i=!1:Qt(r.path,t.path)&&(s=!0)),o--}return!!i&&(s?(function(e){e.visibleWrites=Mr(e.allWrites,Fr,Ut()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=Tr(e.visibleWrites,r.path):ut(r.children,t=>{e.visibleWrites=Tr(e.visibleWrites,$t(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new Cr(null);return null!=r.snap?t=t.set(Ut(),!0):ut(r.children,e=>{t=t.set(new Vt(e),!0)}),xi(e,new cr(r.path,t,n))}return[]}function Ci(e,t,n){return xi(e,new hr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Si(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||mi(o,t))){const l=function(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=gi(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(ii(c,n,r)),ri(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(ii(t,n,r)),ri(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!gi(e)&&s.push(new((0,Ne.hu)(ai,"Reference.ts has not been loaded"),ai)(t._repo,t._path)),{removed:s,events:o}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>gi(t));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&gi(t))return[_i(t)];{let e=[];return t&&(e=di(t)),ut(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Ri(e,r);e.listenProvider_.startListening(Fi(i),Oi(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Fi(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Pi(t));e.listenProvider_.stopListening(Fi(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Pi(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function Ei(e,t,n,r){const i=Di(e,r);if(null!=i){const r=Ni(i),s=r.path,o=r.queryId,a=Kt(s,t);return Li(e,s,new hr(lr(o),a,n))}return[]}function Ii(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(e,t)=>{const n=Kt(e,i);s=s||pi(t,n),o=o||gi(t)});let a,l=e.syncPointTree_.get(i);l?(o=o||gi(l),s=s||pi(l,Ut())):(l=new ci,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s?a=!0:(a=!1,s=On.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((e,t)=>{const n=pi(t,Ut());n&&(s=s.updateImmediateChild(e,n))}));const c=mi(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Pi(t);(0,Ne.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=yi++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,s){const o=hi(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Sn,(e,t)=>{r.push(jn(e,t))}),n.isFullyInitialized()&&r.push(Bn(n.getNode())),oi(e,r,n.getNode(),t)}(o,n)}(l,t,n,Nr(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=fi(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Oi(e,t),s=Ri(e,n),o=e.listenProvider_.startListening(Fi(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,Ne.hu)(!gi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!Zt(e)&&t&&gi(t))return[_i(t).query];{let e=[];return t&&(e=e.concat(di(t).map(e=>e.query))),ut(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Fi(r),Oi(e,r))}}return o}(e,t,n))}return u}function Ti(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=pi(n,Kt(e,t));if(r)return r});return Vr(r,t,i,n,!0)}function xi(e,t){return ki(t,e.syncPointTree_,null,Nr(e.pendingWriteTree_,Ut()))}function ki(e,t,n,r){if(Zt(e.path))return Ai(e,t,n,r);{const i=t.get(Ut());null==n&&null!=i&&(n=pi(i,Ut()));let s=[];const o=Bt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Gr(r,o);s=s.concat(ki(a,l,e,t))}return i&&(s=s.concat(ui(i,e,r,n))),s}}function Ai(e,t,n,r){const i=t.get(Ut());null==n&&null!=i&&(n=pi(i,Ut()));let s=[];return t.children.inorderTraversal((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Gr(r,t),l=e.operationForChild(t);l&&(s=s.concat(Ai(l,i,o,a)))}),i&&(s=s.concat(ui(i,e,r,n))),s}function Ri(e,t){const n=t.query,r=Oi(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||On.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Di(e,n);if(r){const n=Ni(r),i=n.path,s=n.queryId,o=Kt(i,t);return Li(e,i,new ur(lr(s),o))}return[]}(e,n._path,r):function(e,t){return xi(e,new ur({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Si(e,n,null,r)}}}}function Oi(e,t){const n=Pi(t);return e.queryToTagMap.get(n)}function Pi(e){return e._path.toString()+"$"+e._queryIdentifier}function Di(e,t){return e.tagToQueryMap.get(t)}function Ni(e){const t=e.indexOf("$");return(0,Ne.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Vt(e.substr(0,t))}}function Li(e,t,n){const r=e.syncPointTree_.get(t);return(0,Ne.hu)(r,"Missing sync point for query tag that we're tracking"),ui(r,n,Nr(e.pendingWriteTree_,t),null)}function Fi(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,Ne.hu)(li,"Reference.ts has not been loaded"),li)(e._repo,e._path):e}class Mi{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Mi(t)}node(){return this.node_}}class Vi{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$t(this.path_,e);return new Vi(this.syncTree_,t)}node(){return Ti(this.syncTree_,this.path_)}}const Ui=function(e,t,n){return e&&"object"==typeof e?((0,Ne.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Bi(e[".sv"],t,n):"object"==typeof e[".sv"]?ji(e[".sv"],t):void(0,Ne.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Bi=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,Ne.hu)(!1,"Unexpected server value: "+e)}},ji=function(e,t,n){e.hasOwnProperty("increment")||(0,Ne.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,Ne.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,Ne.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},qi=function(e,t,n,r){return Gi(t,new Vi(n,e),r)},zi=function(e,t,n){return Gi(e,new Mi(t),n)};function Gi(e,t,n){const r=e.getPriority().val(),i=Ui(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Ui(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new Cn(s,Dn(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new Cn(i))),r.forEachChild(Sn,(e,r)=>{const i=Gi(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))}),s}}class Hi{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function $i(e,t){let n=t instanceof Vt?t:new Vt(t),r=e,i=Bt(n);for(;null!==i;){const e=(0,Ne.DV)(r.node.children,i)||{children:{},childCount:0};r=new Hi(i,r,e),n=qt(n),i=Bt(n)}return r}function Zi(e){return e.node.value}function Ki(e,t){e.node.value=t,Xi(e)}function Yi(e){return e.node.childCount>0}function Wi(e,t){ut(e.node.children,(n,r)=>{t(new Hi(n,e,r))})}function Qi(e,t,n,r){n&&!r&&t(e),Wi(e,e=>{Qi(e,t,!0,r)}),n&&r&&t(e)}function Ji(e){return new Vt(null===e.parent?e.name:Ji(e.parent)+"/"+e.name)}function Xi(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Zi(e)&&!Yi(e)}(n),i=(0,Ne.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Xi(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Xi(e))}(e.parent,e.name,e)}const es=/[\[\].#$\/\u0000-\u001F\u007F]/,ts=/[\[\].#$\u0000-\u001F\u007F]/,ns=10485760,rs=function(e){return"string"==typeof e&&0!==e.length&&!es.test(e)},is=function(e){return"string"==typeof e&&0!==e.length&&!ts.test(e)},ss=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!nt(e)||e&&"object"==typeof e&&(0,Ne.r3)(e,".sv")},os=function(e,t,n,r){r&&void 0===t||as((0,Ne.gK)(e,"value"),t,n)},as=function(e,t,n){const r=n instanceof Vt?new Jt(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+en(r));if("function"==typeof t)throw new Error(e+"contains a function "+en(r)+" with contents = "+t.toString());if(nt(t))throw new Error(e+"contains "+t.toString()+" "+en(r));if("string"==typeof t&&t.length>ns/3&&(0,Ne.ug)(t)>ns)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+en(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(ut(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!rs(t)))throw new Error(e+" contains an invalid key ("+t+") "+en(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,Ne.ug)(t),Xt(e)}(r,t),as(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,Ne.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+en(r)+" in addition to actual children.")}},ls=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,Ne.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];ut(t,(e,t)=>{const r=new Vt(e);if(as(i,t,$t(n,r)),".priority"===zt(r)&&!ss(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Gt(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!rs(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Yt);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&Qt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},cs=function(e,t,n){if(!n||void 0!==t){if(nt(t))throw new Error((0,Ne.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ss(t))throw new Error((0,Ne.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},us=function(e,t,n,r){if(!(r&&void 0===n||rs(n)))throw new Error((0,Ne.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hs=function(e,t,n,r){if(!(r&&void 0===n||is(n)))throw new Error((0,Ne.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ds=function(e,t){if(".info"===Bt(t))throw new Error(e+" failed = Can't modify data under /.info/")},ps=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!rs(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),is(e)}(n))throw new Error((0,Ne.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fs{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ms(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Wt(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function gs(e,t,n){ms(e,n),ys(e,e=>Wt(e,t))}function _s(e,t,n){ms(e,n),ys(e,e=>Qt(e,t)||Qt(t,e))}function ys(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(vs(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function vs(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ke&&Qe("event: "+n.toString()),ft(r)}}}const bs="repo_interrupt";class ws{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fs,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tr(),this.transactionQueueTree_=new Hi,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cs(e){const t=e.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ss(e){return(t=(t={timestamp:Cs(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Es(e,t,n,r,i){e.dataUpdateCount++;const s=new Vt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=(0,Ne.UI)(n,e=>Dn(e));o=function(e,t,n,r){const i=Di(e,r);if(i){const r=Ni(i),s=r.path,o=r.queryId,a=Kt(s,t),l=Cr.fromObject(n);return Li(e,s,new dr(lr(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Dn(n);o=Ei(e.serverSyncTree_,s,t,i)}else if(r){const t=(0,Ne.UI)(n,e=>Dn(e));o=function(e,t,n){const r=Cr.fromObject(n);return xi(e,new dr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Dn(n);o=Ci(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Ms(e,s)),_s(e.eventQueue_,a,o)}function Is(e,t){Ts(e,"connected",t),!1===t&&function(e){Ds(e,"onDisconnectEvents");const t=Ss(e),n=tr();ir(e.onDisconnect_,Ut(),(r,i)=>{const s=qi(r,i,e.serverSyncTree_,t);nr(n,r,s)});let r=[];ir(n,Ut(),(t,n)=>{r=r.concat(Ci(e.serverSyncTree_,t,n));const i=qs(e,t);Ms(e,i)}),e.onDisconnect_=tr(),_s(e.eventQueue_,Ut(),r)}(e)}function Ts(e,t,n){const r=new Vt("/.info/"+t),i=Dn(n);e.infoData_.updateSnapshot(r,i);const s=Ci(e.infoSyncTree_,r,i);_s(e.eventQueue_,r,s)}function xs(e){return e.nextWriteId_++}function ks(e,t,n,r,i){Ds(e,"set",{path:t.toString(),value:n,priority:r});const s=Ss(e),o=Dn(n,r),a=Ti(e.serverSyncTree_,t),l=zi(o,a,s),c=xs(e),u=bi(e.serverSyncTree_,t,l,c,!0);ms(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(n,r)=>{const s="ok"===n;s||tt("set at "+t+" failed: "+n);const o=wi(e.serverSyncTree_,c,!s);_s(e.eventQueue_,t,o),Ns(0,i,n,r)});const h=qs(e,t);Ms(e,h),_s(e.eventQueue_,h,[])}function As(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&rr(e.onDisconnect_,t),Ns(0,n,r,i)})}function Rs(e,t,n,r){const i=Dn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,s)=>{"ok"===n&&nr(e.onDisconnect_,t,i),Ns(0,r,n,s)})}function Os(e,t,n){let r;r=".info"===Bt(t._path)?Si(e.infoSyncTree_,t,n):Si(e.serverSyncTree_,t,n),gs(e.eventQueue_,t._path,r)}function Ps(e){e.persistentConnection_&&e.persistentConnection_.interrupt(bs)}function Ds(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Qe(n,...t)}function Ns(e,t,n,r){t&&ft(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}})}function Ls(e,t,n){return Ti(e.serverSyncTree_,t,n)||On.EMPTY_NODE}function Fs(e,t=e.transactionQueueTree_){if(t||js(e,t),Zi(t)){const n=Us(e,t);(0,Ne.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=Ls(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];(0,Ne.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Kt(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,r=>{Ds(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(wi(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();js(e,$i(e.transactionQueueTree_,t)),Fs(e,e.transactionQueueTree_),_s(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)ft(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{tt("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ms(e,t)}},o)}(e,Ji(t),n)}else Yi(t)&&Wi(t,t=>{Fs(e,t)})}function Ms(e,t){const n=Vs(e,t),r=Ji(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const a=t[o],l=Kt(n,a.path);let c,u=!1;if((0,Ne.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,c=a.abortReason,i=i.concat(wi(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,c="maxretry",i=i.concat(wi(e.serverSyncTree_,a.currentWriteId,!0));else{const n=Ls(e,a.path,s);a.currentInputSnapshot=n;const r=t[o].update(n.val());if(void 0!==r){as("transaction failed: Data returned ",r,a.path);let t=Dn(r);"object"==typeof r&&null!=r&&(0,Ne.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=a.currentWriteId,l=Ss(e),c=zi(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=xs(e),s.splice(s.indexOf(o),1),i=i.concat(bi(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),i=i.concat(wi(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",i=i.concat(wi(e.serverSyncTree_,a.currentWriteId,!0))}_s(e.eventQueue_,n,i),i=[],u&&(t[o].status=2,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete&&r.push("nodata"===c?()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot):()=>t[o].onComplete(new Error(c),!1,null)))}js(e,e.transactionQueueTree_);for(let o=0;o<r.length;o++)ft(r[o]);Fs(e,e.transactionQueueTree_)}(e,Us(e,n),r),r}function Vs(e,t){let n,r=e.transactionQueueTree_;for(n=Bt(t);null!==n&&void 0===Zi(r);)r=$i(r,n),n=Bt(t=qt(t));return r}function Us(e,t){const n=[];return Bs(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Bs(e,t,n){const r=Zi(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wi(t,t=>{Bs(e,t,n)})}function js(e,t){const n=Zi(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ki(t,n.length>0?n:void 0)}Wi(t,t=>{js(e,t)})}function qs(e,t){const n=Ji(Vs(e,t)),r=$i(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{zs(e,t)}),zs(e,r),Qi(r,t=>{zs(e,t)}),n}function zs(e,t){const n=Zi(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,Ne.hu)(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):((0,Ne.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(wi(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ki(t,void 0):n.length=s+1,_s(e.eventQueue_,Ji(t),i);for(let e=0;e<r.length;e++)ft(r[e])}}const Gs=function(e,t){const n=Hs(e),r=n.namespace;return"firebase.com"===n.domain&&et(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||et("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ct(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new Vt(n.pathString)}},Hs=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class $s{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Ne.Wl)(this.snapshot.exportVal())}}class Zs{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ks{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,Ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ys{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ne.BH;return As(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ds("OnDisconnect.remove",this._path);const e=new Ne.BH;return Rs(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ds("OnDisconnect.set",this._path),os("OnDisconnect.set",e,this._path,!1);const t=new Ne.BH;return Rs(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ds("OnDisconnect.setWithPriority",this._path),os("OnDisconnect.setWithPriority",e,this._path,!1),cs("OnDisconnect.setWithPriority",t,!1);const n=new Ne.BH;return function(e,t,n,r,i){const s=Dn(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(n,r)=>{"ok"===n&&nr(e.onDisconnect_,t,s),Ns(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){ds("OnDisconnect.update",this._path),ls("OnDisconnect.update",e,this._path,!1);const t=new Ne.BH;return function(e,t,n,r){if((0,Ne.xb)(n))return Qe("onDisconnect().update() called with empty data.  Don't do anything."),void Ns(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&ut(n,(n,r)=>{const i=Dn(r);nr(e.onDisconnect_,$t(t,n),i)}),Ns(0,r,i,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ws{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Zt(this._path)?null:zt(this._path)}get ref(){return new eo(this._repo,this._path)}get _queryIdentifier(){const e=Jn(this._queryParams),t=lt(e);return"{}"===t?"default":t}get _queryObject(){return Jn(this._queryParams)}isEqual(e){if(!((e=(0,Ne.m9)(e))instanceof Ws))return!1;const t=this._repo===e._repo,n=Wt(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Qs(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Js(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===cn){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==rt)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==it)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Sn){if(null!=t&&!ss(t)||null!=n&&!ss(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Ne.hu)(e.getIndex()instanceof Nn||e.getIndex()===Ln,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xs(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class eo extends Ws{constructor(e,t){super(e,t,new Zn,!1)}get parent(){const e=Ht(this._path);return null===e?null:new eo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class to{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Vt(e),n=ro(this.ref,e);return new to(this._node.getChild(t),n,Sn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new to(n,ro(this.ref,t),Sn)))}hasChild(e){const t=new Vt(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function no(e,t){return(e=(0,Ne.m9)(e))._checkNotDeleted("ref"),void 0!==t?ro(e._root,t):e._root}function ro(e,t){var n;return null===Bt((e=(0,Ne.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hs("child","path",n,!1)):hs("child","path",t,!1),new eo(e._repo,$t(e._path,t))}function io(e,t){e=(0,Ne.m9)(e),ds("set",e._path),os("set",t,e._path,!1);const n=new Ne.BH;return ks(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function so(e){e=(0,Ne.m9)(e);const t=new Ks(()=>{}),n=new oo(t);return function(e,t,n){const r=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=Kt(e,n);r=r||pi(t,i)});let i=e.syncPointTree_.get(n);i?r=r||pi(i,Ut()):(i=new ci,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new pr(r,!0,!1):null;return vr(hi(i,t,Nr(e.pendingWriteTree_,t._path),s?o.getNode():On.EMPTY_NODE,s).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const i=Dn(r).withIndex(t._queryParams.getIndex());let s;if(Ii(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Ci(e.serverSyncTree_,t._path,i);else{const n=Oi(e.serverSyncTree_,t);s=Ei(e.serverSyncTree_,t._path,i,n)}return _s(e.eventQueue_,t._path,s),Si(e.serverSyncTree_,t,n,null,!0),i},n=>(Ds(e,"get for query "+(0,Ne.Wl)(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new to(t,new eo(e._repo,e._path),e._queryParams.getIndex()))}class oo{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new $s("value",this,new to(e.snapshotNode,new eo(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Zs(this,e,t):null}matches(e){return e instanceof oo&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ao{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Zs(this,e,t):null}createEvent(e,t){(0,Ne.hu)(null!=e.childName,"Child events should have a childName.");const n=ro(new eo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new $s(e.type,this,new to(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ao&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lo(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Os(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Ks(n,s||void 0),a="value"===t?new oo(o):new ao(t,o);return function(e,t,n){let r;r=".info"===Bt(t._path)?Ii(e.infoSyncTree_,t,n):Ii(e.serverSyncTree_,t,n),gs(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Os(e._repo,e,a)}function co(e,t,n,r){return lo(e,"value",t,n,r)}function uo(e,t,n,r){return lo(e,"child_added",t,n,r)}function ho(e,t,n,r){return lo(e,"child_changed",t,n,r)}function po(e,t,n,r){return lo(e,"child_moved",t,n,r)}function fo(e,t,n,r){return lo(e,"child_removed",t,n,r)}function mo(e,t,n){let r=null;const i=n?new Ks(n):null;"value"===t?r=new oo(i):t&&(r=new ao(t,i)),Os(e._repo,e,r)}class go{}class _o extends go{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){os("endAt",this._value,e._path,!0);const t=Yn(e._queryParams,this._value,this._key);if(Xs(t),Js(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ws(e._repo,e._path,t,e._orderByCalled)}}class yo extends go{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){os("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r,i;return e.index_===cn?("string"==typeof t&&(t=Un(t)),i=Yn(e,t,n)):(r=null==n?rt:Un(n),i=Yn(e,t,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Xs(t),Js(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ws(e._repo,e._path,t,e._orderByCalled)}}class vo extends go{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){os("startAt",this._value,e._path,!0);const t=Kn(e._queryParams,this._value,this._key);if(Xs(t),Js(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ws(e._repo,e._path,t,e._orderByCalled)}}class bo extends go{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){os("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;if(e.index_===cn)"string"==typeof t&&(t=Vn(t)),r=Kn(e,t,n);else{let i;i=null==n?it:Vn(n),r=Kn(e,t,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Xs(t),Js(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ws(e._repo,e._path,t,e._orderByCalled)}}class wo extends go{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ws(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Co extends go{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ws(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class So extends go{constructor(e){super(),this._path=e}_apply(e){Qs(e,"orderByChild");const t=new Vt(this._path);if(Zt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Nn(t),r=Wn(e._queryParams,n);return Js(r),new Ws(e._repo,e._path,r,!0)}}class Eo extends go{_apply(e){Qs(e,"orderByKey");const t=Wn(e._queryParams,cn);return Js(t),new Ws(e._repo,e._path,t,!0)}}class Io extends go{_apply(e){Qs(e,"orderByPriority");const t=Wn(e._queryParams,Sn);return Js(t),new Ws(e._repo,e._path,t,!0)}}class To extends go{_apply(e){Qs(e,"orderByValue");const t=Wn(e._queryParams,Ln);return Js(t),new Ws(e._repo,e._path,t,!0)}}class xo extends go{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(os("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _o(this._value,this._key)._apply(new vo(this._value,this._key)._apply(e))}}!function(e){(0,Ne.hu)(!ai,"__referenceConstructor has already been defined"),ai=e}(eo),function(e){(0,Ne.hu)(!li,"__referenceConstructor has already been defined"),li=e}(eo);const ko={};class Ao{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=xt(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Xn(e.repoInfo_,(t,n,r,i)=>{Es(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Is(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ne.Wl)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sn(e.repoInfo_,t,(t,n,r,i)=>{Es(e,t,n,r,i)},t=>{Is(e,t)},t=>{!function(e,t){ut(t,(t,n)=>{Ts(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t,n){const r=t.toString();return Tt[r]||(Tt[r]=new or(e.stats_,e.server_)),Tt[r]}(e.repoInfo_),e.infoData_=new er,e.infoSyncTree_=new vi({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=Ci(e.infoSyncTree_,t._path,o),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),Ts(e,"connected",!1),e.serverSyncTree_=new vi({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const s=i(n,r);_s(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eo(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=ko[t];n&&n[e.key]===e||et(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Ps(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&et("Cannot call "+e+" on a deleted database.")}}function Ro(){Dt.IS_TRANSPORT_INITIALIZED&&tt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Oo(e,t,n,r={}){(e=(0,Ne.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&et("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&et('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new yt(yt.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:(0,Ne.Sg)(r.mockUserToken,e.app.options.projectId);s=new yt(t)}!function(e,t,n,r){e.repoInfo_=new Ct(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,s)}const Po={".sv":"timestamp"};class Do{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}sn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function(e){Ve=e}(Pe.SDK_VERSION),(0,Pe._registerComponent)(new De.wA("database",(e,{instanceIdentifier:t})=>function(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||et("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=Gs(s,i),c=l.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=Gs(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=new _t(e.name,e.options,t);ps("Invalid Firebase Database URL",l),Zt(l.path)||et("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=ko[t.name];i||(i={},ko[t.name]=i);let s=i[e.toURLString()];return s&&et("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ws(e,!1,n,r),i[e.toURLString()]=s,s}(c,e,u,new gt(e.name,n));return new Ao(h,e)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Pe.registerVersion)(Fe,Me,void 0),(0,Pe.registerVersion)(Fe,Me,"esm2017");var No,Lo=function(){return(Lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Fo(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var Mo=function(e){return e.added="child_added",e.removed="child_removed",e.changed="child_changed",e.moved="child_moved",e.value="value",e}({}),Vo=Object.freeze(((No={})[Mo.added]=uo,No[Mo.removed]=fo,No[Mo.changed]=ho,No[Mo.moved]=po,No[Mo.value]=co,No));function Uo(e,t){return new B.y(function(n){var r=Vo[t](e,function(e,r){n.next({snapshot:e,prevKey:r,event:t})},n.error.bind(n));return{unsubscribe:function(){mo(e,t,r)}}}).pipe((0,we.g)(0))}function Bo(e){return null!=e&&0!==e.length||(e=[Mo.added,Mo.removed,Mo.changed,Mo.moved]),e}function jo(e,t){var n;void 0===t&&(t={});var r=e.snapshot.val();return e.snapshot.exists()?"object"!=typeof r?r:Lo(Lo({},r),t.keyField?((n={})[t.keyField]=e.snapshot.key,n):null):r}function qo(e,t){void 0===t&&(t={});var n=Bo(t.events).map(function(t){return Uo(e,t)});return be.T.apply(void 0,n)}function zo(e,t){void 0===t&&(t={});var n=Bo(t.events);return function(e){return(0,j.D)(so(e)).pipe((0,u.U)(function(e){return{snapshot:e,prevKey:null,event:Mo.value}}))}(e).pipe((0,z.w)(function(t){if(!t.snapshot.exists())return(0,q.of)([]);var r=[(0,q.of)(t)];return n.forEach(function(t){r.push(Uo(e,t))}),be.T.apply(void 0,r).pipe((0,Ce.R)(Ho,[]))}),(0,Se.x)())}function Go(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].snapshot.key===t)return r;return-1}function Ho(e,t){var n=t.snapshot,r=t.prevKey,i=t.event,s=n.key,o=Go(e,s),a=function(e,t){if(null==t)return 0;var n=Go(e,t);return-1===n?e.length:n+1}(e,r||void 0);switch(i){case Mo.value:if(t.snapshot&&t.snapshot.exists()){var l=null;t.snapshot.forEach(function(t){var n={snapshot:t,event:Mo.value,prevKey:l};return l=t.key,e=Fo(Fo([],e),[n]),!1})}return e;case Mo.added:if(o>-1){var c=e[o-1];(c&&c.snapshot.key||null)!==r&&(e=e.filter(function(e){return e.snapshot.key!==n.key})).splice(a,0,t)}else{if(null==r)return Fo([t],e);(e=e.slice()).splice(a,0,t)}return e;case Mo.removed:return e.filter(function(e){return e.snapshot.key!==n.key});case Mo.changed:return e.map(function(e){return e.snapshot.key===s?t:e});case Mo.moved:if(o>-1){var u=e.splice(o,1)[0];return(e=e.slice()).splice(a,0,u),e}return e;default:return e}}class $o{constructor(e){return e}}const Zo="database";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(Zo))),(0,C.E)());const Ko=new i.OlP("angularfire2.database-instances");function Yo(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new $o(r)}}const Wo={provide:class{constructor(){return(0,_.vb)(Zo)}},deps:[[new i.FiY,Ko]]},Qo={provide:$o,useFactory:function(e,t){const n=(0,_.JM)(Zo,e,t);return n&&new $o(n)},deps:[[new i.FiY,Ko],g.Ot]};let Jo=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"rtdb")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Qo,Wo]}),e})();function Xo(e,...t){return{ngModule:Jo,providers:[{provide:Ko,useFactory:Yo(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,[new i.FiY,Z],[new i.FiY,V.nm],...t]}]}}(0,_.u3)(Uo,!0),(0,_.u3)(qo,!0),(0,_.u3)(zo,!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),zo(e).pipe((0,u.U)(function(e){return e.map(function(e){return jo(e,t)})}))},!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),function(e,t){return function(e){return Uo(e,Mo.value).pipe((0,u.U)(function(e){var t;return e.snapshot.forEach(function(e){return t=e.key,!1}),{data:e,lastKeyToLoad:t}}))}(e).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Te(e,n))}}(t),(0,u.U)(function(e){var t=e[1],n=e[0].lastKeyToLoad,r=t.map(function(e){return e.snapshot.key});return{changes:t,lastKeyToLoad:n,loadedKeys:r}}),(n=function(e){return-1===e.loadedKeys.indexOf(e.lastKeyToLoad)},e=>e.lift(new Ae(n))),(0,u.U)(function(e){return e.changes}));var n}(e,qo(e,t).pipe((0,Ce.R)(function(e,t){return Fo(Fo([],e),[t])},[])))},!0),(0,_.u3)(function(e){return Uo(e,Mo.value)},!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),Uo(e,Mo.value).pipe((0,u.U)(function(e){return jo(e,t)}))},!0),(0,_.u3)(jo,!0),(0,_.u3)(ro,!0),(0,_.u3)(Oo,!0),(0,_.u3)(function(e,t){We(e,t)},!0),(0,_.u3)(function(e,t){return us("endAt","key",t,!0),new _o(e,t)},!0),(0,_.u3)(function(e,t){return us("endBefore","key",t,!0),new yo(e,t)},!0),(0,_.u3)(function(e,t){return us("equalTo","key",t,!0),new xo(e,t)},!0),(0,_.u3)(function(){Ro(),Pt.forceDisallow(),At.forceAllow()},!0),(0,_.u3)(function(){Ro(),At.forceDisallow()},!0),(0,_.u3)(so,!0);const ea=(0,_.u3)(function(e=(0,Pe.getApp)(),t){const n=(0,Pe._getProvider)(e,"database").getImmediate({identifier:t}),r=(0,Ne.q4)("database");if(r){const[e,t]=r.split(":");Oo(n,e,parseInt(t,10))}return n},!0);(0,_.u3)(function(e){(e=(0,Ne.m9)(e))._checkNotDeleted("goOffline"),Ps(e._repo)},!0),(0,_.u3)(function(e){var t;(e=(0,Ne.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(bs)},!0),(0,_.u3)(function(e){return{".sv":{increment:e}}},!0),(0,_.u3)(function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wo(e)},!0),(0,_.u3)(function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Co(e)},!0),(0,_.u3)(mo,!0),(0,_.u3)(uo,!0),(0,_.u3)(ho,!0),(0,_.u3)(po,!0),(0,_.u3)(fo,!0),(0,_.u3)(function(e){return e=(0,Ne.m9)(e),new Ys(e._repo,e._path)},!0),(0,_.u3)(co,!0),(0,_.u3)(function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hs("orderByChild","path",e,!1),new So(e)},!0),(0,_.u3)(function(){return new Eo},!0),(0,_.u3)(function(){return new Io},!0),(0,_.u3)(function(){return new To},!0),(0,_.u3)(function(e,t){e=(0,Ne.m9)(e),ds("push",e._path),os("push",t,e._path,!0);const n=Cs(e._repo),r=Mn(n),i=ro(e,r),s=ro(e,r);let o;return o=null!=t?io(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i},!0),(0,_.u3)(function(e,...t){let n=(0,Ne.m9)(e);for(const r of t)n=r._apply(n);return n},!0),(0,_.u3)(no,!0),(0,_.u3)(function(e,t){(e=(0,Ne.m9)(e))._checkNotDeleted("refFromURL");const n=Gs(t,e._repo.repoInfo_.nodeAdmin);ps("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||et("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),no(e,n.path.toString())},!0),(0,_.u3)(function(e){return ds("remove",e._path),io(e,null)},!0),(0,_.u3)(function(e,t,n){var r;if(e=(0,Ne.m9)(e),ds("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new Ne.BH,o=co(e,()=>{});return function(t,n,r,i,o,a){Ds(t,"transaction on "+n);const l={path:n,update:r,onComplete:(t,n,r)=>{let i=null;t?s.reject(t):(i=new to(r,new eo(e._repo,e._path),Sn),s.resolve(new Do(n,i)))},status:null,order:He(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Ls(t,n,void 0);l.currentInputSnapshot=c;const u=l.update(c.val());if(void 0===u)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{as("transaction failed: Data returned ",u,l.path),l.status=0;const e=$i(t.transactionQueueTree_,n),r=Zi(e)||[];let i;r.push(l),Ki(e,r),"object"==typeof u&&null!==u&&(0,Ne.r3)(u,".priority")?(i=(0,Ne.DV)(u,".priority"),(0,Ne.hu)(ss(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(Ti(t.serverSyncTree_,n)||On.EMPTY_NODE).getPriority().val();const s=Ss(t),o=Dn(u,i),a=zi(o,c,s);l.currentOutputSnapshotRaw=o,l.currentOutputSnapshotResolved=a,l.currentWriteId=xs(t);const h=bi(t.serverSyncTree_,n,a,l.currentWriteId,l.applyLocally);_s(t.eventQueue_,n,h),Fs(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,o,i),s.promise},!0),(0,_.u3)(function(){return Po},!0),(0,_.u3)(io,!0),(0,_.u3)(function(e,t){e=(0,Ne.m9)(e),ds("setPriority",e._path),cs("setPriority",t,!1);const n=new Ne.BH;return ks(e._repo,$t(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise},!0),(0,_.u3)(function(e,t,n){if(ds("setWithPriority",e._path),os("setWithPriority",t,e._path,!1),cs("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ne.BH;return ks(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise},!0),(0,_.u3)(function(e,t){return us("startAfter","key",t,!0),new bo(e,t)},!0),(0,_.u3)(function(e=null,t){return us("startAt","key",t,!0),new vo(e,t)},!0),(0,_.u3)(function(e,t){ls("update",t,e._path,!1);const n=new Ne.BH;return function(e,t,n,r){Ds(e,"update",{path:t.toString(),value:n});let i=!0;const s=Ss(e),o={};if(ut(n,(n,r)=>{i=!1,o[n]=qi($t(t,n),Dn(r),e.serverSyncTree_,s)}),i)Qe("update() called with empty data.  Don't do anything."),Ns(0,r,"ok",void 0);else{const i=xs(e),s=function(e,t,n,r){!function(e,t,n,r){(0,Ne.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ir(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Cr.fromObject(n);return xi(e,new dr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,o,i);ms(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const o="ok"===n;o||tt("update at "+t+" failed: "+n);const a=wi(e.serverSyncTree_,i,!o),l=a.length>0?Ms(e,t):t;_s(e.eventQueue_,l,a),Ns(0,r,n,s)}),ut(n,n=>{const r=qs(e,$t(t,n));Ms(e,r)}),_s(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise},!0);var ta=n(5930),na=n(6541),ra=n(3835),ia=n(6238),sa=n(2855),oa={includeMetadataChanges:!1};function aa(e,t){return void 0===t&&(t=oa),new B.y(function(n){return{unsubscribe:(0,ta.cf)(e,t,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function la(e){return aa(e,{includeMetadataChanges:!0})}function ca(e,t){void 0===t&&(t={});var n=e.data();return e.exists()&&"object"==typeof n&&null!==n?(t.idField&&(n[t.idField]=e.id),n):n}var ua=["added","modified","removed"];function ha(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=e.slice();return s.splice.apply(s,Fo([t,n],r)),s}var da=function(){return(0,na.z)((0,ia.O)(void 0),(0,sa.G)())},pa=function(e,t){return JSON.stringify(e.metadata)===JSON.stringify(t.metadata)};function fa(e,t){return void 0===t&&(t={}),aa(e,{includeMetadataChanges:!0}).pipe(da(),(0,u.U)(function(e){var t=e[0],n=e[1],r=n.docChanges();return t&&!pa(t,n)&&n.docs.forEach(function(e,n){var i=r.find(function(t){return(0,ta.Eo)(t.doc.ref,e.ref)});if(i){if(pa(i.doc,e))return}else{var s=null==t?void 0:t.docs.find(function(t){return(0,ta.Eo)(t.ref,e.ref)});if(s&&pa(s,e))return}r.push({oldIndex:n,newIndex:n,type:"modified",doc:e})}),r}),(n=t.events||ua,(0,ra.h)(function(e){for(var t=!1,r=0;r<e.length;r++)if(n&&n.indexOf(e[r].type)>=0){t=!0;break}return t})),(0,na.z)(da(),(0,ra.h)(function(e){return e[1].length>0||void 0===e[0]}),(0,u.U)(function(e){return e[1]})));var n}function ma(e){return aa(e,{includeMetadataChanges:!0}).pipe((0,u.U)(function(e){return e.docs}))}class ga{constructor(e){return e}}const _a="firestore";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(_a))),(0,C.E)());const ya=new i.OlP("angularfire2.firestore-instances");function va(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new ga(r)}}const ba={provide:class{constructor(){return(0,_.vb)(_a)}},deps:[[new i.FiY,ya]]},wa={provide:ga,useFactory:function(e,t){const n=(0,_.JM)(_a,e,t);return n&&new ga(n)},deps:[[new i.FiY,ya],g.Ot]};let Ca=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"fst")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[wa,ba]}),e})();function Sa(e,...t){return{ngModule:Ca,providers:[{provide:ya,useFactory:va(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,[new i.FiY,Z],[new i.FiY,V.nm],...t]}]}}(0,_.u3)(fa,!0),(0,_.u3)(ma,!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),fa(e,t).pipe((0,Ce.R)(function(e,n){return function(e,t,n){return void 0===n&&(n=ua),t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!(0,ta.Eo)(e[t.newIndex].doc.ref,t.doc.ref))return ha(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||(0,ta.Eo)(e[t.oldIndex].doc.ref,t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return ha(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&(0,ta.Eo)(e[t.oldIndex].doc.ref,t.doc.ref))return ha(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n,t.events)},[]),(0,Se.x)())},!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),fa(e,t).pipe((0,Ce.R)(function(e,t){return Fo(Fo([],e),t)},[]))},!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),ma(e).pipe((0,u.U)(function(e){return e.map(function(e){return ca(e,t)})}))},!0),(0,_.u3)(la,!0),(0,_.u3)(function(e,t){return void 0===t&&(t={}),la(e).pipe((0,u.U)(function(e){return ca(e,t)}))},!0),(0,_.u3)(ca,!0),(0,_.u3)(aa,!0),(0,_.u3)(ta.ET,!0),(0,_.u3)(ta.Ab,!0),(0,_.u3)(ta.vr,!0),(0,_.u3)(ta.Fc,!0),(0,_.u3)(ta.hJ,!0),(0,_.u3)(ta.B$,!0),(0,_.u3)(ta.at,!0),(0,_.u3)(ta.oe,!0),(0,_.u3)(ta.AK,!0),(0,_.u3)(ta.TF,!0),(0,_.u3)(ta.JU,!0),(0,_.u3)(ta.Jm,!0),(0,_.u3)(ta.ST,!0),(0,_.u3)(ta.fH,!0),(0,_.u3)(ta.Ix,!0),(0,_.u3)(ta.Wu,!0),(0,_.u3)(ta.Lx,!0),(0,_.u3)(ta.QT,!0),(0,_.u3)(ta.kl,!0),(0,_.u3)(ta.Xk,!0),(0,_.u3)(ta.PL,!0),(0,_.u3)(ta.UQ,!0),(0,_.u3)(ta.zN,!0);const Ea=(0,_.u3)(ta.ad,!0);function Ia(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Ta(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(e=>Ta(e));if("function"==typeof e||"object"==typeof e)return Ia(e,e=>Ta(e));throw new Error("Data cannot be encoded in JSON: "+e)}function xa(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(e=>xa(e)):"function"==typeof e||"object"==typeof e?Ia(e,e=>xa(e)):e}(0,_.u3)(ta.nP,!0),(0,_.u3)(ta.LV,!0),(0,_.u3)(ta.b9,!0),(0,_.u3)(ta.vh,!0),(0,_.u3)(ta.Pb,!0),(0,_.u3)(ta.L$,!0),(0,_.u3)(ta.cf,!0),(0,_.u3)(ta.sc,!0),(0,_.u3)(ta.Xo,!0),(0,_.u3)(ta.IO,!0),(0,_.u3)(ta.iE,!0),(0,_.u3)(ta.Eo,!0),(0,_.u3)(ta.i3,!0),(0,_.u3)(ta.Bt,!0),(0,_.u3)(ta.pl,!0),(0,_.u3)(ta.Ub,!0),(0,_.u3)(ta.qK,!0),(0,_.u3)(ta.TQ,!0),(0,_.u3)(ta.e0,!0),(0,_.u3)(ta.RA,!0),(0,_.u3)(ta.r7,!0),(0,_.u3)(ta.Mx,!0),(0,_.u3)(ta.ar,!0),(0,_.u3)(ta.qs,!0);const ka="functions",Aa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ra extends Ne.ZR{constructor(e,t,n){super(`functions/${e}`,t||""),this.details=n}}function Oa(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"==typeof t){if(!Aa[t])return new Ra("internal","internal");r=Aa[t],i=t}const s=e.message;"string"==typeof s&&(i=s),n=e.details,void 0!==n&&(n=xa(n))}}catch(s){}return"ok"===r?null:new Ra(r,i,n)}class Pa{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(e=>this.auth=e,()=>{}),this.messaging||t.get().then(e=>this.messaging=e,()=>{}),this.appCheck||n.get().then(e=>this.appCheck=e,()=>{})}getAuthToken(){var e=this;return(0,Oe.Z)(function*(){if(e.auth)try{const t=yield e.auth.getToken();return null==t?void 0:t.accessToken}catch(t){return}})()}getMessagingToken(){var e=this;return(0,Oe.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch(t){return}})()}getAppCheckToken(){var e=this;return(0,Oe.Z)(function*(){if(e.appCheck){const t=yield e.appCheck.getToken();return t.error?null:t.token}return null})()}getContext(){var e=this;return(0,Oe.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}function Da(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Ra("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Na{constructor(e,t,n,r,i="us-central1",s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Pa(t,n,r),this.cancelAllRequests=new Promise(e=>{this.deleteService=()=>Promise.resolve(e())});try{const e=new URL(i);this.customDomain=e.origin,this.region="us-central1"}catch(o){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function La(e,t,n,r){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,Oe.Z)(function*(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=yield r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(o){return{status:0,json:null}}let s=null;try{s=yield i.json()}catch(o){}return{status:i.status,json:s}})).apply(this,arguments)}function Ma(e,t,n,r){return Va.apply(this,arguments)}function Va(){return(Va=(0,Oe.Z)(function*(e,t,n,r){const i={data:n=Ta(n)},s={},o=yield e.contextProvider.getContext();o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=Da(r.timeout||7e4),l=yield Promise.race([La(t,i,s,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!l)throw new Ra("cancelled","Firebase Functions instance was deleted.");const c=Oa(l.status,l.json);if(c)throw c;if(!l.json)throw new Ra("internal","Response is not valid JSON object.");let u=l.json.data;if(void 0===u&&(u=l.json.result),void 0===u)throw new Ra("internal","Response is missing data field.");return{data:xa(u)}})).apply(this,arguments)}const Ua="@firebase/functions",Ba="0.8.5";function ja(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}((0,Ne.m9)(e),t,n)}function qa(e,t,n){return function(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return Ma(e,i,n,r)}(e,t,r,n||{})}((0,Ne.m9)(e),t,n)}var za;za=fetch.bind(self),(0,Pe._registerComponent)(new De.wA(ka,(e,{instanceIdentifier:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("messaging-internal"),s=e.getProvider("app-check-internal");return new Na(n,r,i,s,t,za)},"PUBLIC").setMultipleInstances(!0)),(0,Pe.registerVersion)(Ua,Ba,void 0),(0,Pe.registerVersion)(Ua,Ba,"esm2017");class Ga{constructor(e){return e}}const Ha="functions";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(Ha))),(0,C.E)());const $a=new i.OlP("angularfire2.functions-instances");function Za(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Ga(r)}}const Ka={provide:class{constructor(){return(0,_.vb)(Ha)}},deps:[[new i.FiY,$a]]},Ya={provide:Ga,useFactory:function(e,t){const n=(0,_.JM)(Ha,e,t);return n&&new Ga(n)},deps:[[new i.FiY,$a],g.Ot]};let Wa=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"fn")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Ya,Ka]}),e})();function Qa(e,...t){return{ngModule:Wa,providers:[{provide:$a,useFactory:Za(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,[new i.FiY,Z],[new i.FiY,V.nm],...t]}]}}(0,_.u3)(function(e,t,n){var r=qa(e,t,n);return function(e){return(0,j.D)(r(e)).pipe((0,u.U)(function(e){return e.data}))}},!0),(0,_.u3)(ja,!0);const Ja=(0,_.u3)(function(e=(0,Pe.getApp)(),t="us-central1"){const n=(0,Pe._getProvider)((0,Ne.m9)(e),ka).getImmediate({identifier:t}),r=(0,Ne.q4)("functions");if(r){const[e,t]=r.split(":");ja(n,e,parseInt(t,10))}return n},!0);(0,_.u3)(qa,!0),(0,_.u3)(function(e,t,n){return function(e,t,n){return r=>Ma(e,t,r,n||{})}((0,Ne.m9)(e),t,n)},!0);var Xa=n(8458);class el{constructor(e){return e}}const tl="messaging";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(tl))),(0,C.E)());const nl=new i.OlP("angularfire2.messaging-instances");function rl(e){return(t,n)=>{if(!_.n1.sync())return null;const r=t.runOutsideAngular(()=>e(n));return new el(r)}}const il={provide:class{constructor(){return(0,_.vb)(tl)}},deps:[[new i.FiY,nl]]},sl={provide:el,useFactory:function(e,t){if(!_.n1.sync())return null;const n=(0,_.JM)(tl,e,t);return n&&new el(n)},deps:[[new i.FiY,nl],g.Ot]};let ol=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"fcm")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[sl,il,{provide:i.ip1,useValue:_.n1.async,multi:!0}]}),e})();function al(e,...t){return{ngModule:ol,providers:[{provide:nl,useFactory:rl(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,...t]}]}}(0,_.u3)(Xa.pQ,!0);const ll=(0,_.u3)(Xa.KL,!0);(0,_.u3)(Xa.LP,!0),(0,_.u3)(Xa.ps,!1);var cl=n(1116),ul=n(653),hl=n(6599),dl=function(e){if("undefined"!=typeof window&&window.performance){var t=window.performance.getEntriesByName(e,"measure")||[],n="_"+e+"Start["+t.length+"]",r="_"+e+"End["+t.length+"]";return new B.y(function(t){return window.performance.mark(n),t.next(),{unsubscribe:function(){window.performance.mark(r),window.performance.measure(e,n,r)}}})}return ul.E},pl=n(966);class fl{constructor(e){return e}}const ml="performance";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(ml))),(0,C.E)());const gl=new i.OlP("angularfire2.performance-instances");function _l(e){return(t,n,r)=>{if(!(0,cl.NF)(n))return null;const i=t.runOutsideAngular(()=>e(r));return new fl(i)}}const yl={provide:class{constructor(){return(0,_.vb)(ml)}},deps:[[new i.FiY,gl]]},vl={provide:fl,useFactory:function(e,t,n){if(!(0,cl.NF)(n))return null;const r=(0,_.JM)(ml,e,t);return r&&new fl(r)},deps:[[new i.FiY,gl],g.Ot,i.Lbi]};let bl=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"perf")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[vl,yl]}),e})();function wl(e,...t){return{ngModule:bl,providers:[{provide:gl,useFactory:_l(e),multi:!0,deps:[i.R0b,i.Lbi,i.zs3,_.HU,g.z6,...t]}]}}(0,_.u3)(function(e,t,n){return function(r){return new B.y(function(i){var s=dl(e).subscribe();return r.pipe((0,hl.b)(function(e){return t(e)&&s.unsubscribe()},function(){},function(){return n&&n.orComplete&&s.unsubscribe()})).subscribe(i)})}},!0),(0,_.u3)(function(e,t,n){return function(r){return new B.y(function(i){var s;return r.pipe((0,hl.b)(function(n){t(n)?s=s||dl(e).subscribe():(s&&s.unsubscribe(),s=void 0)},function(){},function(){return n&&n.orComplete&&s&&s.unsubscribe()})).subscribe(i)})}},!0),(0,_.u3)(function(e){return function(t){return new B.y(function(n){var r=dl(e).subscribe();return t.pipe((0,hl.b)(function(){},function(){},function(){return r.unsubscribe()})).subscribe(n)})}},!0),(0,_.u3)(function(e){return function(t){return new B.y(function(n){var r=dl(e).subscribe();return t.pipe((0,hl.b)(function(){return r.unsubscribe()},function(){},function(){})).subscribe(n)})}},!0);const Cl=(0,_.u3)(pl.getPerformance,!0);(0,_.u3)(pl.initializePerformance,!0),(0,_.u3)(pl.trace,!0);var Sl=n(4543);function El(e){var t=e.remoteConfig,n=e.key,r=e.getter;return new B.y(function(e){(0,Sl.wX)(t).then(function(){var i=r.bind(t);e.next(i(t,n))})})}class Il{constructor(e){return e}}const Tl="remote-config";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(Tl))),(0,C.E)());const xl=new i.OlP("angularfire2.remote-config-instances");function kl(e){return(t,n)=>{if(!_._J.sync())return null;const r=t.runOutsideAngular(()=>e(n));return new Il(r)}}const Al={provide:class{constructor(){return(0,_.vb)(Tl)}},deps:[[new i.FiY,xl]]},Rl={provide:Il,useFactory:function(e,t){if(!_._J.sync())return null;const n=(0,_.JM)(Tl,e,t);return n&&new Il(n)},deps:[[new i.FiY,xl],g.Ot]};let Ol=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"rc")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Rl,Al,{provide:i.ip1,useValue:_._J.async,multi:!0}]}),e})();function Pl(e,...t){return{ngModule:Ol,providers:[{provide:xl,useFactory:kl(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,...t]}]}}(0,_.u3)(function(e,t){return El({remoteConfig:e,key:t,getter:Sl.NA})},!0),(0,_.u3)(function(e,t){return El({remoteConfig:e,key:t,getter:Sl.KF})},!0),(0,_.u3)(function(e,t){return El({remoteConfig:e,key:t,getter:Sl.Dx})},!0),(0,_.u3)(function(e,t){return El({remoteConfig:e,key:t,getter:Sl.Pf})},!0),(0,_.u3)(function(e){return El({remoteConfig:e,key:"",getter:Sl.go})},!0),(0,_.u3)(Sl.QZ,!0),(0,_.u3)(Sl.wX,!0),(0,_.u3)(Sl.xS,!0),(0,_.u3)(Sl.Q2,!0),(0,_.u3)(Sl.go,!0),(0,_.u3)(Sl.Pf,!0),(0,_.u3)(Sl.Dx,!0);const Dl=(0,_.u3)(Sl.sN,!0),Nl=((0,_.u3)(Sl.KF,!0),(0,_.u3)(Sl.NA,!0),(0,_.u3)(Sl.Ub,!0),"firebasestorage.googleapis.com");class Ll extends Ne.ZR{constructor(e,t){super(Fl(e),`Firebase Storage: ${t} (${Fl(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ll.prototype)}_codeEquals(e){return Fl(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Fl(e){return"storage/"+e}function Ml(){return new Ll("unknown","An unknown error occurred, please check the error payload for server response.")}function Vl(){return new Ll("canceled","User canceled the upload/download.")}function Ul(){return new Ll("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bl(e){return new Ll("invalid-argument",e)}function jl(){return new Ll("app-deleted","The Firebase app was deleted.")}function ql(e,t){return new Ll("invalid-format","String does not match format '"+e+"': "+t)}function zl(e){throw new Ll("internal-error","Internal error: "+e)}class Gl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Gl.makeFromUrl(e,t)}catch(r){return new Gl(e,"")}if(""===n.path)return n;throw new Ll("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Nl?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){let e=r[t.indices.path];e||(e=""),n=new Gl(r[t.indices.bucket],e),t.postModify(n);break}}if(null==n)throw function(e){return new Ll("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class Hl{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $l(e){return"string"==typeof e||e instanceof String}function Zl(e){return Kl()&&e instanceof Blob}function Kl(){return"undefined"!=typeof Blob}function Yl(e,t,n,r){if(r<t)throw Bl(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Bl(`Invalid value for '${e}'. Expected ${n} or less.`)}function Wl(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Ql(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}var Jl=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({});class Xl{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=Ml();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?jl():Vl():new Ll("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new ec(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(p,l())},t)}function d(){s&&clearTimeout(s)}function p(e,...t){if(c)return void d();if(e)return d(),void u.call(null,e,...t);if(l()||o)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(e){f||(f=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((e,t)=>{if(t)return void e(!1,new ec(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{null!==this.progressCallback_&&this.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Jl.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===Jl.ABORT;return void e(!1,new ec(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new ec(s,n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class ec{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function tc(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function nc(...e){const t=tc();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Kl())return new Blob(e);throw new Ll("unsupported-environment","This browser doesn't seem to support creating Blobs")}const rc="base64",ic="base64url",sc="data_url";class oc{constructor(e,t){this.data=e,this.contentType=t||null}}function ac(e,t){switch(e){case"raw":return new oc(lc(t));case rc:case ic:return new oc(cc(e,t));case sc:return new oc(function(e){const t=new uc(e);return t.base64?cc(rc,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw ql(sc,"Malformed data URL.")}return lc(t)}(t.rest)}(t),new uc(t).contentType)}throw Ml()}function lc(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cc(e,t){switch(e){case rc:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ql(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case ic:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw ql(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(i){throw ql(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class uc{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw ql(sc,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(r=n).length>=(i=";base64").length&&r.substring(r.length-i.length)===i,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class hc{constructor(e,t){let n=0,r="";Zl(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zl(this.data_)){const s=(r=e,i=t,(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new hc(s)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new hc(n,!0)}}static getBlob(...e){if(Kl()){const t=e.map(e=>e instanceof hc?e.data_:e);return new hc(nc.apply(null,t))}{const t=e.map(e=>$l(e)?ac("raw",e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new hc(r,!0)}}uploadData(){return this.data_}}function dc(e){let t;try{t=JSON.parse(e)}catch(r){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function pc(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function fc(e,t){return t}class mc{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||fc}}let gc=null;function _c(){if(gc)return gc;const e=[];e.push(new mc("bucket")),e.push(new mc("generation")),e.push(new mc("metageneration")),e.push(new mc("name","fullPath",!0));const t=new mc("name");t.xform=function(e,t){return function(e){return!$l(e)||e.length<2?e:pc(e)}(t)},e.push(t);const n=new mc("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new mc("timeCreated")),e.push(new mc("updated")),e.push(new mc("md5Hash",null,!0)),e.push(new mc("cacheControl",null,!0)),e.push(new mc("contentDisposition",null,!0)),e.push(new mc("contentEncoding",null,!0)),e.push(new mc("contentLanguage",null,!0)),e.push(new mc("contentType",null,!0)),e.push(new mc("metadata","customMetadata",!0)),gc=e,gc}function yc(e,t,n){const r=dc(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=new Gl(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function vc(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class bc{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wc(e){if(!e)throw Ml()}function Cc(e,t){return function(n,r){const i=yc(e,r,t);return wc(null!==i),i}}function Sc(e){return function(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Ll("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ll("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Ll("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Ll("unauthorized","User does not have permission to access '"+e.path+"'."):n,r.serverResponse=n.serverResponse,r}}function Ec(e){const t=Sc(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=new Ll("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Ic(e,t,n){const r=Wl(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new bc(r,"GET",Cc(e,n),i);return s.errorHandler=Ec(t),s}function Tc(e,t,n){const r=Wl(t.fullServerUrl(),e.host,e._protocol)+"?alt=media",i=new bc(r,"GET",(e,t)=>t,e.maxOperationRetryTime);return i.errorHandler=Ec(t),void 0!==n&&(i.headers.Range=`bytes=0-${n}`,i.successCodes=[200,206]),i}function xc(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}function kc(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=xc(t,r,i),c=vc(l,n),u=hc.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw Ul();const h={name:l.fullPath},d=Wl(s,e.host,e._protocol),p=e.maxUploadRetryTime,f=new bc(d,"POST",Cc(e,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=Sc(t),f}class Ac{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Rc(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){wc(!1)}return wc(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Oc=262144,Pc="running",Dc="paused",Nc="success",Lc="canceled",Fc="error";function Mc(e){switch(e){case"running":case"pausing":case"canceling":return Pc;case"paused":return Dc;case"success":return Nc;case"canceled":return Lc;case"error":default:return Fc}}class Vc{constructor(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function Uc(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class Bc{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class jc extends Bc{initXhr(){this.xhr_.responseType="text"}}function qc(){return new jc}class zc extends Bc{initXhr(){this.xhr_.responseType="arraybuffer"}}function Gc(){return new zc}class Hc extends Bc{initXhr(){this.xhr_.responseType="blob"}}function $c(){return new Hc}class Zc{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=_c(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=xc(t,r,i),a={name:o.fullPath},l=Wl(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=vc(o,n),h=new bc(l,"POST",function(e){let t;Rc(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){wc(!1)}return wc($l(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Sc(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,qc,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=new bc(n,"POST",function(e){const t=Rc(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){wc(!1)}n||wc(!1);const i=Number(n);return wc(!isNaN(i)),new Ac(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Sc(t),i}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,qc,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Oc*this._chunkMultiplier,t=new Ac(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let s;try{s=function(e,t,n,r,i,s,o,a){const l=new Ac(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ll("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=r.slice(h,h+u);if(null===p)throw Ul();const f=new bc(n,"POST",function(e,n){const i=Rc(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?Cc(t,s)(e,n):null,new Ac(o,a,"final"===i,c)},t.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=Sc(e),f}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,qc,r,i);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Oc*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=Ic(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,qc,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=kc(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,qc,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Vl(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Mc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new Vc(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Mc(this._state)){case Nc:Uc(this._resolve.bind(null,this.snapshot))();break;case Lc:case Fc:Uc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Mc(this._state)){case Pc:case Dc:e.next&&Uc(e.next.bind(e,this.snapshot))();break;case Nc:e.complete&&Uc(e.complete.bind(e))();break;case Lc:case Fc:e.error&&Uc(e.error.bind(e,this._error))();break;default:e.error&&Uc(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Kc{constructor(e,t){this._service=e,this._location=t instanceof Gl?t:Gl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Kc(e,t)}get root(){const e=new Gl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pc(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Gl(this._location.bucket,e);return new Kc(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Ll("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Yc(e,t,n){e._throwIfRoot("uploadBytes");const r=kc(e.storage,e._location,_c(),new hc(t,!0),n);return e.storage.makeRequestWithTokens(r,qc).then(t=>({metadata:t,ref:e}))}function Wc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,Oe.Z)(function*(e,t,n){const r={pageToken:n},i=yield Jc(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield Wc(e,t,i.nextPageToken))})).apply(this,arguments)}function Jc(e,t){null!=t&&"number"==typeof t.maxResults&&Yl("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=function(e,t,n,r,i){const s={};s.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=Wl(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,l=new bc(o,"GET",function(e,t){return function(n,r){const i=function(e,t,n){const r=dc(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new Gl(t,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new Gl(t,i.name));r.items.push(n)}return r}(e,t,r)}(e,t,r);return wc(null!==i),i}}(e,t.bucket),a);return l.urlParams=s,l.errorHandler=Sc(t),l}(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,qc)}function Xc(e,t){if(e instanceof tu){const n=e;if(null==n._bucket)throw new Ll("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new Kc(n,n._bucket);return null!=t?Xc(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Gl(e._location.bucket,n);return new Kc(e.storage,r)}(e,t):e}function eu(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:Gl.makeFromBucketSpec(n,e)}class tu{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Nl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Gl.makeFromBucketSpec(r,this._host):eu(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gl.makeFromBucketSpec(this._url,e):eu(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yl("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yl("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Oe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const e=yield t.getToken();if(null!==e)return e.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Oe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kc(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new Hl(jl());{const i=function(e,t,n,r,i,s){const o=Ql(e.urlParams),a=e.url+o,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Xl(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(e,t){var n=this;return(0,Oe.Z)(function*(){const[r,i]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(e,t,r,i).getPromise()})()}}const nu="@firebase/storage",ru="0.9.10",iu="storage";function su(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:(0,Ne.Sg)(i,e.app.options.projectId))}(e,t,n,r)}(0,Pe._registerComponent)(new De.wA(iu,function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new tu(n,r,i,t,Pe.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Pe.registerVersion)(nu,ru,""),(0,Pe.registerVersion)(nu,ru,"esm2017");var ou=n(7701);function au(e){return new B.y(function(t){var n=function(e){return t.next(e)};n(e.snapshot);var r=e.on("state_changed",n);return e.then(function(e){n(e),setTimeout(function(){return t.complete()},0)},function(r){n(e.snapshot),setTimeout(function(){return function(e){return t.error(e)}(r)},0)}),function(){r()}}).pipe((0,ou.b)(0))}class lu{constructor(e){return e}}const cu="storage";(0,y.H)(0,300).pipe((0,w.b)(()=>(0,v.D)((0,_.vb)(cu))),(0,C.E)());const uu=new i.OlP("angularfire2.storage-instances");function hu(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new lu(r)}}const du={provide:class{constructor(){return(0,_.vb)(cu)}},deps:[[new i.FiY,uu]]},pu={provide:lu,useFactory:function(e,t){const n=(0,_.JM)(cu,e,t);return n&&new lu(n)},deps:[[new i.FiY,uu],g.Ot]};let fu=(()=>{class e{constructor(){(0,L.KN)("angularfire",_.q4.full,"gcs")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[pu,du]}),e})();function mu(e,...t){return{ngModule:fu,providers:[{provide:uu,useFactory:hu(e),multi:!0,deps:[i.R0b,i.zs3,_.HU,g.z6,[new i.FiY,Z],[new i.FiY,V.nm],...t]}]}}(0,_.u3)(au,!0),(0,_.u3)(function(e){return au(e).pipe((0,u.U)(function(e){return{progress:e.bytesTransferred/e.totalBytes*100,snapshot:e}}))},!0),(0,_.u3)(su,!0),(0,_.u3)(function(e){return function(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Wl(t.fullServerUrl(),e.host,e._protocol),r=new bc(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Ec(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,qc)}(e=(0,Ne.m9)(e))},!0),(0,_.u3)(function(e,t){return function(e,t){e._throwIfRoot("getBlob");const n=Tc(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,$c).then(e=>void 0!==t?e.slice(0,t):e)}(e=(0,Ne.m9)(e),t)},!0),(0,_.u3)(function(e,t){return function(e,t){e._throwIfRoot("getBytes");const n=Tc(e.storage,e._location,t);return e.storage.makeRequestWithTokens(n,Gc).then(e=>void 0!==t?e.slice(0,t):e)}(e=(0,Ne.m9)(e),t)},!0),(0,_.u3)(function(e){return function(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Wl(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new bc(r,"GET",function(e,t){return function(n,r){const i=yc(e,r,t);return wc(null!==i),function(e,t,n,r){const i=dc(t);if(null===i)return null;if(!$l(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(t=>{const i=e.fullPath;return Wl("/b/"+o(e.bucket)+"/o/"+o(i),n,r)+Ql({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}(e,n),i);return s.errorHandler=Ec(t),s}(e.storage,e._location,_c());return e.storage.makeRequestWithTokens(t,qc).then(e=>{if(null===e)throw new Ll("no-download-url","The given file does not have any download URLs.");return e})}(e=(0,Ne.m9)(e))},!0),(0,_.u3)(function(e){return function(e){e._throwIfRoot("getMetadata");const t=Ic(e.storage,e._location,_c());return e.storage.makeRequestWithTokens(t,qc)}(e=(0,Ne.m9)(e))},!0);const gu=(0,_.u3)(function(e=(0,Pe.getApp)(),t){e=(0,Ne.m9)(e);const n=(0,Pe._getProvider)(e,iu).getImmediate({identifier:t}),r=(0,Ne.q4)("storage");if(r){const[e,t]=r.split(":");su(n,e,parseInt(t,10))}return n},!0);(0,_.u3)(function(e,t){throw new Error("getStream() is only supported by NodeJS builds")},!0),(0,_.u3)(function(e,t){return Jc(e=(0,Ne.m9)(e),t)},!0),(0,_.u3)(function(e){return function(e){const t={prefixes:[],items:[]};return Wc(e,t).then(()=>t)}(e=(0,Ne.m9)(e))},!0),(0,_.u3)(function(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof tu)return new Kc(e,t);throw Bl("To use ref(service, url), the first argument must be a Storage instance.")}return Xc(e,t)}(e=(0,Ne.m9)(e),t)},!0),(0,_.u3)(function(e,t){return function(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Wl(t.fullServerUrl(),e.host,e._protocol),s=vc(n,r),o=e.maxOperationRetryTime,a=new bc(i,"PATCH",Cc(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Ec(t),a}(e.storage,e._location,t,_c());return e.storage.makeRequestWithTokens(n,qc)}(e=(0,Ne.m9)(e),t)},!0),(0,_.u3)(function(e,t,n){return Yc(e=(0,Ne.m9)(e),t,n)},!0),(0,_.u3)(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Zc(e,new hc(t),n)}(e=(0,Ne.m9)(e),t,n)},!0),(0,_.u3)(function(e,t,n,r){return function(e,t,n="raw",r){e._throwIfRoot("uploadString");const i=ac(n,t),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),Yc(e,i.data,s)}(e=(0,Ne.m9)(e),t,n,r)},!0);var _u=n(4127);let yu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[p]}),e.\u0275inj=i.cJS({providers:[pe,le],imports:[[r.b2,s.m,c.PW,l,f.hO.initializeApp(m),_u.yb,(0,g.hX)(()=>(0,g.ZF)(m)),ve(()=>se()),X(()=>te()),Xo(()=>ea()),Sa(()=>Ea()),Qa(()=>Ja()),al(()=>ll()),wl(()=>Cl()),Pl(()=>Dl()),mu(()=>gu())]]}),e})();(0,i.G48)(),r.q6().bootstrapModule(yu).catch(e=>console.error(e))},9163:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9163,e.exports=t},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,_T:()=>s,mG:()=>o,Jh:()=>a,XA:()=>l,CR:()=>c,ev:()=>u,qq:()=>h,FC:()=>d,KL:()=>p});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function d(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof h?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=l(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}}},e=>{"use strict";e(e.s=4)}]);